<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.0" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.3" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://mister-hope.github.io/java/database/03_JDBC.html"><meta property="og:site_name" content="Index Team"><meta property="og:title" content="03. JDBC"><meta property="og:description" content="JDBC"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-02-16T02:17:19.000Z"><meta property="article:author" content="ç©ºçµ"><meta property="article:modified_time" content="2024-02-16T02:17:19.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"03. JDBC","image":[""],"dateModified":"2024-02-16T02:17:19.000Z","author":[{"@type":"Person","name":"ç©ºçµ"}]}</script><title>03. JDBC | Index Team</title><meta name="description" content="JDBC">
    <link rel="preload" href="/assets/style-CXukzDwj.css" as="style"><link rel="stylesheet" href="/assets/style-CXukzDwj.css">
    <link rel="modulepreload" href="/assets/app-C2Ya8jiw.js"><link rel="modulepreload" href="/assets/03_JDBC.html-CN9irKX2.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js"><link rel="modulepreload" href="/assets/03_JDBC.html-BwKxt2f2.js">
    <link rel="prefetch" href="/assets/index.html-W8bxZYCI.js" as="script"><link rel="prefetch" href="/assets/intro.html-CkD8PWZu.js" as="script"><link rel="prefetch" href="/assets/00_DataBaseæ€ç»´å¯¼å›¾.html-DeMlQ0Mi.js" as="script"><link rel="prefetch" href="/assets/01_HTTP_Tomcat.html-C2CTLvZt.js" as="script"><link rel="prefetch" href="/assets/02_SQL.html-Bkjo21wS.js" as="script"><link rel="prefetch" href="/assets/04_è¿æ¥æ± .html-8fpg78gk.js" as="script"><link rel="prefetch" href="/assets/05_ç´¢å¼•.html-4tQ0Qlox.js" as="script"><link rel="prefetch" href="/assets/06_Mybatis.html-Dtoztgp_.js" as="script"><link rel="prefetch" href="/assets/00_JavaSEæ€ç»´å¯¼å›¾.html-HVcvSpdh.js" as="script"><link rel="prefetch" href="/assets/01_JavaåŸºæœ¬ä»‹ç».html-DbHfHBQw.js" as="script"><link rel="prefetch" href="/assets/02_JavaåŸºç¡€è¯­æ³•.html-CdDVJ2BT.js" as="script"><link rel="prefetch" href="/assets/03_æ–¹æ³•.html-RERjD1Ik.js" as="script"><link rel="prefetch" href="/assets/04_æ•°ç»„.html-C-Nmv9AV.js" as="script"><link rel="prefetch" href="/assets/05_è¡¥å……é€’å½’.html-BJN8Je_y.js" as="script"><link rel="prefetch" href="/assets/06_é¢å‘å¯¹è±¡åŸºç¡€.html-0YXU3XQ3.js" as="script"><link rel="prefetch" href="/assets/07_é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹å¾.html-Co0YXxd5.js" as="script"><link rel="prefetch" href="/assets/08_é¢å‘å¯¹è±¡è®¾è®¡.html-BT-qfWeX.js" as="script"><link rel="prefetch" href="/assets/09_Object.html-WZFgy53g.js" as="script"><link rel="prefetch" href="/assets/10_è¡¥å……å…¶ä»–å¸¸ç”¨ç±».html-Ntu_aRv8.js" as="script"><link rel="prefetch" href="/assets/11_String.html-1PCGYGNj.js" as="script"><link rel="prefetch" href="/assets/12_å¼‚å¸¸.html-D7oRSttw.js" as="script"><link rel="prefetch" href="/assets/13_File.html-BbekeoYk.js" as="script"><link rel="prefetch" href="/assets/14_IO.html-B9dMwVK1.js" as="script"><link rel="prefetch" href="/assets/15_å¤šçº¿ç¨‹åŸºç¡€.html-DFhb--dl.js" as="script"><link rel="prefetch" href="/assets/16_ç½‘ç»œç¼–ç¨‹.html-CsA-5Sy_.js" as="script"><link rel="prefetch" href="/assets/17_åå°„.html-DDWa1bU3.js" as="script"><link rel="prefetch" href="/assets/18_æ³¨è§£.html-DCFc8wme.js" as="script"><link rel="prefetch" href="/assets/19_GC.html-B3BObRqr.js" as="script"><link rel="prefetch" href="/assets/20_æ³›å‹.html-BiDOdSwn.js" as="script"><link rel="prefetch" href="/assets/21_Collection.html-BNW6UMF3.js" as="script"><link rel="prefetch" href="/assets/22_Map.html-Bx64mCvU.js" as="script"><link rel="prefetch" href="/assets/23_Stream.html-NEnkdRPW.js" as="script"><link rel="prefetch" href="/assets/Content00-Springæ€ç»´å¯¼å›¾.html-CyUEH4eO.js" as="script"><link rel="prefetch" href="/assets/Content01-Servlet.html-pZLOujOR.js" as="script"><link rel="prefetch" href="/assets/Content02-Request_Response.html-B2QFRGzV.js" as="script"><link rel="prefetch" href="/assets/Content03-Conversation.html-CzW-inkM.js" as="script"><link rel="prefetch" href="/assets/00.MicroServiceæ€ç»´å¯¼å›¾.html-B8G1L1_s.js" as="script"><link rel="prefetch" href="/assets/01_Git.html-C3GR4zbB.js" as="script"><link rel="prefetch" href="/assets/404.html-DHmRyZon.js" as="script"><link rel="prefetch" href="/assets/index.html-Cz2Dg9wp.js" as="script"><link rel="prefetch" href="/assets/index.html-92dJkgHt.js" as="script"><link rel="prefetch" href="/assets/index.html-DEMyWGYN.js" as="script"><link rel="prefetch" href="/assets/index.html-CPGGwuaZ.js" as="script"><link rel="prefetch" href="/assets/index.html-BH2UyIr7.js" as="script"><link rel="prefetch" href="/assets/index.html-CjfXLFQn.js" as="script"><link rel="prefetch" href="/assets/index.html-C8U81z81.js" as="script"><link rel="prefetch" href="/assets/index.html-BndlxUH1.js" as="script"><link rel="prefetch" href="/assets/index.html-DM8m46xI.js" as="script"><link rel="prefetch" href="/assets/index.html-R71bDBhL.js" as="script"><link rel="prefetch" href="/assets/index.html-DX7_7lX3.js" as="script"><link rel="prefetch" href="/assets/index.html-DoGO4bcQ.js" as="script"><link rel="prefetch" href="/assets/index.html-E-cCFwO7.js" as="script"><link rel="prefetch" href="/assets/intro.html-CDWIlfrN.js" as="script"><link rel="prefetch" href="/assets/00_DataBaseæ€ç»´å¯¼å›¾.html-D5GRrCbX.js" as="script"><link rel="prefetch" href="/assets/01_HTTP_Tomcat.html-mcyidzIj.js" as="script"><link rel="prefetch" href="/assets/02_SQL.html-DUkegQ_M.js" as="script"><link rel="prefetch" href="/assets/04_è¿æ¥æ± .html-BNwthumj.js" as="script"><link rel="prefetch" href="/assets/05_ç´¢å¼•.html-Ct3V60iZ.js" as="script"><link rel="prefetch" href="/assets/06_Mybatis.html-BuYl_S8t.js" as="script"><link rel="prefetch" href="/assets/00_JavaSEæ€ç»´å¯¼å›¾.html-BWkMctvx.js" as="script"><link rel="prefetch" href="/assets/01_JavaåŸºæœ¬ä»‹ç».html-BOxY9Xu9.js" as="script"><link rel="prefetch" href="/assets/02_JavaåŸºç¡€è¯­æ³•.html-D-GtglTG.js" as="script"><link rel="prefetch" href="/assets/03_æ–¹æ³•.html-BDXu_Oku.js" as="script"><link rel="prefetch" href="/assets/04_æ•°ç»„.html-WpcNnuYL.js" as="script"><link rel="prefetch" href="/assets/05_è¡¥å……é€’å½’.html-BfCyXJKk.js" as="script"><link rel="prefetch" href="/assets/06_é¢å‘å¯¹è±¡åŸºç¡€.html-Cr0snmR2.js" as="script"><link rel="prefetch" href="/assets/07_é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹å¾.html-BPxic0Vv.js" as="script"><link rel="prefetch" href="/assets/08_é¢å‘å¯¹è±¡è®¾è®¡.html-DITmVCVs.js" as="script"><link rel="prefetch" href="/assets/09_Object.html-Ddb3o4uM.js" as="script"><link rel="prefetch" href="/assets/10_è¡¥å……å…¶ä»–å¸¸ç”¨ç±».html-B2BZDQZa.js" as="script"><link rel="prefetch" href="/assets/11_String.html-BVsRJNWJ.js" as="script"><link rel="prefetch" href="/assets/12_å¼‚å¸¸.html-Cejs274T.js" as="script"><link rel="prefetch" href="/assets/13_File.html-BIUGMku6.js" as="script"><link rel="prefetch" href="/assets/14_IO.html-DCmOEchM.js" as="script"><link rel="prefetch" href="/assets/15_å¤šçº¿ç¨‹åŸºç¡€.html-DPo_leL0.js" as="script"><link rel="prefetch" href="/assets/16_ç½‘ç»œç¼–ç¨‹.html-D3-cs-Fi.js" as="script"><link rel="prefetch" href="/assets/17_åå°„.html-yFX2X2Qg.js" as="script"><link rel="prefetch" href="/assets/18_æ³¨è§£.html-G3AT4Mi9.js" as="script"><link rel="prefetch" href="/assets/19_GC.html-BQLepb4p.js" as="script"><link rel="prefetch" href="/assets/20_æ³›å‹.html-Dei1Sst8.js" as="script"><link rel="prefetch" href="/assets/21_Collection.html-COlsMF3C.js" as="script"><link rel="prefetch" href="/assets/22_Map.html-_HVdvtCl.js" as="script"><link rel="prefetch" href="/assets/23_Stream.html-BxllXg0J.js" as="script"><link rel="prefetch" href="/assets/Content00-Springæ€ç»´å¯¼å›¾.html-C1h8Vjuk.js" as="script"><link rel="prefetch" href="/assets/Content01-Servlet.html-DaprMYGz.js" as="script"><link rel="prefetch" href="/assets/Content02-Request_Response.html-DzOj4d7V.js" as="script"><link rel="prefetch" href="/assets/Content03-Conversation.html-2uOU-2co.js" as="script"><link rel="prefetch" href="/assets/00.MicroServiceæ€ç»´å¯¼å›¾.html-CRqjw2ZO.js" as="script"><link rel="prefetch" href="/assets/01_Git.html-BcXRI9NX.js" as="script"><link rel="prefetch" href="/assets/404.html-BIdhA85E.js" as="script"><link rel="prefetch" href="/assets/index.html-BEqQmtB4.js" as="script"><link rel="prefetch" href="/assets/index.html-CopTnDu7.js" as="script"><link rel="prefetch" href="/assets/index.html-DKiSDbJf.js" as="script"><link rel="prefetch" href="/assets/index.html-CRjHiuWE.js" as="script"><link rel="prefetch" href="/assets/index.html-q-09k_Gw.js" as="script"><link rel="prefetch" href="/assets/index.html-C9CwvWPJ.js" as="script"><link rel="prefetch" href="/assets/index.html-yLBZb3j4.js" as="script"><link rel="prefetch" href="/assets/index.html-CrXMFufW.js" as="script"><link rel="prefetch" href="/assets/index.html-FPQBMaq9.js" as="script"><link rel="prefetch" href="/assets/index.html-DEPb4UC_.js" as="script"><link rel="prefetch" href="/assets/index.html-BvKiIDAy.js" as="script"><link rel="prefetch" href="/assets/index.html-C8jLxKY0.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-SzV8tJDW.js" as="script"><link rel="prefetch" href="/assets/SearchResult-BipqR4T6.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/"><img class="vp-nav-logo" src="https://theme-hope-assets.vuejs.press/logo.svg" alt="Index Team"><!----><span class="vp-site-name hide-in-pad">Index Team</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="Index Team Blog" class="vp-link nav-link nav-link" href="/"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>Index Team Blog<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Javaå¼€å‘æ–‡æ¡£" class="vp-link nav-link active nav-link active" href="/java/"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span>Javaå¼€å‘æ–‡æ¡£<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="åšæ–‡"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>åšæ–‡</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>è‹¹æœ</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a aria-label="è‹¹æœ1" class="vp-link nav-link nav-link" href="/posts/apple/1.html"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>è‹¹æœ1<!----></a></li><li class="dropdown-subitem"><a aria-label="è‹¹æœ2" class="vp-link nav-link nav-link" href="/posts/apple/2.html"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>è‹¹æœ2<!----></a></li><li class="dropdown-subitem"><a aria-label="/posts/apple/3" class="vp-link nav-link nav-link" href="/posts/apple/3.html"><!---->/posts/apple/3<!----></a></li><li class="dropdown-subitem"><a aria-label="/posts/apple/4" class="vp-link nav-link nav-link" href="/posts/apple/4.html"><!---->/posts/apple/4<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>é¦™è•‰</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a aria-label="é¦™è•‰ 1" class="vp-link nav-link nav-link" href="/posts/banana/1.html"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>é¦™è•‰ 1<!----></a></li><li class="dropdown-subitem"><a aria-label="é¦™è•‰ 2" class="vp-link nav-link nav-link" href="/posts/banana/2.html"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>é¦™è•‰ 2<!----></a></li><li class="dropdown-subitem"><a aria-label="/posts/banana/3" class="vp-link nav-link nav-link" href="/posts/banana/3.html"><!---->/posts/banana/3<!----></a></li><li class="dropdown-subitem"><a aria-label="/posts/banana/4" class="vp-link nav-link nav-link" href="/posts/banana/4.html"><!---->/posts/banana/4<!----></a></li></ul></li><li class="dropdown-item"><a aria-label="æ¨±æ¡ƒ" class="vp-link nav-link nav-link" href="/posts/cherry.html"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>æ¨±æ¡ƒ<!----></a></li><li class="dropdown-item"><a aria-label="ç«é¾™æœ" class="vp-link nav-link nav-link" href="/posts/dragonfruit.html"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>ç«é¾™æœ<!----></a></li><li class="dropdown-item"><a aria-label="/posts/tomato" class="vp-link nav-link nav-link" href="/posts/tomato.html"><!---->/posts/tomato<!----></a></li><li class="dropdown-item"><a aria-label="/posts/strawberry" class="vp-link nav-link nav-link" href="/posts/strawberry.html"><!---->/posts/strawberry<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="https://theme-hope.vuejs.press/zh/" rel="noopener noreferrer" target="_blank" aria-label="V2 æ–‡æ¡£" class="nav-link"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span>V2 æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/LSauce/JavaLearnCode" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button type="button" class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">æœç´¢</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><!--[--><a aria-label="Index Team Blog" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>Index Team Blog<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><a aria-label="JavaSE" class="vp-link nav-link vp-sidebar-title nav-link vp-sidebar-title" href="/java/java-se/"><!---->JavaSE<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><a aria-label="DataBase" class="vp-link nav-link active vp-sidebar-title nav-link active vp-sidebar-title" href="/java/database/"><!---->DataBase<!----></a><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a aria-label="00. DataBaseæ€ç»´å¯¼å›¾" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/java/database/00_DataBase%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE.html"><!---->00. DataBaseæ€ç»´å¯¼å›¾<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="01. HTTP&amp;Tomcat" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/java/database/01_HTTP_Tomcat.html"><!---->01. HTTP&amp;Tomcat<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="02. SQL" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/java/database/02_SQL.html"><!---->02. SQL<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="03. JDBC" class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active nav-link active vp-sidebar-link vp-sidebar-page active" href="/java/database/03_JDBC.html"><!---->03. JDBC<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="æ•°æ®åº“çš„è®¿é—®è¿‡ç¨‹" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#æ•°æ®åº“çš„è®¿é—®è¿‡ç¨‹"><!---->æ•°æ®åº“çš„è®¿é—®è¿‡ç¨‹<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="JDBCæ˜¯ä»€ä¹ˆ" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#jdbcæ˜¯ä»€ä¹ˆ"><!---->JDBCæ˜¯ä»€ä¹ˆ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ç¬¬ä¸€ä¸ªJDBCç¨‹åº" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#ç¬¬ä¸€ä¸ªjdbcç¨‹åº"><!---->ç¬¬ä¸€ä¸ªJDBCç¨‹åº<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ä½¿ç”¨JDBCè¿›è¡Œå¢åˆ æ”¹æŸ¥" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#ä½¿ç”¨jdbcè¿›è¡Œå¢åˆ æ”¹æŸ¥"><!---->ä½¿ç”¨JDBCè¿›è¡Œå¢åˆ æ”¹æŸ¥<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="å¢" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#å¢"><!---->å¢<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="åˆ " class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#åˆ "><!---->åˆ <!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ”¹" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#æ”¹"><!---->æ”¹<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æŸ¥" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#æŸ¥"><!---->æŸ¥<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="API" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#api"><!---->API<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="DriverManager" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#drivermanager"><!---->DriverManager<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Connection" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#connection"><!---->Connection<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Statement" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#statement"><!---->Statement<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ResultSet" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#resultset"><!---->ResultSet<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="JDBCçš„ä¼˜åŒ–" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#jdbcçš„ä¼˜åŒ–"><!---->JDBCçš„ä¼˜åŒ–<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ•°æ®åº“æ³¨å…¥é—®é¢˜" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#æ•°æ®åº“æ³¨å…¥é—®é¢˜"><!---->æ•°æ®åº“æ³¨å…¥é—®é¢˜<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="forå¾ªç¯é€æ¡æ’å…¥" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#forå¾ªç¯é€æ¡æ’å…¥"><!---->forå¾ªç¯é€æ¡æ’å…¥<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="statementæ‰¹å¤„ç†" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#statementæ‰¹å¤„ç†"><!---->statementæ‰¹å¤„ç†<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="PreparedStatementæ‰¹å¤„ç†" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#preparedstatementæ‰¹å¤„ç†"><!---->PreparedStatementæ‰¹å¤„ç†<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ä»‹ç»" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#ä»‹ç»-1"><!---->ä»‹ç»<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ä½¿ç”¨äº‹åŠ¡" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#ä½¿ç”¨äº‹åŠ¡"><!---->ä½¿ç”¨äº‹åŠ¡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ç‰¹æ€§" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#ç‰¹æ€§"><!---->ç‰¹æ€§<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="éš”ç¦»çº§åˆ«" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#éš”ç¦»çº§åˆ«"><!---->éš”ç¦»çº§åˆ«<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ¼”ç¤º" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/database/03_JDBC.html#æ¼”ç¤º"><!---->æ¼”ç¤º<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a aria-label="04. è¿æ¥æ± " class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/java/database/04_%E8%BF%9E%E6%8E%A5%E6%B1%A0.html"><!---->04. è¿æ¥æ± <!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="05. ç´¢å¼•" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/java/database/05_%E7%B4%A2%E5%BC%95.html"><!---->05. ç´¢å¼•<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="06. Mybatis" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/java/database/06_Mybatis.html"><!---->06. Mybatis<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><a aria-label="JavaEE_Spring" class="vp-link nav-link vp-sidebar-title nav-link vp-sidebar-title" href="/java/javaee_spring/"><!---->JavaEE_Spring<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><a aria-label="å¾®æœåŠ¡" class="vp-link nav-link vp-sidebar-title nav-link vp-sidebar-title" href="/java/micro-service/"><!---->å¾®æœåŠ¡<!----></a><span class="vp-arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->03. JDBC</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">ç©ºçµ</span></span><span property="author" content="ç©ºçµ"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-02-16T02:17:19.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 16 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT16M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#æ•°æ®åº“çš„è®¿é—®è¿‡ç¨‹">æ•°æ®åº“çš„è®¿é—®è¿‡ç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#jdbcæ˜¯ä»€ä¹ˆ">JDBCæ˜¯ä»€ä¹ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#ç¬¬ä¸€ä¸ªjdbcç¨‹åº">ç¬¬ä¸€ä¸ªJDBCç¨‹åº</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#ä½¿ç”¨jdbcè¿›è¡Œå¢åˆ æ”¹æŸ¥">ä½¿ç”¨JDBCè¿›è¡Œå¢åˆ æ”¹æŸ¥</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#å¢">å¢</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#åˆ ">åˆ </a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#æ”¹">æ”¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#æŸ¥">æŸ¥</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#api">API</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#drivermanager">DriverManager</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#connection">Connection</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#statement">Statement</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#resultset">ResultSet</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#jdbcçš„ä¼˜åŒ–">JDBCçš„ä¼˜åŒ–</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#æ•°æ®åº“æ³¨å…¥é—®é¢˜">æ•°æ®åº“æ³¨å…¥é—®é¢˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#forå¾ªç¯é€æ¡æ’å…¥">forå¾ªç¯é€æ¡æ’å…¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#statementæ‰¹å¤„ç†">statementæ‰¹å¤„ç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#preparedstatementæ‰¹å¤„ç†">PreparedStatementæ‰¹å¤„ç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#ä»‹ç»-1">ä»‹ç»</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#ä½¿ç”¨äº‹åŠ¡">ä½¿ç”¨äº‹åŠ¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#ç‰¹æ€§">ç‰¹æ€§</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#éš”ç¦»çº§åˆ«">éš”ç¦»çº§åˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#æ¼”ç¤º">æ¼”ç¤º</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><h1 id="jdbc" tabindex="-1"><a class="header-anchor" href="#jdbc" aria-hidden="true">#</a> JDBC</h1><p>å­¦ä¹ ç›®æ ‡ï¼š</p><ul><li>äº†è§£JDBCæ˜¯ä»€ä¹ˆï¼Œä»¥åŠå®šä¹‰å®ƒæœ‰ä»€ä¹ˆå¥½å¤„</li><li>æŒæ¡ä½¿ç”¨JDBCè®¿é—®æ•°æ®åº“</li><li>æŒæ¡ä½¿ç”¨JDBCè¿›è¡Œå¢åˆ æ”¹æŸ¥</li><li>æŒæ¡æ•°æ®åº“æ³¨å…¥é—®é¢˜ï¼Œä»¥åŠæ€ä¹ˆè§£å†³æ•°æ®åº“æ³¨å…¥é—®é¢˜ã€‚é¢è¯•ç»å¸¸é—®åˆ°çš„é—®é¢˜</li><li>æŒæ¡äº‹åŠ¡çš„ä½¿ç”¨ï¼Œä»¥åŠä¸ºä»€ä¹ˆéœ€è¦äº‹åŠ¡ã€‚</li><li><span style="color:red;background:yellow;"><strong>ç†è§£äº‹åŠ¡çš„å››å¤§ç‰¹æ€§ï¼ŒACIDã€‚èƒ½ç”¨è‡ªå·±çš„è¯è®²å‡ºæ¥</strong></span></li><li>äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼ˆé¢è¯•ï¼‰</li></ul><h1 id="ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#ä»‹ç»" aria-hidden="true">#</a> ä»‹ç»</h1><h2 id="æ•°æ®åº“çš„è®¿é—®è¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#æ•°æ®åº“çš„è®¿é—®è¿‡ç¨‹" aria-hidden="true">#</a> æ•°æ®åº“çš„è®¿é—®è¿‡ç¨‹</h2><figure><img src="/assets/image-20220512151118861-Ce2GBuDS.png" alt="image-20220512151118861" tabindex="0" loading="lazy"><figcaption>image-20220512151118861</figcaption></figure><h2 id="jdbcæ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#jdbcæ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> JDBCæ˜¯ä»€ä¹ˆ</h2><p>JDBCï¼ˆJava Database Connectivityï¼‰æ˜¯Javaç¨‹åºä¸æ•°æ®åº“è¿›è¡Œäº¤äº’çš„ä¸€ç§æ ‡å‡†æ¥å£ã€‚å®ƒå®šä¹‰äº†ä¸€ç»„Java APIï¼Œä½¿å¾—Javaç¨‹åºå¯ä»¥é€šè¿‡è¿™äº›APIæ¥è¿æ¥å’Œæ“ä½œå„ç§å…³ç³»å‹æ•°æ®åº“ï¼ˆå¦‚MySQLã€Oracleã€SQL Serverç­‰ï¼‰ï¼Œæ‰§è¡ŒSQLè¯­å¥å¹¶å¤„ç†æŸ¥è¯¢ç»“æœã€‚JDBCæä¾›äº†ä¸€ç§è·¨å¹³å°ã€å¯ç§»æ¤çš„æ–¹å¼æ¥è®¿é—®æ•°æ®åº“ï¼Œä½¿å¾—Javaç¨‹åºå¯ä»¥ä¸ä¸åŒçš„æ•°æ®åº“è¿›è¡Œé€šä¿¡è€Œæ— éœ€æ”¹å˜ä»£ç ã€‚JDBCçš„ä¸»è¦ä¼˜ç‚¹åŒ…æ‹¬ï¼šå¯ç§»æ¤æ€§ã€å¯é æ€§ã€å®‰å…¨æ€§å’Œæ˜“äºä½¿ç”¨ã€‚</p><p><span style="color:red;background:yellow;font-size:æ–‡å­—å¤§å°;font-family:å­—ä½“;"><strong>JDBCå…·ä½“æŒ‡çš„å°±æ˜¯ Javaçš„ä¸€å¥—æ ‡å‡†çš„è¿æ¥æ•°æ®åº“çš„æ¥å£ã€‚</strong></span></p><figure><img src="/assets/image-20220512154214534-BVMFBX3U.png" alt="image-20220512154214534" tabindex="0" loading="lazy"><figcaption>image-20220512154214534</figcaption></figure><p>é‚£ä¹ˆæ ‡å‡†çš„æ¥å£å…·ä½“åœ¨å“ªå„¿å‘¢ï¼ŸæŒ‡çš„æ˜¯å“ªäº›æ¥å£å‘¢ï¼Ÿï¼ˆrt.jarå†…éƒ¨çš„ï¼‰</p><ul><li><code>java.sql</code></li><li><code>javax.sql</code></li></ul><h1 id="jdbcæ€ä¹ˆç”¨" tabindex="-1"><a class="header-anchor" href="#jdbcæ€ä¹ˆç”¨" aria-hidden="true">#</a> JDBCæ€ä¹ˆç”¨</h1><h2 id="ç¬¬ä¸€ä¸ªjdbcç¨‹åº" tabindex="-1"><a class="header-anchor" href="#ç¬¬ä¸€ä¸ªjdbcç¨‹åº" aria-hidden="true">#</a> ç¬¬ä¸€ä¸ªJDBCç¨‹åº</h2><ul><li><p>æ–°å»ºé¡¹ç›®</p></li><li><p>å¯¼åŒ…</p><p>å¯¼åŒ…æ˜¯æŒ‡å¯¼å…¥å…¶ä»–çš„äººæˆ–è€…æ˜¯ç»„ç»‡å†™çš„ä»£ç ã€‚</p><blockquote><p>å¦‚ä½•å¯¼åŒ…å‘¢ï¼Ÿ</p><ol><li><p>ä¸‹è½½åŒ…</p><p><a href="https://mvnrepository.com/" target="_blank" rel="noopener noreferrer">ä¸‹è½½ä»“åº“åœ°å€<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://mvnrepository.com/artifact/mysql/mysql-connector-java/5.1.47" target="_blank" rel="noopener noreferrer">MySQLé©±åŠ¨åŒ…ä¸‹è½½åœ°å€<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>æŠŠåŒ…å¤åˆ¶åˆ°é¡¹ç›®ä¸­ï¼Œå¹¶ä¸”åŠ è½½è¿›æ¥</p><p><code>.jar</code>ï¼š è¿™ä¸ªæ ¼å¼æ˜¯ä¸€ç§å‹ç¼©æ ¼å¼ï¼Œå’Œ .zipï¼Œ.raræ˜¯ç±»ä¼¼çš„ï¼Œè¿™ç§ç±»å‹çš„æ–‡ä»¶ï¼Œå¯ä»¥è¢«Javaè¯†åˆ«å¹¶ä¸”è¿è¡Œã€‚</p><p><code>.jar</code>æ–‡ä»¶ä¸­éƒ½æ˜¯ä¸€äº› <code>.class</code>æ–‡ä»¶ï¼Œæ˜¯å¯ä»¥ç›´æ¥è¿è¡Œçš„</p><p>æ¥ä¸‹æ¥ï¼Œéœ€è¦æŠŠå¯¹åº”çš„jaråŒ…æ·»åŠ åˆ°libraryé‡Œé¢å»ã€‚å¯¹ç€jaråŒ…å³é”®</p><figure><img src="/assets/image-20220512160152575-BTLOdl3U.png" alt="image-20220512160152575" tabindex="0" loading="lazy"><figcaption>image-20220512160152575</figcaption></figure></li></ol></blockquote></li><li><p>ç¼–å†™åº”ç”¨ç¨‹åº</p><div class="language-JAVA line-numbers-mode" data-ext="JAVA"><pre class="language-JAVA"><code>// 1. åŠ è½½é©±åŠ¨  {@Link java.sql.Driver   impl : com.mysql.jdbc.Driver}
        DriverManager.registerDriver(new Driver());


//        String url = &quot;åè®® + ip + ç«¯å£ + è·¯å¾„ + å‚æ•°&quot;;
        String url = &quot;jdbc:mysql://localhost:3306/40th?useSSL=false&amp;characterEncoding=utf8&quot;;
        String username = &quot;root&quot;;
        String password = &quot;123456&quot;;

        // 2. å‘é€ç”¨æˆ·åå’Œå¯†ç ï¼Œå»ºç«‹è¿æ¥
        // è¿”å›çš„å½“å‰æ˜¯ä¸€ä¸ªConnectionæ¥å£ï¼Œä½†æ˜¯å®é™…ä¸Šåœ¨è¿è¡Œçš„æ—¶å€™ï¼Œè¿”å›æ˜¯Connectionæ¥å£çš„å®ç°ç±»çš„å®ä¾‹
        Connection connection = DriverManager.getConnection(url, username, password);

        // 3. è·å–statementå¯¹è±¡
        Statement statement = connection.createStatement();

        // 4. å‘é€SQLè¯­å¥
        int affectedRows = statement.executeUpdate(&quot;insert into stu values (4,&#39;äº‘é£å…„&#39;,20,&#39;358ç­&#39;)&quot;);

        // 5. è§£æç»“æœé›†
        System.out.println(&quot;affectedRows:&quot; + affectedRows);

        // 6. æ–­å¼€è¿æ¥
        statement.close();
        connection.close();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p>MySQLç‰ˆæœ¬5.7ã€‚æˆ‘ä»¬é€‰é©±åŠ¨ å¯ä»¥é€‰ 5.1.47 48 49ï¼›éƒ½å¯ä»¥ã€‚ 8çš„ä¹Ÿå¯ä»¥ã€‚</p><p>MySQL8çš„ç‰ˆæœ¬ã€‚åªèƒ½é€‰8ï¼Œä¸è¦é€‰5çš„ç‰ˆæœ¬ã€‚</p><h2 id="ä½¿ç”¨jdbcè¿›è¡Œå¢åˆ æ”¹æŸ¥" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨jdbcè¿›è¡Œå¢åˆ æ”¹æŸ¥" aria-hidden="true">#</a> ä½¿ç”¨JDBCè¿›è¡Œå¢åˆ æ”¹æŸ¥</h2><h3 id="å¢" tabindex="-1"><a class="header-anchor" href="#å¢" aria-hidden="true">#</a> å¢</h3><div class="language-JAVA line-numbers-mode" data-ext="JAVA"><pre class="language-JAVA"><code>// 3. å‘é€SQLè¯­å¥
// è¿”å›å€¼æ˜¯ä¸ªintï¼Œä»£è¡¨å½±å“çš„è¡Œæ•°ã€‚ æ–°å¢çš„è¡Œæ•°
int affectedRows = statement.executeUpdate(&quot;insert into stu values (1, &#39;zhangsan&#39;, 22)&quot;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åˆ " tabindex="-1"><a class="header-anchor" href="#åˆ " aria-hidden="true">#</a> åˆ </h3><blockquote><p>å¢ã€åˆ ã€æ”¹éƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ä½¿ç”¨ <code>statement.executeUpdate(String sql)</code> æ¥æ‰§è¡ŒSQLè¯­å¥ï¼Œè¿”å›çš„ç»“æœä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯å½±å“çš„è¡Œæ•°ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// 3. å‘é€SQLè¯­å¥</span>
<span class="token comment">// è¿”å›å€¼æ˜¯ä¸ªintï¼Œä»£è¡¨å½±å“çš„è¡Œæ•°ã€‚ åˆ é™¤çš„è¡Œæ•°</span>
<span class="token keyword">int</span> affectedRows <span class="token operator">=</span> statement<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token string">&quot;delete from stu where id = 3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ”¹" tabindex="-1"><a class="header-anchor" href="#æ”¹" aria-hidden="true">#</a> æ”¹</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">int</span> affectedRows <span class="token operator">=</span> statement<span class="token punctuation">.</span>executeUpdate<span class="token punctuation">(</span><span class="token string">&quot;update stu set name = &#39;å­”äºŒæ„£å­&#39;,class=&#39;äº”ç­&#39; where id = 4&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="æŸ¥" tabindex="-1"><a class="header-anchor" href="#æŸ¥" aria-hidden="true">#</a> æŸ¥</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// 3. å‘é€SQLè¯­å¥</span>
<span class="token comment">// resultSetæŒ‡ç»“æœé›†å¯¹è±¡ï¼Œå…·ä½“æŒ‡ä»£æŸ¥è¯¢è¿”å›çš„ä¸´æ—¶è¡¨å¯¹è±¡</span>
<span class="token class-name">ResultSet</span> resultSet <span class="token operator">=</span> statement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token string">&quot;select * from stu&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">//  è§£æç»“æœé›†</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>resultSet<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token keyword">int</span> id <span class="token operator">=</span> resultSet<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">String</span> name <span class="token operator">=</span> resultSet<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 	<span class="token keyword">int</span> age <span class="token operator">=</span> resultSet<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">String</span> className <span class="token operator">=</span> resultSet<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;class&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;id:&quot;</span> <span class="token operator">+</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;name:&quot;</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;age:&quot;</span> <span class="token operator">+</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;className:&quot;</span> <span class="token operator">+</span> className<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="api" tabindex="-1"><a class="header-anchor" href="#api" aria-hidden="true">#</a> API</h2><blockquote><p>æŸ¥çœ‹ç±»ä¸­æ‰€æœ‰æ–¹æ³•çš„å¿«æ·é”®ï¼šctrl + F12</p></blockquote><h3 id="drivermanager" tabindex="-1"><a class="header-anchor" href="#drivermanager" aria-hidden="true">#</a> DriverManager</h3><p>é©±åŠ¨ç®¡ç†å™¨ã€‚å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç®¡ç†é©±åŠ¨ï¼Œè·å–è¿æ¥</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// æ³¨å†Œé©±åŠ¨</span>
<span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">registerDriver</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Driver</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è·å–è¿æ¥</span>
<span class="token comment">// åœ¨ä»£ç å®é™…è¿è¡Œçš„æ—¶å€™ï¼Œä¸€å®šä¸å¯èƒ½å…‰æ˜¯ä¸€ä¸ªæ¥å£ï¼Œä¸€å®šæ˜¯ä¸€ä¸ªå®ç°ç±»ã€‚ï¼ˆæ˜¯MySQLæä¾›çš„ä¸€ä¸ªå®ç°ç±»ã€‚ï¼‰</span>
<span class="token comment">// è·å–åˆ°çš„è¿æ¥å¯¹è±¡å®é™…ä¸Šæ˜¯ JDBC4Connection å¯¹è±¡</span>
<span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span><span class="token class-name">String</span> username<span class="token punctuation">,</span><span class="token class-name">String</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="connection" tabindex="-1"><a class="header-anchor" href="#connection" aria-hidden="true">#</a> Connection</h3><p>æŒ‡ä»£è¿æ¥å¯¹è±¡ã€‚åœ¨JDBCä¸­æ˜¯ä¸€ä¸ªæ¥å£ï¼Œåœ¨æˆ‘ä»¬ä½¿ç”¨JDBCçš„æ—¶å€™ï¼Œå®é™…ä¸Šå®ç°ç±»æ˜¯ <code> com.mysql.jdbc.JDBC4Connection</code> å¯¹è±¡ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// è·å–statement</span>
<span class="token comment">// é€šè¿‡statementå¯¹è±¡æ¥æ‰§è¡ŒSQL</span>
<span class="token class-name">Statement</span> stat <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å…³é—­è¿æ¥</span>
connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// äº‹åŠ¡ç›¸å…³çš„API</span>
connection<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
connection<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
connection<span class="token punctuation">.</span><span class="token function">setAutoCommit</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="statement" tabindex="-1"><a class="header-anchor" href="#statement" aria-hidden="true">#</a> Statement</h3><blockquote><p>The object used for executing a static SQL statement and returning the results it produces.</p></blockquote><p>statementå¯¹è±¡å…¶å®å°±æ˜¯ç”¨æ¥å»æ‰§è¡ŒSQLè¯­å¥ï¼Œå¹¶ä¸”è¿”å›è¿™ä¸ªSQLè¯­å¥äº§ç”Ÿçš„ç»“æœé›†ã€‚å®é™…ä¸Šæˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œå…¶å®æ˜¯ç”¨çš„Statementæ¥å£çš„å®ç°ç±» <code>com.mysql.jdbc.StatementImpl</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// æ‰§è¡Œå¢åˆ æ”¹çš„æ–¹æ³•ã€‚æ–°å¢æ•°æ®çš„SQLï¼Œåˆ é™¤æ•°æ®çš„SQLï¼Œä¿®æ”¹æ•°æ®çš„SQL</span>
<span class="token keyword">int</span> affectedRows <span class="token operator">=</span> statement<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token class-name">String</span> updateSql<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ‰§è¡ŒæŸ¥è¯¢çš„æ–¹æ³•</span>
<span class="token class-name">ResultSet</span> rs  <span class="token operator">=</span> statement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token class-name">String</span> querySql<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ‹¿åˆ°ä¸€ä¸ªResultSetï¼Œæ€ä¹ˆä»é‡Œé¢è·å–æ•°æ®ã€‚ å½“ä¸€ä¸ªè¿­ä»£å™¨çš„æ–¹æ³•ä½¿ç”¨ã€‚</span>

<span class="token comment">// å…³é—­</span>
statement<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ‰§è¡Œsqlè¯­å¥</span>
<span class="token class-name">Boolean</span> ret <span class="token operator">=</span> statement<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">String</span> sql<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¦‚æœ ret == trueï¼Œé‚£ä¹ˆè¯´æ˜æ‰§è¡Œçš„æ˜¯æŸ¥è¯¢è¯­å¥  statement.getResultSet();</span>
<span class="token comment">// å¦‚æœ ret == falseï¼Œé‚£ä¹ˆè¯´æ˜æ‰§è¡Œçš„æ˜¯å¢åˆ æ”¹è¯­å¥ statement.getUpdateCount();</span>
<span class="token comment">// è·å–å½±å“çš„è¡Œæ•°: statement.getUpdateCount();</span>
<span class="token comment">// è·å–è¿”å›çš„ç»“æœé›†ï¼šstatement.getResultSet();</span>


<span class="token comment">// ç»ƒä¹ ä¸€ä¸‹æ€ä¹ˆå»ç»„ç»‡è¯­è¨€ï¼ˆpromptï¼‰</span>
<span class="token comment">// æˆ‘æ˜¯Javaå­¦ä¹ è€…ï¼Œæˆ‘åœ¨å­¦ä¹ JDBCçš„æ—¶å€™ï¼Œé‡åˆ°äº†ä¸€ä¸ªStatementæ¥å£ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªexecute()æ–¹æ³•ï¼Œæˆ‘ä¸çŸ¥é“å¦‚ä½•å»ä½¿ç”¨</span>
ä½ çš„ä»»åŠ¡å¦‚ä¸‹ï¼š <span class="token number">1.</span>ç®€å•å‘Šè¯‰ä¸€ä¸‹æˆ‘å®ƒçš„å¤§è‡´ä½œç”¨   <span class="token number">2.</span>ç»™æˆ‘å†™ä¸ªdemoï¼Œç¤ºä¾‹ï¼Œè®©æˆ‘å¿«é€ŸçŸ¥é“å¦‚ä½•å»ä½¿ç”¨å®ƒã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="resultset" tabindex="-1"><a class="header-anchor" href="#resultset" aria-hidden="true">#</a> ResultSet</h3><p>è¿™ä¸ªå¯¹è±¡è¡¨ç¤ºæŸ¥è¯¢çš„ç»“æœé›†ã€‚</p><figure><img src="/assets/image-20220512174407319-Bo60hydG.png" alt="image-20220512174407319" tabindex="0" loading="lazy"><figcaption>image-20220512174407319</figcaption></figure><blockquote><p>åœ¨æŸ¥è¯¢çš„ç»“æœé›†ä¸­ï¼Œæœ‰ä¸€ä¸ªæ¸¸æ ‡ï¼Œæ¸¸æ ‡å¯ä»¥ç§»åŠ¨ï¼Œç§»åŠ¨çš„æ—¶å€™ä¼šæ‰«æä¸€äº›è¡Œï¼Œé‚£ä¹ˆå¯¹äºè¿™äº›æ‰«æåˆ°çš„è¡Œï¼Œæˆ‘ä»¬å°±å¯ä»¥è·å–å¯¹åº”çš„åˆ—çš„å€¼ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// ç§»åŠ¨æ¸¸æ ‡æ–¹æ³•</span>

<span class="token comment">// å‘ä¸‹ç§»åŠ¨</span>
<span class="token class-name">Boolean</span> ret <span class="token operator">=</span> resultSet<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å‘ä¸Šç§»åŠ¨</span>
<span class="token class-name">Boolean</span> ret <span class="token operator">=</span> resultSet<span class="token punctuation">.</span><span class="token function">previous</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å®šä½åˆ°ç¬¬ä¸€è¡Œä¹‹å‰</span>
resultSet<span class="token punctuation">.</span><span class="token function">beforeFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å®šä¹‰åˆ°æœ€åä¸€è¡Œä¹‹å</span>
resultSet<span class="token punctuation">.</span><span class="token function">afterLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// è·å–å€¼çš„æ–¹æ³•</span>
resultSet<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token class-name">String</span> columnName<span class="token punctuation">)</span><span class="token punctuation">;</span>
resultSet<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token class-name">String</span> columnName<span class="token punctuation">)</span><span class="token punctuation">;</span>
resultSet<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token class-name">String</span> columnName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/assets/image-20220512174948330-Dt5vPApi.png" alt="image-20220512174948330" tabindex="0" loading="lazy"><figcaption>image-20220512174948330</figcaption></figure><h2 id="jdbcçš„ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#jdbcçš„ä¼˜åŒ–" aria-hidden="true">#</a> JDBCçš„ä¼˜åŒ–</h2><ul><li>æå–å·¥å…·ç±»</li><li>è¿æ¥é…ç½®æ”¾å…¥åˆ°é…ç½®æ–‡ä»¶ä¸­</li><li>æ³¨å†Œé©±åŠ¨åˆ©ç”¨åå°„ï¼Œè§£è€¦</li><li>å…³é—­èµ„æºï¼ˆæå–å…¬å…±æ–¹æ³•ï¼‰</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JDBCUtils</span> <span class="token punctuation">{</span>

    <span class="token keyword">static</span> <span class="token class-name">String</span> url<span class="token punctuation">;</span>
    <span class="token keyword">static</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
    <span class="token keyword">static</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>
    <span class="token keyword">static</span> <span class="token class-name">String</span> driver<span class="token punctuation">;</span>

    <span class="token keyword">static</span> <span class="token punctuation">{</span>

        <span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            properties<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;jdbc.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>


        url <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;url&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        username <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        password <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        driver <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;driverClassName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token comment">// è·å–è¿æ¥</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>
            connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> connection<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>



    <span class="token comment">// å…³é—­èµ„æº</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span>  <span class="token function">close</span><span class="token punctuation">(</span><span class="token class-name">Connection</span> connection<span class="token punctuation">,</span> <span class="token class-name">Statement</span> statement<span class="token punctuation">,</span> <span class="token class-name">ResultSet</span> resultSet<span class="token punctuation">)</span><span class="token punctuation">{</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>resultSet <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> resultSet<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>statement<span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> statement<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>connection <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>


    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ•°æ®åº“æ³¨å…¥é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#æ•°æ®åº“æ³¨å…¥é—®é¢˜" aria-hidden="true">#</a> æ•°æ®åº“æ³¨å…¥é—®é¢˜</h2><blockquote><p>æ•°æ®åº“æ³¨å…¥æ˜¯ä¸€ç§å¸¸è§çš„ç½‘ç»œå®‰å…¨æ¼æ´ï¼Œæ”»å‡»è€…åˆ©ç”¨è¿™ç§æ¼æ´å‘ç½‘ç«™æˆ–åº”ç”¨ç¨‹åºçš„æ•°æ®åº“ä¸­æ’å…¥æ¶æ„ä»£ç ï¼Œä»è€Œè·å–æ•æ„Ÿä¿¡æ¯ã€æ‰§è¡Œéæ³•æ“ä½œç­‰ã€‚ä¾‹å¦‚ï¼š</p><p>å‡è®¾æœ‰ä¸€ä¸ªç™»å½•é¡µé¢ï¼Œç”¨æˆ·éœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç æ‰èƒ½ç™»å½•ã€‚è¯¥é¡µé¢çš„åç«¯ä»£ç ä½¿ç”¨SQLæŸ¥è¯¢è¯­å¥æ¥éªŒè¯ç”¨æˆ·çš„èº«ä»½ï¼Œä¾‹å¦‚ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>SELECT * FROM user WHERE username = &#39;input_username&#39; AND password = &#39;input_password&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å…¶ä¸­ï¼Œ&#39;input_username&#39;å’Œ&#39;input_password&#39;æ˜¯ç”¨æˆ·åœ¨ç™»å½•é¡µé¢ä¸Šè¾“å…¥çš„å€¼ã€‚å¦‚æœç”¨æˆ·è¾“å…¥çš„å€¼ä¸æ•°æ®åº“ä¸­çš„å€¼åŒ¹é…ï¼Œåˆ™å…è®¸ç”¨æˆ·ç™»å½•ï¼Œå¦åˆ™æ‹’ç»ç™»å½•ã€‚</p><p>ç„¶è€Œï¼Œæ”»å‡»è€…å¯ä»¥åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥ä¸€äº›æ¶æ„ä»£ç ï¼Œä¾‹å¦‚ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>input_username: root
input_password: xxx&#39; or &#39; 1=1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªè¾“å…¥ä¼šæ›´æ”¹SQLæŸ¥è¯¢è¯­å¥ï¼Œå˜æˆï¼š</p><div class="language-SQL line-numbers-mode" data-ext="SQL"><pre class="language-SQL"><code>
-- ä¸‹é¢è¿™æ¡SQLçš„å«ä¹‰ï¼Œæ˜¯è¿™æ ·çš„   1=1æ˜¯æ’ç­‰çš„ï¼Œæ‰€ä»¥whereæ¡ä»¶ç›¸å½“äºä¼šæ²¡æœ‰ä»»ä½•æ¡ä»¶
-- SELECT * FROM users WHERE (username = &#39;admin&#39; AND password = &#39;xxx&#39;) or &#39;1=1&#39;;
SELECT * FROM users WHERE username = &#39;admin&#39; AND password = &#39;xxx&#39; or &#39; 1=1&#39;;

SELECT * FROM users WHERE username = &#39;admin&#39; AND password = &#39;xxx&#39; ;drop database test1&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªSQLè¯­å¥çš„å«ä¹‰æ˜¯â€œä»usersè¡¨ä¸­é€‰æ‹©ä»»ä½•ä¸€ä¸ªè¡Œï¼Œå…¶ä¸­ç”¨æˆ·åä¸ºç©ºæˆ–1ç­‰äº1ï¼Œå¹¶ä¸”å¯†ç ä¸ºç©ºâ€ã€‚ç”±äº1ç­‰äº1å§‹ç»ˆä¸ºçœŸï¼Œå› æ­¤è¿™ä¸ªSQLè¯­å¥å°†è¿”å›usersè¡¨ä¸­çš„æ‰€æœ‰è¡Œï¼Œä»è€Œç»•è¿‡äº†èº«ä»½éªŒè¯ï¼Œæ”»å‡»è€…å¯ä»¥ä»¥ä»»ä½•ç”¨æˆ·çš„èº«ä»½ç™»å½•ç³»ç»Ÿã€‚è¿™å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„SQLæ³¨å…¥æ”»å‡»ã€‚</p><p>ä¸ºäº†é¿å…SQLæ³¨å…¥æ”»å‡»ï¼Œå¿…é¡»å¯¹ç”¨æˆ·è¾“å…¥çš„å€¼è¿›è¡Œè¿‡æ»¤å’Œè½¬ä¹‰ï¼Œæˆ–ä½¿ç”¨é¢„å¤„ç†è¯­å¥ç­‰å®‰å…¨æªæ–½æ¥é˜²èŒƒè¿™ç§æ”»å‡»ã€‚</p><p>ä¸»è¦çš„åŸå› æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ï¼ŒæŠŠç”¨æˆ·çš„ä¸€äº›è¾“å…¥å½“åšäº†å…³é”®å­—ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code> <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>

<span class="token comment">//        Boolean ret = login(&quot;å¤©æ˜&quot;, &quot;upan&quot;);</span>

        <span class="token comment">// select * from user where name = &#39;xxx&#39; and password = &#39;xxx&#39;;</span>
        <span class="token comment">// select * from user where name = &#39;xxx&#39; and password = &#39;xxx&#39; or &#39;1=1&#39;;</span>

        <span class="token class-name">Boolean</span> ret <span class="token operator">=</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;xxx&#39; or &#39;1=1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç™»å½•æˆåŠŸï¼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç™»å½•å¤±è´¥&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ç™»å½•æ–¹æ³•</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Boolean</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">,</span><span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>

        <span class="token comment">// ä¼ å…¥ç”¨æˆ·åå’Œå¯†ç ã€‚æ ¹æ®ç”¨æˆ·åå’Œå¯†ç æŸ¥è¯¢ç”¨æˆ·ï¼Œå‡å¦‚æŸ¥è¯¢åˆ°äº†ï¼Œè¯´æ˜ç™»å½•æˆåŠŸï¼›å¦‚æœæ²¡æŸ¥åˆ°ï¼Œç™»å½•å¤±è´¥</span>
        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">JDBCUtils</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Statement</span> statement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;select * from user where name = &#39;&quot;</span><span class="token operator">+</span>username<span class="token operator">+</span><span class="token string">&quot;&#39; and password = &#39;&quot;</span><span class="token operator">+</span>password<span class="token operator">+</span><span class="token string">&quot;&#39;&quot;</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ResultSet</span> resultSet <span class="token operator">=</span> statement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>resultSet<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span>  <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ•°æ®åº“æ³¨å…¥é—®é¢˜äº§ç”Ÿçš„åŸå› ï¼šå› ä¸ºSQLè¯­å¥æ˜¯é€šè¿‡å­—ç¬¦ä¸²æ‹¼æ¥çš„ï¼Œè¿™ä¸ªæ—¶å€™ç”¨æˆ·å¯èƒ½è¾“å…¥ä¸€äº›å­—ç¬¦ï¼Œè¿™äº›å­—ç¬¦ä¸­åŒ…å«æœ‰SQLè¯­å¥ä¸­çš„å…³é”®å­—ï¼Œé‚£ä¹ˆé€šè¿‡å­—ç¬¦ä¸²æ‹¼æ¥SQLè¯­å¥ä¹‹åï¼Œå¯èƒ½ä¼šæ”¹å˜SQLè¯­å¥çš„æ ¼å¼ï¼Œè¿›è€Œå¼•å‘å®‰å…¨æ€§çš„é—®é¢˜ã€‚</p><p>æ ¹æœ¬çš„åŸå› ï¼šMySQLæŠŠç”¨æˆ·è¾“å…¥çš„å‚æ•°å½“åšå…³é”®å­—æ¥è§£æäº†</p></blockquote><blockquote><p>å¦‚ä½•è§£å†³æ•°æ®åº“æ³¨å…¥é—®é¢˜å‘¢ï¼Ÿ</p><ul><li>PrepareStatementï¼ˆé¢„ç¼–è¯‘çš„Statementï¼‰</li></ul></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// ç™»å½•æ–¹æ³•2</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Boolean</span> <span class="token function">login2</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">,</span><span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>

        <span class="token comment">// 1. è·å–è¿æ¥</span>
        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">JDBCUtils</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2. è·å–PreparedStatement</span>
        <span class="token comment">// è¿™ä¸€æ­¥ï¼Œåœ¨åˆ›å»ºPreparedStatementçš„æ—¶å€™ï¼ŒPreparedStatementä¼šæŠŠå½“å‰è¿™ä¸ªæ²¡æœ‰å‚æ•°çš„SQLè¯­å¥ï¼Œå‘é€ç»™MySQLæœåŠ¡å™¨ï¼Œæ‰§è¡Œé¢„ç¼–è¯‘</span>
        <span class="token comment">// é¢„ç¼–è¯‘ï¼šå…¶å®å°±æ˜¯å»è§£æè¿™ä¸ªSQLè¯­å¥ä¸­çš„å…³é”®å­—ï¼Œå˜æˆMySQLå¯ä»¥æ‰§è¡Œçš„å‘½ä»¤</span>
        <span class="token comment">// åœ¨é¢„ç¼–è¯‘ä¹‹åï¼Œåç»­è¾“å…¥çš„å­—ç¬¦ä¸²ï¼Œå°±åªä¼šè¢«MySQLå½“æˆçº¯æ–‡æœ¬æ¥è§£æ</span>
        <span class="token class-name">PreparedStatement</span> preparedStatement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span><span class="token string">&quot;select * from user where name = ? and password = ?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token comment">// 3. è®¾ç½®å‚æ•°</span>
        <span class="token comment">// åºå·ä» 1 å¼€å§‹</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token comment">// 4. ä¼ é€’å‚æ•°ï¼Œæ‰§è¡ŒSQLè¯­å¥</span>
        <span class="token class-name">ResultSet</span> resultSet <span class="token operator">=</span> preparedStatement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>resultSet<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ€»ç»“ï¼š</p><ol><li><p>åœ¨å®‰å…¨æ€§æ–¹æ³•ï¼ŒPreparedStatementæ¯”Statementè¦å¥½å¾ˆå¤šï¼Œæ²¡æœ‰æ•°æ®åº“çš„æ³¨å…¥é—®é¢˜</p></li><li><p>åœ¨æ•ˆç‡æ–¹é¢ï¼Œæ‰§è¡Œå•æ¬¡SQLè¯­å¥çš„æ—¶å€™ï¼ŒStatementçš„æ•ˆç‡æ¯”PreparedStatementè¦å¥½ä¸€äº›</p><p>å› ä¸ºStatementåœ¨æ‰§è¡Œä¸€æ¡SQLè¯­å¥çš„æ—¶å€™ï¼Œåªä¼šä¸æ•°æ®åº“é€šä¿¡ä¸€æ¬¡ï¼Œè€ŒPreparedStatementè¦é€šä¿¡ä¸¤æ¬¡</p><p>prepareStatementä½¿ç”¨çš„æ¯”statementå¤šå¾ˆå¤šã€‚statementå‡ ä¹ä¸ç”¨ã€‚</p></li></ol></blockquote><figure><img src="/assets/image-20220513112333234-LaWLf9k8.png" alt="image-20220513112333234" tabindex="0" loading="lazy"><figcaption>image-20220513112333234</figcaption></figure><figure><img src="/assets/image-20220513175504026-CjKnewW6.png" alt="image-20220513175504026" tabindex="0" loading="lazy"><figcaption>image-20220513175504026</figcaption></figure><h1 id="æ‰¹å¤„ç†" tabindex="-1"><a class="header-anchor" href="#æ‰¹å¤„ç†" aria-hidden="true">#</a> æ‰¹å¤„ç†</h1><p>æ¯”å¦‚ï¼Œä½ æƒ³å¾€æ•°æ®åº“é‡Œé¢æ’å…¥å¤§é‡æ•°æ®ã€‚ 100w</p><p>å…¶å®å°±æ˜¯æ‰¹é‡çš„å¤„ç†SQLè¯­å¥ï¼Œå…¸å‹çš„ä¸šåŠ¡åœºæ™¯å°±æ˜¯ä¸€æ¬¡æ’å…¥å¤§é‡çš„æ•°æ®ã€‚åœ¨ä»Šåï¼Œå¦‚æœéœ€è¦å¤§å®¶ä½¿ç”¨JDBCæ‰¹é‡æ’å…¥æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨è¿™äº›æ–¹æ³•ã€‚</p><h2 id="forå¾ªç¯é€æ¡æ’å…¥" tabindex="-1"><a class="header-anchor" href="#forå¾ªç¯é€æ¡æ’å…¥" aria-hidden="true">#</a> forå¾ªç¯é€æ¡æ’å…¥</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// forå¾ªç¯æ¥åš</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">batchUseForEach</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>

    <span class="token class-name">Statement</span> statement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;insert into user values (&quot;</span><span class="token operator">+</span>i<span class="token operator">+</span><span class="token string">&quot;,&#39;foreach&#39;,null,null)&quot;</span><span class="token punctuation">;</span>

        statement<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å‘MySQLæœåŠ¡å™¨å‘é€äº†SQLè¯­å¥ 1wæ¬¡ï¼ŒSQLè¯­å¥è¢«ç¼–è¯‘äº†1wæ¬¡ï¼ŒSQLè¯­å¥ä¹Ÿè¢«æ‰§è¡Œäº†1wæ¬¡</p></blockquote><h2 id="statementæ‰¹å¤„ç†" tabindex="-1"><a class="header-anchor" href="#statementæ‰¹å¤„ç†" aria-hidden="true">#</a> statementæ‰¹å¤„ç†</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// Statement æ¥å¤„ç†</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">batchUseStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>

    <span class="token class-name">Statement</span> statement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;insert into user values (&quot;</span><span class="token operator">+</span>i<span class="token operator">+</span><span class="token string">&quot;,&#39;batchUseStatement&#39;,null,null)&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// ç›¸å½“äºåœ¨å†…éƒ¨æœ‰ä¸€ä¸ªå®¹å™¨ã€‚ </span>
        statement<span class="token punctuation">.</span><span class="token function">addBatch</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// å‘é€SQLè¯­å¥ï¼Œæ‰§è¡Œ</span>
    statement<span class="token punctuation">.</span><span class="token function">executeBatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å‘MySQLæœåŠ¡å™¨å‘é€äº†SQLè¯­å¥ 1æ¬¡ï¼Œè¿™ä¸€æ¬¡ä¸­åŒ…å«1wæ¡SQLè¯­å¥ä¿¡æ¯ï¼ŒSQLè¯­å¥è¢«ç¼–è¯‘äº†1wæ¬¡ï¼ŒSQLè¯­å¥ä¹Ÿè¢«æ‰§è¡Œäº†1wæ¬¡</p></blockquote><h2 id="preparedstatementæ‰¹å¤„ç†" tabindex="-1"><a class="header-anchor" href="#preparedstatementæ‰¹å¤„ç†" aria-hidden="true">#</a> PreparedStatementæ‰¹å¤„ç†</h2><blockquote><p>éœ€è¦åœ¨æ•°æ®åº“çš„urlåé¢åŠ ä¸Šé…ç½®ï¼šrewriteBatchedStatements=true ï¼Œè¡¨ç¤ºå¼€å¯æ‰¹å¤„ç†</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// PreparedStatementæ¥å¤„ç†</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">batchUsePrepapreStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>

    <span class="token comment">// è·å–PreparedStatement</span>
    <span class="token class-name">PreparedStatement</span> preparedStatement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span><span class="token string">&quot;insert into user values (?,?,null,null)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token comment">// å¾ªç¯ï¼Œè®¾ç½®å‚æ•°</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">20000</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">30000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        preparedStatement<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;PrepapreStatement&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        preparedStatement<span class="token punctuation">.</span><span class="token function">addBatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// æŠŠå‚æ•°å‘é€ç»™MySQLæœåŠ¡å™¨ï¼Œæ‰§è¡ŒSQLè¯­å¥</span>
    preparedStatement<span class="token punctuation">.</span><span class="token function">executeBatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// insert into user values (),(),(),(),();</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ä¸MySQLé€šä¿¡äº†2æ¬¡ï¼ŒSQLè¯­å¥è¢«ç¼–è¯‘äº†ä¸€æ¬¡ï¼ŒSQLè¯­å¥è¢«æ‰§è¡Œäº†ä¸€æ¬¡</p></blockquote><p>æ’å…¥næ¡æ•°æ®</p><p>forå¾ªç¯ï¼Œé€šè®¯næ¬¡ï¼Œç¼–è¯‘næ¬¡ï¼Œæ‰§è¡Œnæ¬¡</p><p>statementï¼Œé€šè®¯1æ¬¡ï¼Œç¼–è¯‘næ¬¡ï¼Œæ‰§è¡Œnæ¬¡</p><p>prepareStatementï¼Œé€šè®¯2æ¬¡ï¼Œç¼–è¯‘1æ¬¡ï¼Œæ‰§è¡Œ1æ¬¡</p><p>å‡å¦‚éœ€è¦æ‰¹å¤„ç†næ¡SQLè¯­å¥ï¼Œå¼€å¯äº†rewriteBatchedStatementsä¹‹å</p><table><thead><tr><th></th><th>é€šä¿¡æ¬¡æ•°</th><th>ç¼–è¯‘æ¬¡æ•°</th><th>æ‰§è¡Œæ¬¡æ•°</th><th>æ—¶é—´</th></tr></thead><tbody><tr><td>forå¾ªç¯</td><td>n</td><td>n</td><td>n</td><td>æœ€é•¿</td></tr><tr><td>Statement</td><td>1</td><td>n</td><td>n</td><td>æ¬¡ä¹‹</td></tr><tr><td>PreparedStatement</td><td>2</td><td>1</td><td>1</td><td>æœ€çŸ­</td></tr></tbody></table><h1 id="äº‹åŠ¡" tabindex="-1"><a class="header-anchor" href="#äº‹åŠ¡" aria-hidden="true">#</a> äº‹åŠ¡</h1><h2 id="ä»‹ç»-1" tabindex="-1"><a class="header-anchor" href="#ä»‹ç»-1" aria-hidden="true">#</a> ä»‹ç»</h2><blockquote><p>æ•°æ®åº“äº‹åŠ¡( transaction)æ˜¯è®¿é—®å¹¶å¯èƒ½æ“ä½œå„ç§æ•°æ®é¡¹çš„ä¸€ä¸ªæ•°æ®åº“æ“ä½œåºåˆ—ï¼Œè¿™äº›æ“ä½œè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œ,è¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œï¼Œæ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½ã€‚äº‹åŠ¡ç”±äº‹åŠ¡å¼€å§‹ä¸äº‹åŠ¡ç»“æŸä¹‹é—´æ‰§è¡Œçš„å…¨éƒ¨æ•°æ®åº“æ“ä½œç»„æˆã€‚</p></blockquote><p><span style="color:red;background:yellow;"><strong>äº‹åŠ¡å°±æ˜¯è¦ä¿è¯ä¸€ç»„æ•°æ®åº“æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ã€‚</strong></span></p><p>æ¯”å¦‚è½¬è´¦æ“ä½œï¼Œæ¶‰åŠåˆ°å‡ ä¸ªæ–¹é¢ã€‚</p><p>è´¦æˆ·ä½™é¢è¡¨ã€‚ zs 1000 | ls 5000</p><p>ç°åœ¨zsè¦ç»™lsè½¬è´¦ï¼Œè½¬500ã€‚ç°åœ¨åœ¨æ•°æ®åº“é‡Œé¢ï¼Œæˆ‘ä»¬è¦è¿›è¡Œä¸¤æ­¥æ“ä½œã€‚</p><ol><li>æ‰£zsçš„é’±ï¼Œæ‰£500</li><li>ç»™lså¢åŠ é’±ï¼Œå¢åŠ 500</li></ol><p>Aç»™Bè½¬è´¦ã€‚æ¶‰åŠåˆ°ä¸¤ä¸ªæ“ä½œï¼Œéœ€è¦ç»™Aè´¦æˆ·æ‰£é’±ï¼Œç„¶åç»™Bè´¦æˆ·å¢åŠ é’±ã€‚</p><p>å¦‚æœåœ¨è¿™ä¸ªæ“ä½œçš„è¿‡ç¨‹ä¸­ï¼Œå‡ºç°äº†å¼‚å¸¸ã€‚å¯èƒ½ä¼šå¯¼è‡´Aè´¦æˆ·çš„é’±æ‰£äº†ï¼ŒBè´¦æˆ·çš„é’±æ²¡æœ‰å¢åŠ ã€‚</p><h2 id="ä½¿ç”¨äº‹åŠ¡" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨äº‹åŠ¡" aria-hidden="true">#</a> ä½¿ç”¨äº‹åŠ¡</h2><p>å¼€å¯äº‹åŠ¡</p><p>æäº¤äº‹åŠ¡</p><p>å›æ»šäº‹åŠ¡</p><ul><li><p>API</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//  å¼€å¯äº‹åŠ¡</span>
connection<span class="token punctuation">.</span><span class="token function">setAutoCommit</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æäº¤äº‹åŠ¡</span>
connection<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å›æ»šäº‹åŠ¡</span>
connection<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å‘½ä»¤</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># å¼€å§‹äº‹åŠ¡</span>
<span class="token keyword">start</span> <span class="token keyword">transaction</span><span class="token punctuation">;</span>

<span class="token comment"># æäº¤äº‹åŠ¡</span>
<span class="token keyword">commit</span><span class="token punctuation">;</span>

<span class="token comment"># å›æ»šäº‹åŠ¡</span>
<span class="token keyword">rollback</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><div class="language-SQL line-numbers-mode" data-ext="SQL"><pre class="language-SQL"><code>create table account(
    id int primary key auto_increment,
    name varchar(50),
    money int ,
    create_time timestamp  default current_timestamp ,
    update_time timestamp  default current_timestamp on update current_timestamp
);

-- æ’å…¥ä¸€æ¡æ•°æ®ï¼š æµ©é“­   50000
insert into account(name, money) values (&#39;æµ©é“­&#39;,   50000);
insert into account(name, money) values (&#39;åˆ˜æ¥ &#39;,   20000);
insert into account(name, money) values (&#39;é»„æ°&#39;,   10000);
insert into account(name, money) values (&#39;æ®¿ç†™&#39;,   10000);

-- nameæ˜¯å”¯ä¸€çš„ã€‚   
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">transfer</span><span class="token punctuation">(</span><span class="token class-name">String</span> fromName<span class="token punctuation">,</span> <span class="token class-name">String</span> toName<span class="token punctuation">,</span> <span class="token keyword">int</span> money<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span><span class="token punctuation">,</span> <span class="token class-name">ClassNotFoundException</span> <span class="token punctuation">{</span>

        <span class="token comment">// 1.è·å–è¿æ¥</span>
        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">JdbcUtils</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.å¼€å¯äº‹åŠ¡</span>
        connection<span class="token punctuation">.</span><span class="token function">setAutoCommit</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// 3.1 æ‰£Açš„é’±</span>
            <span class="token comment">// update account set money = money - ? where name = ? and money &gt; ?</span>
            <span class="token class-name">PreparedStatement</span> preparedStatementA <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span><span class="token string">&quot;update account set money = money - ? where name = ? and &quot;</span> <span class="token operator">+</span> <span class="token string">&quot;money &gt; ?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            preparedStatementA<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
            preparedStatementA<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> fromName<span class="token punctuation">)</span><span class="token punctuation">;</span>
            preparedStatementA<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">int</span> affectedRowsA <span class="token operator">=</span> preparedStatementA<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>affectedRowsA<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>affectedRowsA <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&quot;Aè´¦æˆ·ä¿¡æ¯ä¸å¯¹&quot;</span> <span class="token operator">+</span> affectedRowsA<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">//int i = 1 / 0;</span>


            <span class="token comment">// 3.2 å¢åŠ Bè´¦æˆ·çš„é’±</span>
            <span class="token comment">// update account set money = money + ? where name = ?</span>
            <span class="token class-name">PreparedStatement</span> preparedStatementB <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span><span class="token string">&quot;update account set money = money + ? where name = ? &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            preparedStatementB<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
            preparedStatementB<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> toName<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">int</span> affectedRowsB <span class="token operator">=</span> preparedStatementB<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>affectedRowsB<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>affectedRowsB <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&quot;Bè´¦æˆ·ä¿¡æ¯ä¸å¯¹&quot;</span> <span class="token operator">+</span> affectedRowsB<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            connection<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            connection<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>


        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç‰¹æ€§" tabindex="-1"><a class="header-anchor" href="#ç‰¹æ€§" aria-hidden="true">#</a> ç‰¹æ€§</h2><p>äº‹åŠ¡é€šå¸¸å…·æœ‰å››ä¸ªæ ‡å‡†ç‰¹æ€§ï¼ˆACIDï¼‰ï¼š</p><ul><li><p>åŸå­æ€§ï¼ˆAtomicityï¼‰</p><p>äº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„æ“ä½œå•å…ƒï¼ˆæ•°æ®åº“çš„æ“ä½œï¼‰ï¼Œäº‹åŠ¡ä¸­çš„æ“ä½œè¦ä¹ˆå°±éƒ½æˆåŠŸï¼Œè¦ä¹ˆå°±éƒ½ä¸æˆåŠŸã€‚</p></li><li><p>ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰</p><p>äº‹åŠ¡å¿…é¡»ä½¿æ•°æ®åº“ä»ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€åˆ°å¦å¤–ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€ã€‚</p><p>åœ¨è½¬è´¦æ¡ˆä¾‹ä¸­ï¼Œä¸€è‡´æ€§æ˜¯æŒ‡ åœ¨è½¬è´¦å‰å’Œè½¬è´¦åï¼Œï¼ˆæ— è®ºæ€ä¹ˆè½¬è´¦ï¼‰ï¼Œé’±çš„æ€»é‡‘é¢æ˜¯å‰åä¸€è‡´çš„ï¼Œä¸å˜çš„</p></li><li><p><span style="color:red;background:yellow;font-size:æ–‡å­—å¤§å°;font-family:å­—ä½“;"><strong>éš”ç¦»æ€§ï¼ˆIsolationï¼‰</strong></span></p><p>äº‹åŠ¡ä¸äº‹åŠ¡ä¹‹é—´æ˜¯äº’ç›¸éš”ç¦»çš„ï¼Œäº’ä¸å½±å“çš„ã€‚</p><blockquote><p>æ•°æ®åº“æœ‰ä¸ºéš”ç¦»æ€§è®¾ç½®ä¸åŒçš„éš”ç¦»çº§åˆ«ã€‚ä¸åŒçš„éš”ç¦»çº§åˆ«å¯¹äºéš”ç¦»æ€§çš„å½±å“æ˜¯ä¸ä¸€æ ·çš„</p></blockquote></li><li><p>æŒä¹…æ€§ï¼ˆDurabilityï¼‰</p><p>ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦ç”Ÿæ•ˆï¼Œé‚£ä¹ˆå¯¹æ•°æ®åº“çš„æ”¹å˜æ˜¯æ°¸ä¹…çš„ï¼Œä¸å¯é€†è½¬çš„ã€‚æ„æ€å°±æ˜¯æäº¤äº†äº‹åŠ¡ä¹‹åï¼Œå°±å·²ç»å¯¹æ•°æ®åº“äº§ç”Ÿçš„å˜åŒ–ï¼Œé‚£ä¹ˆåç»­å†å›æ»šå°±å›æ»šä¸äº†äº†</p></li></ul><p>ä¸€èˆ¬é—®äº‹åŠ¡çš„å››å¤§ç‰¹æ€§ã€‚ç›´æ¥è¯´å‡ºè¿™å‡ ä¸ªçš„ä¸­æ–‡ã€‚</p><h2 id="éš”ç¦»çº§åˆ«" tabindex="-1"><a class="header-anchor" href="#éš”ç¦»çº§åˆ«" aria-hidden="true">#</a> éš”ç¦»çº§åˆ«</h2><p>å½“æ•°æ®åº“æœ‰<span style="color:red;background:yellow;"><strong>å¤šä¸ªäº‹åŠ¡åŒæ—¶æ‰§è¡Œ</strong></span>çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå‡ºç°é—®é¢˜ã€‚</p><p>è„è¯»ï¼ˆdirty readï¼‰ã€ä¸å¯é‡å¤è¯»ï¼ˆnon-repeatable readï¼‰ã€å¹»è¯»ï¼ˆphantom readï¼‰çš„é—®é¢˜ã€‚</p><ul><li><!----><blockquote><p>ä¸€ä¸ªäº‹åŠ¡è¯»å–åˆ°äº†å¦å¤–ä¸€ä¸ªäº‹åŠ¡æ²¡æœ‰æäº¤çš„æ•°æ®ã€‚ï¼ˆè¿™ä¸ªæ¯”è¾ƒä¸¥é‡ï¼‰</p></blockquote></li><li><!----><blockquote><p>åœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œè¯»å–åŒä¸€ä¸ªæ•°æ®ï¼Œå‰åè¯»å–çš„æ•°æ®ä¸ä¸€è‡´ã€‚</p><p>é€šå¸¸æŒ‡çš„æ˜¯ï¼Œåœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œè¯»å–åˆ°äº†å¦å¤–ä¸€ä¸ªäº‹åŠ¡å·²ç»æäº¤çš„æ•°æ®ã€‚</p></blockquote></li><li><!----><blockquote><p>æŒ‡åœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œè¯»å–åŒä¸€ä¸ªè¡¨æ•°æ®ï¼Œå‰åè¯»å–çš„æ•°é‡ä¸ä¸€è‡´ã€‚</p><p>é€šå¸¸æŒ‡çš„æ˜¯ï¼Œåœ¨ä¸€ä¸ªäº‹åŠ¡ï¼Œè¯»å–åˆ°äº†å¦å¤–ä¸€ä¸ªäº‹åŠ¡æ’å…¥æˆ–è€…åˆ é™¤çš„æ•°æ®ã€‚</p></blockquote></li></ul><p>äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼š</p><p>ä¸€ä¸ªå‚æ•°ï¼Œå¯ä»¥ç”¨æ¥æ§åˆ¶äº‹åŠ¡å’Œäº‹åŠ¡ä¹‹é—´çš„éš”ç¦»æ€§ã€‚</p><ul><li><!---->ï¼ˆread uncommittedï¼‰<blockquote><p>è¯»æœªæäº¤æ˜¯æŒ‡ï¼Œä¸€ä¸ªäº‹åŠ¡è¿˜æ²¡æäº¤æ—¶ï¼Œå®ƒåšçš„å˜æ›´å°±èƒ½è¢«åˆ«çš„äº‹åŠ¡çœ‹åˆ°ã€‚</p><p>ä¼šäº§ç”Ÿè„è¯»ã€‚ä¸å¯é‡å¤è¯»ï¼Œå¹»è¯» ä¼šä¸ä¼šé€ æˆï¼Ÿ</p></blockquote></li><li><!----> (read committed)<blockquote><p>è¯»æäº¤æ˜¯æŒ‡ï¼Œä¸€ä¸ªäº‹åŠ¡æäº¤ä¹‹åï¼Œå®ƒåšçš„å˜æ›´æ‰ä¼šè¢«å…¶ä»–äº‹åŠ¡çœ‹åˆ°ã€‚</p></blockquote></li><li><!----> (repeatable read)<blockquote><p><span style="color:yellow;background:red;"><strong>è¿™ä¸ªæ˜¯MySQLé»˜è®¤çš„éš”ç¦»çº§åˆ«</strong></span></p><p>å¯é‡å¤è¯»æ˜¯æŒ‡ï¼Œä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­çœ‹åˆ°çš„æ•°æ®ï¼Œæ€»æ˜¯è·Ÿè¿™ä¸ªäº‹åŠ¡åœ¨å¯åŠ¨æ—¶çœ‹åˆ°çš„æ•°æ®æ˜¯ä¸€è‡´çš„ã€‚å½“ç„¶åœ¨å¯é‡å¤è¯»éš”ç¦»çº§åˆ«ä¸‹ï¼Œæœªæäº¤å˜æ›´å¯¹å…¶ä»–äº‹åŠ¡ä¹Ÿæ˜¯ä¸å¯è§çš„ã€‚</p></blockquote></li><li><!----> (serializable)<blockquote><p>ä¸²è¡ŒåŒ–ï¼Œé¡¾åæ€ä¹‰æ˜¯å¯¹äºåŒä¸€è¡Œè®°å½•ï¼Œâ€œå†™â€ä¼šåŠ â€œå†™é”â€ï¼Œâ€œè¯»â€ä¼šåŠ â€œè¯»é”â€ã€‚å½“å‡ºç°è¯»å†™é”å†²çªçš„æ—¶å€™ï¼Œåè®¿é—®çš„äº‹åŠ¡å¿…é¡»ç­‰å‰ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œå®Œæˆï¼Œæ‰èƒ½ç»§ç»­æ‰§è¡Œã€‚</p><p>å®é™…å·¥ä½œä¸­å¾ˆå°‘é‡‡ç”¨è¯¥çº§åˆ«ã€‚</p></blockquote><blockquote><!---->ä½ éš”ç¦»å¾—è¶Šä¸¥å®ï¼Œæ•ˆç‡å°±ä¼šè¶Šä½ã€‚å› æ­¤å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬éƒ½è¦åœ¨äºŒè€…ä¹‹é—´å¯»æ‰¾ä¸€ä¸ªå¹³è¡¡ç‚¹ã€‚</blockquote></li></ul><h2 id="æ¼”ç¤º" tabindex="-1"><a class="header-anchor" href="#æ¼”ç¤º" aria-hidden="true">#</a> æ¼”ç¤º</h2><!---->æœ‰ä¸€å¼ è¡¨ï¼Œè¡¨é‡Œåªæœ‰ä¸€æ¡æ•°æ®ã€‚<div class="language-SQL line-numbers-mode" data-ext="SQL"><pre class="language-SQL"><code>create table t(
	value int
);
insert into t values (1);

-- test_52th3 ä»£è¡¨ç›´æ¥è¿›å…¥è¿™ä¸ªåº“
-- ä»£è¡¨æˆ‘è¿›å…¥ä¹‹åä¸ç”¨è°ƒç”¨ use test_52th3 
mysql -uroot -p123456 test_55th3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-SQL line-numbers-mode" data-ext="SQL"><pre class="language-SQL"><code># è·å–å½“å‰æ•°æ®åº“çš„éš”ç¦»çº§åˆ«
select @@transaction_isolation;
select @@tx_isolation;

# è®¾ç½®éš”ç¦»çº§åˆ«
set global transaction isolation level éš”ç¦»çº§åˆ«;

mysql -uroot -p123456 test_55th3

set global transaction isolation level repeatable read;

update t set value=1;

# è¯»æœªæäº¤
read uncommitted;
# è¯»å·²æäº¤
read committed;

# å¯é‡å¤è¯»
repeatable read

# ä¸²è¡ŒåŒ–
serializable;

# æ³¨æ„ã€‚è®¾ç½®äº†éš”ç¦»çº§åˆ«ã€‚å¿…é¡»è¦é‡æ–°å¯åŠ¨ä¸€ä¸‹å®¢æˆ·ç«¯ï¼Œæ‰èƒ½ç”Ÿæ•ˆã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>MySQLçš„å¯é‡å¤ï¼Œå¯ä»¥è§£å†³éƒ¨åˆ†å¹»è¯»é—®é¢˜ï¼Œä¸èƒ½å®Œå…¨è§£å†³ã€‚</p><figure><img src="/assets/image-20221226112408097-BrlvR72g.png" alt="image-20221226112408097" tabindex="0" loading="lazy"><figcaption>image-20221226112408097</figcaption></figure><ul><li>è¯»æœªæäº¤ï¼šV1ã€V2ã€V3å‡ä¸º2ã€‚</li><li>è¯»å·²æäº¤: V1ä¸º1ï¼ŒV2ä¸º2ï¼ŒV3ä¸º2</li><li>å¯é‡å¤è¯»ï¼š V1,V2ä¸º1ï¼Œ V3ä¸º2</li><li>ä¸²è¡ŒåŒ–: äº‹åŠ¡2ä¿®æ”¹çš„è¿‡ç¨‹ä¸­ã€‚ä¼šä¸€ç›´ç­‰å¾…ï¼Œç›´åˆ°äº‹åŠ¡1æäº¤</li></ul><div class="language-JAVA line-numbers-mode" data-ext="JAVA"><pre class="language-JAVA"><code>åç«¯å·¥ç¨‹
https://gitee.com/snow-lee/java-gui

å‰ç«¯å·¥ç¨‹
https://gitee.com/snow-lee/vue-gui

å°è¯•æŠŠè¿™ä¸¤ä¸ªé¡¹ç›®èµ·èµ·æ¥äº†ã€‚ ç„¶åå¦‚æœèƒ½çœ‹æ‡‚åç«¯ä»£ç ï¼Œèƒ½æ”¹æ›´å¥½ã€‚
    å‰ç«¯è¿™å—ï¼Œèƒ½æ”¹æ›´å¥½ã€‚ 
    
    conntroller   ===&gt; æœåŠ¡å™¨å†…éƒ¨è·¯å¾„
    service  
    mapper(dao)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å·¥ä½œè¿‡ç¨‹éœ€è¦çš„æ•°æ®åº“çŸ¥è¯†ï¼Œæˆ‘ä»¬å·²ç»å…·å¤‡äº†ã€‚</p><p>ä½†æ˜¯é¢è¯•çš„æ—¶å€™ï¼Œä¼šè¢«é—®çš„é—®é¢˜æœ‰å¾ˆå¤šå¾ˆå¤šã€‚</p><p>å…³äºæ•°æ®åº“è¿™å—ï¼Œå»ºè®®å¤šå­¦ã€‚</p><p>leetcodeå’Œå­¦å­¦æ•°æ®åº“çš„é—®é¢˜ã€‚</p><p>é”¦ä¸Šæ·»èŠ±</p></div><!--[--><!----><!--]--><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/LSauce/JavaLearnCode/edit/main/src/java/database/03_JDBC.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: ls_satan@qq.com">LSauce</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a aria-label="02. SQL" class="vp-link nav-link prev nav-link prev" href="/java/database/02_SQL.html"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->02. SQL</div></a><a aria-label="04. è¿æ¥æ± " class="vp-link nav-link next nav-link next" href="/java/database/04_%E8%BF%9E%E6%8E%A5%E6%B1%A0.html"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">04. è¿æ¥æ± <!----></div></a></nav><!----><!--[--><!----><!--]--><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">é»˜è®¤é¡µè„š</div><div class="vp-copyright">Copyright Â© 2024 ç©ºçµ</div></footer></div><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-C2Ya8jiw.js" defer></script>
  </body>
</html>
