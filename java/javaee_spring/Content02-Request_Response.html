<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.0" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.3" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://mister-hope.github.io/java/javaee_spring/Content02-Request_Response.html"><meta property="og:site_name" content="Index Team"><meta property="og:title" content="02. Request&Response"><meta property="og:description" content="Servletä¸­çš„Request&Response"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-02-21T13:42:37.000Z"><meta property="article:author" content="çŸ³å¤´"><meta property="article:modified_time" content="2024-02-21T13:42:37.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"02. Request&Response","image":[""],"dateModified":"2024-02-21T13:42:37.000Z","author":[{"@type":"Person","name":"çŸ³å¤´"}]}</script><title>02. Request&Response | Index Team</title><meta name="description" content="Servletä¸­çš„Request&Response">
    <link rel="preload" href="/assets/style-CXukzDwj.css" as="style"><link rel="stylesheet" href="/assets/style-CXukzDwj.css">
    <link rel="modulepreload" href="/assets/app-DnMTRoWd.js"><link rel="modulepreload" href="/assets/Content02-Request_Response.html-B2QFRGzV.js"><link rel="modulepreload" href="/assets/Content02-Request_Response.html-Yy5BBdy5.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-W8bxZYCI.js" as="script"><link rel="prefetch" href="/assets/intro.html-CkD8PWZu.js" as="script"><link rel="prefetch" href="/assets/00_DataBaseæ€ç»´å¯¼å›¾.html-DeMlQ0Mi.js" as="script"><link rel="prefetch" href="/assets/01_HTTP_Tomcat.html-C2CTLvZt.js" as="script"><link rel="prefetch" href="/assets/02_SQL.html-Bkjo21wS.js" as="script"><link rel="prefetch" href="/assets/03_JDBC.html-BwKxt2f2.js" as="script"><link rel="prefetch" href="/assets/04_è¿æ¥æ± .html-8fpg78gk.js" as="script"><link rel="prefetch" href="/assets/05_ç´¢å¼•.html-4tQ0Qlox.js" as="script"><link rel="prefetch" href="/assets/06_Mybatis.html-Dtoztgp_.js" as="script"><link rel="prefetch" href="/assets/00_JavaSEæ€ç»´å¯¼å›¾.html-HVcvSpdh.js" as="script"><link rel="prefetch" href="/assets/01_JavaåŸºæœ¬ä»‹ç».html-DbHfHBQw.js" as="script"><link rel="prefetch" href="/assets/02_JavaåŸºç¡€è¯­æ³•.html-CdDVJ2BT.js" as="script"><link rel="prefetch" href="/assets/03_æ–¹æ³•.html-RERjD1Ik.js" as="script"><link rel="prefetch" href="/assets/04_æ•°ç»„.html-C-Nmv9AV.js" as="script"><link rel="prefetch" href="/assets/05_è¡¥å……é€’å½’.html-BJN8Je_y.js" as="script"><link rel="prefetch" href="/assets/06_é¢å‘å¯¹è±¡åŸºç¡€.html-0YXU3XQ3.js" as="script"><link rel="prefetch" href="/assets/07_é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹å¾.html-Co0YXxd5.js" as="script"><link rel="prefetch" href="/assets/08_é¢å‘å¯¹è±¡è®¾è®¡.html-BT-qfWeX.js" as="script"><link rel="prefetch" href="/assets/09_Object.html-WZFgy53g.js" as="script"><link rel="prefetch" href="/assets/10_è¡¥å……å…¶ä»–å¸¸ç”¨ç±».html-Ntu_aRv8.js" as="script"><link rel="prefetch" href="/assets/11_String.html-1PCGYGNj.js" as="script"><link rel="prefetch" href="/assets/12_å¼‚å¸¸.html-D7oRSttw.js" as="script"><link rel="prefetch" href="/assets/13_File.html-BbekeoYk.js" as="script"><link rel="prefetch" href="/assets/14_IO.html-B9dMwVK1.js" as="script"><link rel="prefetch" href="/assets/15_å¤šçº¿ç¨‹åŸºç¡€.html-DFhb--dl.js" as="script"><link rel="prefetch" href="/assets/16_ç½‘ç»œç¼–ç¨‹.html-CsA-5Sy_.js" as="script"><link rel="prefetch" href="/assets/17_åå°„.html-DDWa1bU3.js" as="script"><link rel="prefetch" href="/assets/18_æ³¨è§£.html-DCFc8wme.js" as="script"><link rel="prefetch" href="/assets/19_GC.html-B3BObRqr.js" as="script"><link rel="prefetch" href="/assets/20_æ³›å‹.html-BiDOdSwn.js" as="script"><link rel="prefetch" href="/assets/21_Collection.html-BNW6UMF3.js" as="script"><link rel="prefetch" href="/assets/22_Map.html-Bx64mCvU.js" as="script"><link rel="prefetch" href="/assets/23_Stream.html-NEnkdRPW.js" as="script"><link rel="prefetch" href="/assets/Content00-Springæ€ç»´å¯¼å›¾.html-CyUEH4eO.js" as="script"><link rel="prefetch" href="/assets/Content01-Servlet.html-pZLOujOR.js" as="script"><link rel="prefetch" href="/assets/Content03-Conversation.html-CzW-inkM.js" as="script"><link rel="prefetch" href="/assets/01_Git.html-C3GR4zbB.js" as="script"><link rel="prefetch" href="/assets/404.html-DHmRyZon.js" as="script"><link rel="prefetch" href="/assets/index.html-Cz2Dg9wp.js" as="script"><link rel="prefetch" href="/assets/index.html-92dJkgHt.js" as="script"><link rel="prefetch" href="/assets/index.html-DEMyWGYN.js" as="script"><link rel="prefetch" href="/assets/index.html-CPGGwuaZ.js" as="script"><link rel="prefetch" href="/assets/index.html-CjfXLFQn.js" as="script"><link rel="prefetch" href="/assets/index.html-C8U81z81.js" as="script"><link rel="prefetch" href="/assets/index.html-BndlxUH1.js" as="script"><link rel="prefetch" href="/assets/index.html-DM8m46xI.js" as="script"><link rel="prefetch" href="/assets/index.html-R71bDBhL.js" as="script"><link rel="prefetch" href="/assets/index.html-DX7_7lX3.js" as="script"><link rel="prefetch" href="/assets/index.html-DoGO4bcQ.js" as="script"><link rel="prefetch" href="/assets/index.html-CZXqR7PM.js" as="script"><link rel="prefetch" href="/assets/intro.html-vgJ1th1u.js" as="script"><link rel="prefetch" href="/assets/00_DataBaseæ€ç»´å¯¼å›¾.html-BqTjsGkw.js" as="script"><link rel="prefetch" href="/assets/01_HTTP_Tomcat.html-DZ-tdsXN.js" as="script"><link rel="prefetch" href="/assets/02_SQL.html-B7rNj762.js" as="script"><link rel="prefetch" href="/assets/03_JDBC.html-B3F6dW1p.js" as="script"><link rel="prefetch" href="/assets/04_è¿æ¥æ± .html-BCj-zGmE.js" as="script"><link rel="prefetch" href="/assets/05_ç´¢å¼•.html-QijFKLRF.js" as="script"><link rel="prefetch" href="/assets/06_Mybatis.html-D0ia-Eib.js" as="script"><link rel="prefetch" href="/assets/00_JavaSEæ€ç»´å¯¼å›¾.html-BkCAfBr9.js" as="script"><link rel="prefetch" href="/assets/01_JavaåŸºæœ¬ä»‹ç».html-CU76kDda.js" as="script"><link rel="prefetch" href="/assets/02_JavaåŸºç¡€è¯­æ³•.html-D20fp8EB.js" as="script"><link rel="prefetch" href="/assets/03_æ–¹æ³•.html-BCxNbyiG.js" as="script"><link rel="prefetch" href="/assets/04_æ•°ç»„.html-DRghPy_e.js" as="script"><link rel="prefetch" href="/assets/05_è¡¥å……é€’å½’.html-DlP9zJ5L.js" as="script"><link rel="prefetch" href="/assets/06_é¢å‘å¯¹è±¡åŸºç¡€.html-DTnipVBx.js" as="script"><link rel="prefetch" href="/assets/07_é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹å¾.html-Dil1zdpH.js" as="script"><link rel="prefetch" href="/assets/08_é¢å‘å¯¹è±¡è®¾è®¡.html-3c75l2Mb.js" as="script"><link rel="prefetch" href="/assets/09_Object.html-TfbL8X6_.js" as="script"><link rel="prefetch" href="/assets/10_è¡¥å……å…¶ä»–å¸¸ç”¨ç±».html-DQtsjrm-.js" as="script"><link rel="prefetch" href="/assets/11_String.html-DdrHtA8T.js" as="script"><link rel="prefetch" href="/assets/12_å¼‚å¸¸.html-CBP3i1AM.js" as="script"><link rel="prefetch" href="/assets/13_File.html-Bd8jhmBJ.js" as="script"><link rel="prefetch" href="/assets/14_IO.html-C2qu1MGc.js" as="script"><link rel="prefetch" href="/assets/15_å¤šçº¿ç¨‹åŸºç¡€.html-BAX1KujA.js" as="script"><link rel="prefetch" href="/assets/16_ç½‘ç»œç¼–ç¨‹.html-bQXzu3Qz.js" as="script"><link rel="prefetch" href="/assets/17_åå°„.html-Chbk_-hR.js" as="script"><link rel="prefetch" href="/assets/18_æ³¨è§£.html-B6IqEZT1.js" as="script"><link rel="prefetch" href="/assets/19_GC.html-7SE8aVC4.js" as="script"><link rel="prefetch" href="/assets/20_æ³›å‹.html-CnpEkl8_.js" as="script"><link rel="prefetch" href="/assets/21_Collection.html-BdwBrLSr.js" as="script"><link rel="prefetch" href="/assets/22_Map.html-jUSwlnRN.js" as="script"><link rel="prefetch" href="/assets/23_Stream.html-cnhypdgQ.js" as="script"><link rel="prefetch" href="/assets/Content00-Springæ€ç»´å¯¼å›¾.html-D0RYMmz1.js" as="script"><link rel="prefetch" href="/assets/Content01-Servlet.html-rgJwnwh2.js" as="script"><link rel="prefetch" href="/assets/Content03-Conversation.html-Dq-mRwkC.js" as="script"><link rel="prefetch" href="/assets/01_Git.html-DEBZh0j_.js" as="script"><link rel="prefetch" href="/assets/404.html-BAeAxHoJ.js" as="script"><link rel="prefetch" href="/assets/index.html-jACMBvoS.js" as="script"><link rel="prefetch" href="/assets/index.html-CbIh3Dn7.js" as="script"><link rel="prefetch" href="/assets/index.html-Cm8KOsKr.js" as="script"><link rel="prefetch" href="/assets/index.html-CBoDia0t.js" as="script"><link rel="prefetch" href="/assets/index.html-DEEprPMB.js" as="script"><link rel="prefetch" href="/assets/index.html-aUfJfeGM.js" as="script"><link rel="prefetch" href="/assets/index.html-iZ-HG_5V.js" as="script"><link rel="prefetch" href="/assets/index.html-DUJ94VKu.js" as="script"><link rel="prefetch" href="/assets/index.html-akE1lQfB.js" as="script"><link rel="prefetch" href="/assets/index.html-D63xeYys.js" as="script"><link rel="prefetch" href="/assets/index.html-CYjBXnlN.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-SzV8tJDW.js" as="script"><link rel="prefetch" href="/assets/SearchResult-xvToY6p1.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/"><img class="vp-nav-logo" src="https://theme-hope-assets.vuejs.press/logo.svg" alt="Index Team"><!----><span class="vp-site-name hide-in-pad">Index Team</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="Index Team Blog" class="vp-link nav-link nav-link" href="/"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>Index Team Blog<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Javaå¼€å‘æ–‡æ¡£" class="vp-link nav-link active nav-link active" href="/java/"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span>Javaå¼€å‘æ–‡æ¡£<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="åšæ–‡"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>åšæ–‡</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>è‹¹æœ</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a aria-label="è‹¹æœ1" class="vp-link nav-link nav-link" href="/posts/apple/1.html"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>è‹¹æœ1<!----></a></li><li class="dropdown-subitem"><a aria-label="è‹¹æœ2" class="vp-link nav-link nav-link" href="/posts/apple/2.html"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>è‹¹æœ2<!----></a></li><li class="dropdown-subitem"><a aria-label="/posts/apple/3" class="vp-link nav-link nav-link" href="/posts/apple/3.html"><!---->/posts/apple/3<!----></a></li><li class="dropdown-subitem"><a aria-label="/posts/apple/4" class="vp-link nav-link nav-link" href="/posts/apple/4.html"><!---->/posts/apple/4<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>é¦™è•‰</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a aria-label="é¦™è•‰ 1" class="vp-link nav-link nav-link" href="/posts/banana/1.html"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>é¦™è•‰ 1<!----></a></li><li class="dropdown-subitem"><a aria-label="é¦™è•‰ 2" class="vp-link nav-link nav-link" href="/posts/banana/2.html"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>é¦™è•‰ 2<!----></a></li><li class="dropdown-subitem"><a aria-label="/posts/banana/3" class="vp-link nav-link nav-link" href="/posts/banana/3.html"><!---->/posts/banana/3<!----></a></li><li class="dropdown-subitem"><a aria-label="/posts/banana/4" class="vp-link nav-link nav-link" href="/posts/banana/4.html"><!---->/posts/banana/4<!----></a></li></ul></li><li class="dropdown-item"><a aria-label="æ¨±æ¡ƒ" class="vp-link nav-link nav-link" href="/posts/cherry.html"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>æ¨±æ¡ƒ<!----></a></li><li class="dropdown-item"><a aria-label="ç«é¾™æœ" class="vp-link nav-link nav-link" href="/posts/dragonfruit.html"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>ç«é¾™æœ<!----></a></li><li class="dropdown-item"><a aria-label="/posts/tomato" class="vp-link nav-link nav-link" href="/posts/tomato.html"><!---->/posts/tomato<!----></a></li><li class="dropdown-item"><a aria-label="/posts/strawberry" class="vp-link nav-link nav-link" href="/posts/strawberry.html"><!---->/posts/strawberry<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="https://theme-hope.vuejs.press/zh/" rel="noopener noreferrer" target="_blank" aria-label="V2 æ–‡æ¡£" class="nav-link"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span>V2 æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/LSauce/JavaLearnCode" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button type="button" class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">æœç´¢</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><!--[--><a aria-label="Index Team Blog" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>Index Team Blog<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><a aria-label="JavaSE" class="vp-link nav-link vp-sidebar-title nav-link vp-sidebar-title" href="/java/java-se/"><!---->JavaSE<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><a aria-label="DataBase" class="vp-link nav-link vp-sidebar-title nav-link vp-sidebar-title" href="/java/database/"><!---->DataBase<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><a aria-label="JavaEE_Spring" class="vp-link nav-link active vp-sidebar-title nav-link active vp-sidebar-title" href="/java/javaee_spring/"><!---->JavaEE_Spring<!----></a><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a aria-label="00. JavaEE_Springæ€ç»´å¯¼å›¾" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/java/javaee_spring/Content00-Spring%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE.html"><!---->00. JavaEE_Springæ€ç»´å¯¼å›¾<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="01. Servlet" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/java/javaee_spring/Content01-Servlet.html"><!---->01. Servlet<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="02. Request&amp;Response" class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active nav-link active vp-sidebar-link vp-sidebar-page active" href="/java/javaee_spring/Content02-Request_Response.html"><!---->02. Request&amp;Response<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="å­¦ä¹ ç›®æ ‡" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#å­¦ä¹ ç›®æ ‡"><!---->å­¦ä¹ ç›®æ ‡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å‰ç½®çŸ¥è¯†å‡†å¤‡" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#å‰ç½®çŸ¥è¯†å‡†å¤‡"><!---->å‰ç½®çŸ¥è¯†å‡†å¤‡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="è¯·æ±‚æŠ¥æ–‡" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#è¯·æ±‚æŠ¥æ–‡"><!---->è¯·æ±‚æŠ¥æ–‡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å“åº”æŠ¥æ–‡" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#å“åº”æŠ¥æ–‡"><!---->å“åº”æŠ¥æ–‡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="åå°„" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#åå°„"><!---->åå°„<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="è·å¾—Classå¯¹è±¡" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#è·å¾—classå¯¹è±¡"><!---->è·å¾—Classå¯¹è±¡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="è·å¾—æˆå‘˜å˜é‡å¹¶ç»™æˆå‘˜å˜é‡èµ‹å€¼" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#è·å¾—æˆå‘˜å˜é‡å¹¶ç»™æˆå‘˜å˜é‡èµ‹å€¼"><!---->è·å¾—æˆå‘˜å˜é‡å¹¶ç»™æˆå‘˜å˜é‡èµ‹å€¼<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="è·å¾—æ–¹æ³•å¹¶ä¸”èƒ½å¤Ÿè°ƒç”¨æ–¹æ³•" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#è·å¾—æ–¹æ³•å¹¶ä¸”èƒ½å¤Ÿè°ƒç”¨æ–¹æ³•"><!---->è·å¾—æ–¹æ³•å¹¶ä¸”èƒ½å¤Ÿè°ƒç”¨æ–¹æ³•<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="MyBatis" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#mybatis"><!---->MyBatis<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="è¯·æ±‚è¡Œ" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#è¯·æ±‚è¡Œ"><!---->è¯·æ±‚è¡Œ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="è¯·æ±‚å¤´" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#è¯·æ±‚å¤´"><!---->è¯·æ±‚å¤´<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="è¯·æ±‚ä½“" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#è¯·æ±‚ä½“"><!---->è¯·æ±‚ä½“<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ç‰¹æ®Šä¿¡æ¯" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#ç‰¹æ®Šä¿¡æ¯"><!---->ç‰¹æ®Šä¿¡æ¯<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="å®¢æˆ·æœºå’ŒæœåŠ¡å™¨ä¸»æœºä¿¡æ¯(äº†è§£)" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#å®¢æˆ·æœºå’ŒæœåŠ¡å™¨ä¸»æœºä¿¡æ¯-äº†è§£"><!---->å®¢æˆ·æœºå’ŒæœåŠ¡å™¨ä¸»æœºä¿¡æ¯(äº†è§£)<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="â˜…è¯·æ±‚å‚æ•°" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#â˜…è¯·æ±‚å‚æ•°"><!---->â˜…è¯·æ±‚å‚æ•°<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="ç›´æ¥å°è£…" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#ç›´æ¥å°è£…"><!---->ç›´æ¥å°è£…<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å¼•ç”¨ç±»å‹" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#å¼•ç”¨ç±»å‹"><!---->å¼•ç”¨ç±»å‹<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Postè¯·æ±‚è¯·æ±‚å‚æ•°ä¹±ç " class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#postè¯·æ±‚è¯·æ±‚å‚æ•°ä¹±ç "><!---->Postè¯·æ±‚è¯·æ±‚å‚æ•°ä¹±ç <!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ–‡ä»¶ä¸Šä¼ " class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#æ–‡ä»¶ä¸Šä¼ "><!---->æ–‡ä»¶ä¸Šä¼ <!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Requeståšè¯·æ±‚è½¬å‘ï¼ˆäº†è§£ï¼‰" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#requeståšè¯·æ±‚è½¬å‘-äº†è§£"><!---->Requeståšè¯·æ±‚è½¬å‘ï¼ˆäº†è§£ï¼‰<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å“åº”è¡Œ" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#å“åº”è¡Œ"><!---->å“åº”è¡Œ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å“åº”å¤´" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#å“åº”å¤´"><!---->å“åº”å¤´<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å“åº”ä½“" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#å“åº”ä½“"><!---->å“åº”ä½“<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ç‰¹æ®Šå“åº”å¤´" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#ç‰¹æ®Šå“åº”å¤´"><!---->ç‰¹æ®Šå“åº”å¤´<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="refresh" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#refresh"><!---->refresh<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Content-Type" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#content-type"><!---->Content-Type<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="content-disposition" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#content-disposition"><!---->content-disposition<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="location" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#location"><!---->location<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="è¯·æ±‚åˆ†å‘æ¡ˆä¾‹" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#è¯·æ±‚åˆ†å‘æ¡ˆä¾‹"><!---->è¯·æ±‚åˆ†å‘æ¡ˆä¾‹<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ç™»å½•æ¡ˆä¾‹" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#ç™»å½•æ¡ˆä¾‹"><!---->ç™»å½•æ¡ˆä¾‹<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ï¼ˆé¡¹ç›®ï¼‰ä¼šå‘˜ç®¡ç†" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#é¡¹ç›®-ä¼šå‘˜ç®¡ç†"><!---->ï¼ˆé¡¹ç›®ï¼‰ä¼šå‘˜ç®¡ç†<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="å°ç»“" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#å°ç»“"><!---->å°ç»“<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ç»ƒä¹ é¢˜" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/java/javaee_spring/Content02-Request_Response.html#ç»ƒä¹ é¢˜"><!---->ç»ƒä¹ é¢˜<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a aria-label="03. Conversation" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/java/javaee_spring/Content03-Conversation.html"><!---->03. Conversation<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->02. Request&amp;Response</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">çŸ³å¤´</span></span><span property="author" content="çŸ³å¤´"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-02-21T13:42:37.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 30 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT30M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#å­¦ä¹ ç›®æ ‡">å­¦ä¹ ç›®æ ‡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#å‰ç½®çŸ¥è¯†å‡†å¤‡">å‰ç½®çŸ¥è¯†å‡†å¤‡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#è¯·æ±‚æŠ¥æ–‡">è¯·æ±‚æŠ¥æ–‡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#å“åº”æŠ¥æ–‡">å“åº”æŠ¥æ–‡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#åå°„">åå°„</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#è·å¾—classå¯¹è±¡">è·å¾—Classå¯¹è±¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#è·å¾—æˆå‘˜å˜é‡å¹¶ç»™æˆå‘˜å˜é‡èµ‹å€¼">è·å¾—æˆå‘˜å˜é‡å¹¶ç»™æˆå‘˜å˜é‡èµ‹å€¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#è·å¾—æ–¹æ³•å¹¶ä¸”èƒ½å¤Ÿè°ƒç”¨æ–¹æ³•">è·å¾—æ–¹æ³•å¹¶ä¸”èƒ½å¤Ÿè°ƒç”¨æ–¹æ³•</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#mybatis">MyBatis</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#è¯·æ±‚è¡Œ">è¯·æ±‚è¡Œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#è¯·æ±‚å¤´">è¯·æ±‚å¤´</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#è¯·æ±‚ä½“">è¯·æ±‚ä½“</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#ç‰¹æ®Šä¿¡æ¯">ç‰¹æ®Šä¿¡æ¯</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#å®¢æˆ·æœºå’ŒæœåŠ¡å™¨ä¸»æœºä¿¡æ¯-äº†è§£">å®¢æˆ·æœºå’ŒæœåŠ¡å™¨ä¸»æœºä¿¡æ¯(äº†è§£)</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#â˜…è¯·æ±‚å‚æ•°">â˜…è¯·æ±‚å‚æ•°</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#ç›´æ¥å°è£…">ç›´æ¥å°è£…</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#å¼•ç”¨ç±»å‹">å¼•ç”¨ç±»å‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#postè¯·æ±‚è¯·æ±‚å‚æ•°ä¹±ç ">Postè¯·æ±‚è¯·æ±‚å‚æ•°ä¹±ç </a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#æ–‡ä»¶ä¸Šä¼ ">æ–‡ä»¶ä¸Šä¼ </a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#requeståšè¯·æ±‚è½¬å‘-äº†è§£">Requeståšè¯·æ±‚è½¬å‘ï¼ˆäº†è§£ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#å“åº”è¡Œ">å“åº”è¡Œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#å“åº”å¤´">å“åº”å¤´</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#å“åº”ä½“">å“åº”ä½“</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#ç‰¹æ®Šå“åº”å¤´">ç‰¹æ®Šå“åº”å¤´</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#refresh">refresh</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#content-type">Content-Type</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#content-disposition">content-disposition</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#location">location</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#è¯·æ±‚åˆ†å‘æ¡ˆä¾‹">è¯·æ±‚åˆ†å‘æ¡ˆä¾‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#ç™»å½•æ¡ˆä¾‹">ç™»å½•æ¡ˆä¾‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#é¡¹ç›®-ä¼šå‘˜ç®¡ç†">ï¼ˆé¡¹ç›®ï¼‰ä¼šå‘˜ç®¡ç†</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#å°ç»“">å°ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#ç»ƒä¹ é¢˜">ç»ƒä¹ é¢˜</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><h1 id="å‰è¨€" tabindex="-1"><a class="header-anchor" href="#å‰è¨€" aria-hidden="true">#</a> å‰è¨€</h1><h2 id="å­¦ä¹ ç›®æ ‡" tabindex="-1"><a class="header-anchor" href="#å­¦ä¹ ç›®æ ‡" aria-hidden="true">#</a> å­¦ä¹ ç›®æ ‡</h2><blockquote><ol><li>ç†è§£Requestã€Responseå’ŒHTTPæŠ¥æ–‡ä¹‹é—´çš„å…³ç³»</li><li>æŒæ¡é€šè¿‡Requestèƒ½å¤Ÿè·å¾—çš„ä¿¡æ¯ <ul><li>è¯·æ±‚URLã€URIã€è¯·æ±‚åè®®</li><li>è¯·æ±‚å¤´ã€å®¢æˆ·æœºå’Œä¸»æœº</li><li>è¯·æ±‚å‚æ•°</li></ul></li><li>æŒæ¡é€šè¿‡Responseèƒ½å¤Ÿå®Œæˆçš„è®¾ç½® <ul><li>å“åº”ä¸­æ–‡ä¹±ç é—®é¢˜</li><li>å“åº”ï¼ˆJsonï¼‰å­—ç¬¦ä¸²ã€å›¾ç‰‡ï¼ˆæ–‡ä»¶ï¼‰</li><li>äº†è§£ç‰¹æ®Šçš„å“åº”å¤´</li></ul></li><li>é€æ­¥é€šè¿‡åå°„èƒ½å¤Ÿè§£å†³ä¸€äº›é€šç”¨é—®é¢˜</li></ol></blockquote><h2 id="å‰ç½®çŸ¥è¯†å‡†å¤‡" tabindex="-1"><a class="header-anchor" href="#å‰ç½®çŸ¥è¯†å‡†å¤‡" aria-hidden="true">#</a> å‰ç½®çŸ¥è¯†å‡†å¤‡</h2><blockquote><ul><li>HTTP è¯·æ±‚æŠ¥æ–‡å’Œå“åº”æŠ¥æ–‡ <ul><li>è¯·æ±‚æŠ¥æ–‡å’Œå“åº”æŠ¥æ–‡åˆ†åˆ«åŒ…å«å“ªäº›éƒ¨åˆ†</li></ul></li><li>åå°„reflect <ul><li>è·å¾—Classå¯¹è±¡</li><li>è·å¾—æˆå‘˜å˜é‡å¹¶ç»™æˆå‘˜å˜é‡èµ‹å€¼</li><li>è·å¾—æ–¹æ³•å¹¶ä¸”èƒ½å¤Ÿè°ƒç”¨æŒ‡å®šæ–¹æ³•</li></ul></li><li>MyBatisçš„åŸºæœ¬ä½¿ç”¨</li><li>é€šè¿‡formè¡¨å•åˆ†åˆ«æ„é€ getè¯·æ±‚å’Œpostè¯·æ±‚ï¼Œèƒ½æ„é€ æ–‡ä»¶ä¸Šä¼ çš„è¯·æ±‚</li><li>è§£æå­—ç¬¦ä¸²è·å¾—å…¶ä¸­çš„ä¿¡æ¯</li></ul></blockquote><h2 id="è¯·æ±‚æŠ¥æ–‡" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚æŠ¥æ–‡" aria-hidden="true">#</a> è¯·æ±‚æŠ¥æ–‡</h2><p>è¯·æ±‚æŠ¥æ–‡çš„ç»„æˆéƒ¨åˆ†</p><ul><li>è¯·æ±‚è¡Œ <ul><li>è¯·æ±‚æ–¹æ³•</li><li>è¯·æ±‚çš„URL http://localhost:8080/hello</li><li>è¯·æ±‚åè®®</li></ul></li><li>è¯·æ±‚å¤´ <ul><li>æ ¼å¼æ˜¯keyï¼švalue</li><li>æ¯”è¾ƒç‰¹æ®Šçš„è¯·æ±‚å¤´ï¼š <ul><li>Content-Type ç”±æµè§ˆå™¨æä¾›ç»™æœåŠ¡å™¨çš„æ­£æ–‡ç±»å‹</li><li>Accept æµè§ˆå™¨æœŸæœ›ä»æœåŠ¡å™¨è·å¾—æ­£æ–‡çš„ç±»å‹ï¼ˆ æœåŠ¡å™¨æä¾›ç»™æµè§ˆå™¨çš„æ­£æ–‡ç±»å‹ï¼‰</li><li>Host ä¸»æœºip</li></ul></li></ul></li><li>ï¼ˆç©ºè¡Œï¼‰</li><li>è¯·æ±‚æ­£æ–‡ <ul><li>æ™®é€šçš„Getè¯·æ±‚å’Œformè¡¨å•æä¾›çš„Get/Postè¯·æ±‚ å¦‚æœæºå¸¦äº†å‚æ•°å®ƒçš„æ ¼å¼æ˜¯ key1=value1&amp;key2=value2&amp;key3=value3ç­‰</li><li>æºå¸¦Jsonæ•°æ®çš„postè¯·æ±‚ {}æˆ–[]</li><li>å›¾ç‰‡/æ–‡ä»¶</li></ul></li></ul><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token request-line"><span class="token method property">POST</span> <span class="token request-target url">http://101.43.69.31:8083/admin/auth/login</span> <span class="token http-version property">HTTP/1.1</span></span>
<span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">101.43.69.31:8083</span></span>
<span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">keep-alive</span></span>
<span class="token header"><span class="token header-name keyword">Content-Length</span><span class="token punctuation">:</span> <span class="token header-value">45</span></span>
<span class="token header"><span class="token header-name keyword">Accept</span><span class="token punctuation">:</span> <span class="token header-value">application/json, text/plain, */*</span></span>
<span class="token header"><span class="token header-name keyword">User-Agent</span><span class="token punctuation">:</span> <span class="token header-value">Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.78</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json;charset=UTF-8</span></span>
<span class="token header"><span class="token header-name keyword">Origin</span><span class="token punctuation">:</span> <span class="token header-value">http://101.43.69.31:8080</span></span>
<span class="token header"><span class="token header-name keyword">Referer</span><span class="token punctuation">:</span> <span class="token header-value">http://101.43.69.31:8080/</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">gzip, deflate</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Language</span><span class="token punctuation">:</span> <span class="token header-value">zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6</span></span>

{&quot;username&quot;:&quot;admin123&quot;,&quot;password&quot;:&quot;admin123&quot;}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ†æä¸€ä¸ªè¯·æ±‚ä½“</p><p>å¯¹åº”çš„formè¡¨å•å¦‚ä¸‹</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/hello<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multipart/form-data<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/assets/image-20230828101512945-DHRrgSaR.png" alt="image-20230828101512945" tabindex="0" loading="lazy"><figcaption>image-20230828101512945</figcaption></figure><h2 id="å“åº”æŠ¥æ–‡" tabindex="-1"><a class="header-anchor" href="#å“åº”æŠ¥æ–‡" aria-hidden="true">#</a> å“åº”æŠ¥æ–‡</h2><p>å“åº”æŠ¥æ–‡çš„ç»„æˆ</p><ul><li>å“åº”è¡Œ <ul><li>åè®®</li><li>çŠ¶æ€ç </li></ul></li><li>å“åº”å¤´ <ul><li>æ ¼å¼æ˜¯key=value</li><li>Content-Type æœåŠ¡å™¨æä¾›ç»™æµè§ˆå™¨çš„æ­£æ–‡ç±»å‹ï¼Œåé¢é€šå¸¸ä¼šè·Ÿcharsetï¼Œæ¯”å¦‚application/json;charset=utf-8</li></ul></li><li>ï¼ˆç©ºè¡Œï¼‰</li><li>å“åº”æ­£æ–‡ <ul><li>å¦‚æœæ˜¯jsonï¼ŒContent-Typeä¸­é€šå¸¸æ˜¯application/json</li></ul></li></ul><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>HTTP/1.1 200
<span class="token header"><span class="token header-name keyword">Vary</span><span class="token punctuation">:</span> <span class="token header-value">accept-encoding,origin,access-control-request-headers,access-control-request-method,accept-encoding</span></span>
<span class="token header"><span class="token header-name keyword">Set-Cookie</span><span class="token punctuation">:</span> <span class="token header-value">rememberMe=deleteMe; Path=/; Max-Age=0; Expires=Sun, 12-Feb-2023 06:51:56 GMT</span></span>
<span class="token header"><span class="token header-name keyword">Set-Cookie</span><span class="token punctuation">:</span> <span class="token header-value">JSESSIONID=24287278-5ebb-407d-a3f7-56b74782c4c7; Path=/; HttpOnly</span></span>
<span class="token header"><span class="token header-name keyword">Access-Control-Allow-Origin</span><span class="token punctuation">:</span> <span class="token header-value">*</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json;charset=UTF-8</span></span>
<span class="token header"><span class="token header-name keyword">Date</span><span class="token punctuation">:</span> <span class="token header-value">Mon, 13 Feb 2023 06:51:56 GMT</span></span>
<span class="token header"><span class="token header-name keyword">Content-Length</span><span class="token punctuation">:</span> <span class="token header-value">200</span></span>

{&quot;errno&quot;:0,&quot;data&quot;:{&quot;adminInfo&quot;:{&quot;nickName&quot;:&quot;admin123&quot;,&quot;avatar&quot;:&quot;https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif&quot;},&quot;token&quot;:&quot;24287278-5ebb-407d-a3f7-56b74782c4c7&quot;},&quot;errmsg&quot;:&quot;æˆåŠŸ&quot;}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="åå°„" tabindex="-1"><a class="header-anchor" href="#åå°„" aria-hidden="true">#</a> åå°„</h2><h3 id="è·å¾—classå¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#è·å¾—classå¯¹è±¡" aria-hidden="true">#</a> è·å¾—Classå¯¹è±¡</h3><p>è·å¾—Classå¯¹è±¡çš„æ–¹å¼</p><p>å®šä¹‰äº†ä¸€ä¸ªç±»ï¼Œè¿™ä¸ªç±»ï¼Œå¤„äºcom.cskaoyan.serviceåŒ…ä¸‹ï¼Œç±»åä¸ºUserServiceImplï¼Œæˆ‘ä»¬æƒ³è¦è·å¾—è¿™ä¸ªClasså¯¹è±¡ï¼Œå¦‚ä½•è·å¾—å‘¢ï¼Ÿ</p><ul><li><p>UserServiceImpl.class</p></li><li><blockquote><p>UserServiceImpl userService = new UserServiceImpl();</p><p>useService.getClass();</p></blockquote></li><li><p>Class.forName(&quot;com.cskaoyan.service.UserServiceImpl&quot;)</p></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserServiceImpl</span><span class="token punctuation">&gt;</span></span> clazz1 <span class="token operator">=</span> <span class="token class-name">UserServiceImpl</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>

<span class="token class-name">UserServiceImpl</span> userService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">UserServiceImpl</span><span class="token punctuation">&gt;</span></span> clazz2 <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> clazz3 <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.cskaoyan.service.UserServiceImpl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæˆ‘ä»¬æƒ³è¦ä½¿ç”¨ä¸€äº›é€šç”¨æ€§çš„ä»£ç ï¼Œæˆ‘ä»¬ç”¨å“ªç§æ–¹å¼ï¼Ÿ</p><p>Class.forName</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">IllegalAccessException</span><span class="token punctuation">,</span> <span class="token class-name">InstantiationException</span> <span class="token punctuation">{</span>
    <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">DriverDemo</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;parameter.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    properties<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span> driver <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> properties<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> driverClass <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Object</span> instance <span class="token operator">=</span> driverClass<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token comment"># parameter.properties</span>
<span class="token comment"># driver=com.cskaoyan.service.UserServiceImpl</span>
<span class="token key attr-name">driver</span><span class="token punctuation">=</span><span class="token value attr-value">com.mysql.cj.jdbc.Driver</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬ä½¿ç”¨çš„mysqlç‰ˆæœ¬æ˜¯5.7ï¼Œå¯¹åº”çš„é©±åŠ¨æ˜¯com.mysql.jdbc.Driver</p><p>å¦‚æœä½¿ç”¨mysqlç‰ˆæœ¬8ï¼Œå¯¹åº”çš„é©±åŠ¨com.mysql.cj.jdbc.Driver</p><h3 id="è·å¾—æˆå‘˜å˜é‡å¹¶ç»™æˆå‘˜å˜é‡èµ‹å€¼" tabindex="-1"><a class="header-anchor" href="#è·å¾—æˆå‘˜å˜é‡å¹¶ç»™æˆå‘˜å˜é‡èµ‹å€¼" aria-hidden="true">#</a> è·å¾—æˆå‘˜å˜é‡å¹¶ç»™æˆå‘˜å˜é‡èµ‹å€¼</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// é€šè¿‡classèƒ½å¤Ÿè·å¾—å®ä¾‹</span>
<span class="token comment">// å¯ä»¥ç›´æ¥ä½¿ç”¨newInstanceæ–¹æ³•</span>
<span class="token class-name">Object</span> instance1 <span class="token operator">=</span> clazz3<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å¯ä»¥å…ˆè·å¾—æ„é€ å™¨ï¼ˆæ„é€ æ–¹æ³•ï¼‰ï¼Œé€šè¿‡æ„é€ æ–¹æ³•å®ä¾‹åŒ–</span>
<span class="token class-name">Constructor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> constructor <span class="token operator">=</span> clazz3<span class="token punctuation">.</span><span class="token function">getDeclaredConstructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Object</span> instance2 <span class="token operator">=</span> constructor<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ©ç”¨åå°„æ–¹å¼è·å¾—Fieldï¼Œé€šè¿‡åå°„çš„æ–¹å¼å¤åˆ¶</span>
<span class="token class-name">Field</span> usernameField <span class="token operator">=</span> clazz3<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// user3.setUsername(&quot;&quot;)</span>
usernameField<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
usernameField<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>instance2<span class="token punctuation">,</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// instance2çš„usernameè¿™ä¸ªæˆå‘˜å˜é‡èµ‹å€¼zhangsan</span>
                                        <span class="token comment">// instance2.username = &quot;zhangsan&quot;;</span>

<span class="token comment">// æˆ‘ä»¬å¹¶ä¸å»ºè®®ç›´æ¥é€šè¿‡åå°„çš„æ–¹å¼ç»™æˆå‘˜å˜é‡èµ‹å€¼ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨setæ–¹æ³•åšèµ‹å€¼</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è·å¾—æ–¹æ³•å¹¶ä¸”èƒ½å¤Ÿè°ƒç”¨æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#è·å¾—æ–¹æ³•å¹¶ä¸”èƒ½å¤Ÿè°ƒç”¨æ–¹æ³•" aria-hidden="true">#</a> è·å¾—æ–¹æ³•å¹¶ä¸”èƒ½å¤Ÿè°ƒç”¨æ–¹æ³•</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//UserServiceImpl userServiceImpl = (UserServiceImpl) instance1;</span>
<span class="token comment">//userServiceImpl.setUsername(&quot;lisi&quot;);</span>
<span class="token comment">// é€šè¿‡åå°„çš„æ–¹å¼å®ç°é€šç”¨æ€§çš„è®¾ç½®</span>

<span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
properties<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token class-name">ReflectExecution</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;parameter.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> className <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> properties<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;className&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> method <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>properties<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;method&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> value <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>properties<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> clazz <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Object</span> instance <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//instanceçš„usernameæˆå‘˜å˜é‡æ˜¯å¦æ˜¯lisi</span>
<span class="token class-name">Method</span> declaredMethod <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span>method<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
declaredMethod<span class="token punctuation">.</span><span class="token function">setAccessable</span><span class="token punctuation">(</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Object</span> invoke <span class="token operator">=</span> declaredMethod<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// method.invoke</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Object invoke = method.invoke(instance,args)</p><table><thead><tr><th>å˜é‡å</th><th>ç±»å‹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>method</td><td>Method â†’ clazz.getDeclaredMethod</td><td>é€šè¿‡åå°„è·å¾—çš„Method</td></tr><tr><td>instance</td><td>Object 1. new XXX ; 2.åå°„,æ¯”å¦‚clazz.newInstance</td><td>å°±æ˜¯å®ä¾‹ï¼ˆå¯¹è±¡ï¼‰</td></tr><tr><td>args</td><td>Object[]</td><td>å‚æ•°ï¼ŒæŠŠæ‰€æœ‰çš„å‚æ•°å°è£…ä¸ºæ•°ç»„</td></tr><tr><td>invoke</td><td>Object</td><td>instanceå¯¹è±¡æ‰§è¡Œmethodçš„è¿”å›å€¼</td></tr></tbody></table><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * é€šè¿‡åå°„çš„æ–¹å¼æ‰§è¡ŒUserServiceImplä¸­çš„sayHello
 */</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{</span>
    <span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    properties<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token class-name">ReflectExecution</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;parameter.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> className <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> properties<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;className&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> method <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>properties<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;method&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> value <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>properties<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//String parameter1 = (String)properties.get(&quot;parameter1&quot;);</span>
    <span class="token comment">//String parameter2 = (String)properties.get(&quot;parameter2&quot;);</span>
    <span class="token class-name">Object</span> parameter1 <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;parameter1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Object</span> parameter2 <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;parameter2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> clazz <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Object</span> instance <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Method</span> setUsername <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">&quot;setUsername&quot;</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    setUsername<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//Method declaredMethod = clazz.getDeclaredMethod(method, String.class,String.class);</span>
    <span class="token class-name">Method</span> declaredMethod <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span>method<span class="token punctuation">,</span> parameter1<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>parameter2<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//æ‰§è¡ŒsayHelloæ–¹æ³•</span>
    <span class="token class-name">Object</span> result <span class="token operator">=</span> declaredMethod<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>parameter1<span class="token punctuation">,</span> parameter2<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="mybatis" tabindex="-1"><a class="header-anchor" href="#mybatis" aria-hidden="true">#</a> MyBatis</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;mybatis.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­ç»´æŠ¤è¿™ä¸ªå¯¹è±¡ï¼Œæƒ³è¦åœ¨å¤šä¸ªServletä¸­å…±äº«è¿™ä¸ªå¯¹è±¡</span>
<span class="token comment">// ServletContext</span>
<span class="token comment">// æä¾›ä¸€ä¸ªServletï¼ŒloadOnStartupä¸ºæ­£æ•°ï¼Œä¸”æ•°å€¼æ¯”è¾ƒå°ï¼Œè¿™ä¸ªServletåœ¨åº”ç”¨ç¨‹åºå¯åŠ¨è¿‡ç¨‹ä¸­å°±ä¼šç‡å…ˆå¼€å§‹åˆå§‹åŒ–ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨ç”Ÿå‘½å‘¨æœŸçš„initæ–¹æ³•å»åˆå§‹åŒ–SqlSessionFactoryå®ä¾‹ï¼Œå¹¶ä¸”å°†å…¶æ”¾å…¥åˆ°ServletContextä¸­</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#æ¦‚è¿°" aria-hidden="true">#</a> æ¦‚è¿°</h1><p><strong>Request è¯·æ±‚</strong></p><p><strong>Response å“åº”</strong></p><p>å…ˆçœ‹æˆ‘ä»¬ä¹‹å‰å¼€å‘çš„Servletï¼Œåœ¨Servletä¸­çš„serviceä»¥åŠHttpServletçš„doGetã€doPostæ–¹æ³•ä¸­çš„å½¢å‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨Tomcatçš„æ—¶å€™å°±ä¼šäº§ç”ŸRequestï¼ŒåŒæ—¶ä¹Ÿä¼šäº§ç”ŸResponse</p><p>å¯ä»¥è¿™æ ·å­ç†è§£ï¼Œå½“æˆ‘ä»¬é€šè¿‡æµè§ˆå™¨ï¼ˆæˆ–å®¢æˆ·ç«¯ï¼‰å‘é€è¯·æ±‚ï¼Œåœ¨æœåŠ¡å™¨åº”ç”¨ä¸­æ•´ä¸ªè¿‡ç¨‹ä¸­çš„ä¿¡æ¯æµé€šéƒ½æ˜¯é€šè¿‡Requestã€Responseæµé€šçš„</p><p><strong>Requestï¼šè·å¾—æä¾›çš„ä¿¡æ¯ï¼Œä¸»è¦ä½¿ç”¨çš„æ˜¯å…¶getXXXæ–¹æ³•</strong></p><p><strong>Responseï¼šè®¾ç½®ä¿¡æ¯æä¾›ç»™å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰ï¼Œä¸»è¦ä½¿ç”¨çš„æ˜¯å…¶setXXXæ–¹æ³•</strong></p><img src="/assets/image-20221031112258094-B6_fYt22.png" style="zoom:50%;"><img src="/assets/image-20230313104005727-BA3_-42v.png" alt="image-20230313104005727" style="zoom:50%;"><figure><img src="/assets/image-20230213172659060-Dri_vJQH.png" alt="image-20230213172659060" tabindex="0" loading="lazy"><figcaption>image-20230213172659060</figcaption></figure><p>æ¯æ¬¡å‘èµ·è¯·æ±‚ï¼Œå…¶å®äº§ç”Ÿä¸€ç»„æ–°çš„Requestå’ŒResponseå¯¹è±¡</p><p><span style="color:yellow;background:red;font-size:æ–‡å­—å¤§å°;font-family:å­—ä½“;"><strong>è®°ä½ä¸€ä¸ªç‚¹ï¼šä½¿ç”¨Requestä¸»è¦ä¸ºäº†è¾“å…¥ï¼Œä½¿ç”¨Responseä¸»è¦ä¸ºäº†è¾“å‡º</strong></span></p><!---->ã€‚<p>ä¸ºäº†æä¾›ç»Ÿä¸€çš„è§„èŒƒï¼Œæä¾›ç»Ÿä¸€çš„è§„èŒƒæ¥å£ServletRequestå’ŒServletResponseï¼Œä¸ºä»€ä¹ˆæä¾›çš„æ˜¯æ¥å£ï¼Œæ¥å£èƒ½å¤Ÿæä¾›ç»Ÿä¸€çš„è§„èŒƒ</p><h1 id="request" tabindex="-1"><a class="header-anchor" href="#request" aria-hidden="true">#</a> Request</h1><p>HttpServletRequest è·å¾—HTTPè¯·æ±‚æŠ¥æ–‡ä¸­æºå¸¦çš„ä¿¡æ¯</p><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token request-line"><span class="token method property">POST</span> <span class="token request-target url">http://101.43.69.31:8083/admin/auth/login</span> <span class="token http-version property">HTTP/1.1</span></span>
<span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">101.43.69.31:8083</span></span>
<span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">keep-alive</span></span>
<span class="token header"><span class="token header-name keyword">Content-Length</span><span class="token punctuation">:</span> <span class="token header-value">45</span></span>
<span class="token header"><span class="token header-name keyword">Accept</span><span class="token punctuation">:</span> <span class="token header-value">application/json, text/plain, */*</span></span>
<span class="token header"><span class="token header-name keyword">User-Agent</span><span class="token punctuation">:</span> <span class="token header-value">Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.78</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json;charset=UTF-8</span></span>
<span class="token header"><span class="token header-name keyword">Origin</span><span class="token punctuation">:</span> <span class="token header-value">http://101.43.69.31:8080</span></span>
<span class="token header"><span class="token header-name keyword">Referer</span><span class="token punctuation">:</span> <span class="token header-value">http://101.43.69.31:8080/</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">gzip, deflate</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Language</span><span class="token punctuation">:</span> <span class="token header-value">zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6</span></span>

{&quot;username&quot;:&quot;admin123&quot;,&quot;password&quot;:&quot;admin123&quot;}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯·æ±‚æŠ¥æ–‡çš„ç»„æˆ</p><ul><li>è¯·æ±‚è¡Œ</li><li>è¯·æ±‚å¤´</li><li>ï¼ˆç©ºè¡Œï¼‰</li><li>è¯·æ±‚ä½“</li></ul><h2 id="è¯·æ±‚è¡Œ" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚è¡Œ" aria-hidden="true">#</a> è¯·æ±‚è¡Œ</h2><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token request-line"><span class="token method property">POST</span> <span class="token request-target url">http://101.43.69.31:8083/admin/auth/login</span> <span class="token http-version property">HTTP/1.1</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token request-line"><span class="token method property">GET</span> <span class="token request-target url">http://localhost:8080/demo3/hello?username=zhangsan</span> <span class="token http-version property">HTTP/1.1</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>ä¿¡æ¯</th><th>å†…å®¹</th><th>æ–¹æ³•</th><th>è¿”å›å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>è¯·æ±‚æ–¹æ³•</td><td>POSTã€GET</td><td>getMethod()</td><td>String</td><td>è·å¾—è¯·æ±‚æ–¹æ³•</td></tr><tr><td>URL</td><td>http://101.43.69.31:8083/admin/auth/login</td><td>getRequestURL()</td><td>StringBuffer</td><td>è·å¾—è¯·æ±‚URL</td></tr><tr><td>URI</td><td>/admin/auth/loginã€/demo3/hello</td><td>getRequestURI()</td><td>String</td><td>è·å¾—è¯·æ±‚URI</td></tr><tr><td>context-path</td><td>/demo3</td><td>getContextPath()</td><td>String</td><td>è·å¾—ä¸Šä¸‹æ–‡</td></tr><tr><td>æœåŠ¡å™¨ip</td><td>101.43.69.31ã€localhost</td><td>getLocalAddr()</td><td>String</td><td>è·å¾—ip</td></tr><tr><td>ç«¯å£å·</td><td>8083ã€8080</td><td>getLocalPort()</td><td>int</td><td>è·å¾—ç«¯å£å·</td></tr><tr><td>QueryString</td><td>username=zhangsan</td><td>getQueryString()</td><td>String</td><td>è·å¾—Getè¯·æ±‚çš„æŸ¥è¯¢å­—ç¬¦ä¸²</td></tr><tr><td>åè®®</td><td>HTTP/1.1</td><td>getProtocol()</td><td>String</td><td>è·å¾—é€šè®¯åè®®</td></tr></tbody></table><p>ä»£ç </p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/line&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LineServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// http://localhost:8080/demo3/line?username=zhangsan</span>
        <span class="token comment">// http://192.168.0.180:8080/demo3/line?username=zhangsan</span>
        <span class="token comment">// 192.168.0.180å¯ä»¥ä¿®æ”¹ä¸ºè‡ªå·±çš„ip</span>
        
        <span class="token comment">// è¯·æ±‚æ–¹æ³•</span>
        <span class="token class-name">String</span> method <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è¯·æ±‚URLå’ŒURI</span>
        <span class="token class-name">String</span> url <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getRequestURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> uri <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// æœåŠ¡å™¨æœ¬åœ°çš„IPå’Œç«¯å£å·</span>
        <span class="token class-name">String</span> localAddr <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getLocalAddr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> localPort <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getLocalPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// åº”ç”¨çš„ä¸Šä¸‹æ–‡è·¯å¾„</span>
        <span class="token class-name">String</span> contextPath <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è¯·æ±‚åè®®</span>
        <span class="token class-name">String</span> protocol <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getProtocol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="è¯·æ±‚å¤´" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚å¤´" aria-hidden="true">#</a> è¯·æ±‚å¤´</h2><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">101.43.69.31:8083</span></span>
<span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">keep-alive</span></span>
<span class="token header"><span class="token header-name keyword">Content-Length</span><span class="token punctuation">:</span> <span class="token header-value">45</span></span>
<span class="token header"><span class="token header-name keyword">Accept</span><span class="token punctuation">:</span> <span class="token header-value">application/json, text/plain, */*</span></span>
<span class="token header"><span class="token header-name keyword">User-Agent</span><span class="token punctuation">:</span> <span class="token header-value">Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.78</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json;charset=UTF-8</span></span>
<span class="token header"><span class="token header-name keyword">Origin</span><span class="token punctuation">:</span> <span class="token header-value">http://101.43.69.31:8080</span></span>
<span class="token header"><span class="token header-name keyword">Referer</span><span class="token punctuation">:</span> <span class="token header-value">http://101.43.69.31:8080/</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">gzip, deflate</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Language</span><span class="token punctuation">:</span> <span class="token header-value">zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯·æ±‚å¤´ä¸­çš„ä¿¡æ¯ï¼Œéƒ½æ˜¯keyï¼švalueçš„å½¢å¼</p><ul><li>å¯ä»¥çŸ¥é“æœ‰å“ªä¸€äº›è¯·æ±‚å¤´ Key â†’ è·å¾—æ‰€æœ‰çš„è¯·æ±‚å¤´</li><li>ä¹Ÿå¯ä»¥çŸ¥é“è¿™äº›è¯·æ±‚å¤´å½“ä¸­çš„å€¼æ˜¯ä»€ä¹ˆ Value â†’ è·å¾—ç‰¹å®šKeyå¯¹åº”çš„Value</li></ul><table><thead><tr><th>æ–¹æ³•</th><th>è¿”å›å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>getHeaderNames()</td><td>Enumeration&lt;String&gt;</td><td>è·å¾—æ‰€æœ‰çš„è¯·æ±‚å¤´ï¼Œå¯ä»¥é€šè¿‡éå†çš„æ–¹å¼æ¥ä½¿ç”¨ï¼Œä½¿ç”¨æ–¹å¼ç±»ä¼¼äºIterator</td></tr><tr><td>getHeader(String)</td><td>String</td><td>ä¼ å…¥çš„æ˜¯è¯·æ±‚å¤´çš„Keyï¼Œè¿”å›çš„æ˜¯è¯·æ±‚å¤´çš„value</td></tr></tbody></table><p>æ„é€ ä¸€ä¸ªè¯·æ±‚ï¼Œè¯·æ±‚æŠ¥æ–‡</p><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token request-line"><span class="token method property">GET</span> <span class="token request-target url">http://192.168.0.180:8080/demo4/header</span> <span class="token http-version property">HTTP/1.1</span></span>
<span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">192.168.0.180:8080</span></span>
<span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">keep-alive</span></span>
<span class="token header"><span class="token header-name keyword">Upgrade-Insecure-Requests</span><span class="token punctuation">:</span> <span class="token header-value">1</span></span>
<span class="token header"><span class="token header-name keyword">User-Agent</span><span class="token punctuation">:</span> <span class="token header-value">Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.41</span></span>
<span class="token header"><span class="token header-name keyword">Accept</span><span class="token punctuation">:</span> <span class="token header-value">text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">gzip, deflate</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Language</span><span class="token punctuation">:</span> <span class="token header-value">zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç </p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/header&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HeaderServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> headerNames <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getHeaderNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰€æœ‰çš„è¯·æ±‚å¤´&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>headerNames<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> headerName <span class="token operator">=</span> headerNames<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>headerName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// æƒ³è¦è·å¾—Hostè¯·æ±‚å¤´çš„å€¼</span>
        <span class="token class-name">String</span> hostValue <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Host&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hostValue = &quot;</span> <span class="token operator">+</span> hostValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ§åˆ¶å°è¾“å‡ºçš„ç»“æœ</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>æ‰€æœ‰çš„è¯·æ±‚å¤´
host
connection
cache-control
upgrade-insecure-requests
user-agent
accept
accept-encoding
accept-language
hostValue = 192.168.0.180:8080
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥ç›´æ¥è¾“å…¥å¯¹åº”çš„key-value</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> headerNames <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getHeaderNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰€æœ‰çš„è¯·æ±‚å¤´&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>headerNames<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> headerName <span class="token operator">=</span> headerNames<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> headerValue <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span>headerName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>headerName <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> headerValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å°ç»ƒä¹ ï¼šèƒ½å¤Ÿåˆ¤æ–­ï¼Œæ˜¯å¦åŒ…å«æŸä¸ªè¯·æ±‚å¤´å‘¢?å¦‚æœåŒ…å«ï¼Œè¯·æŠŠå¯¹åº”å€¼æ‰“å°å‡ºæ¥</p></blockquote><p>æ³¨æ„äº‹é¡¹ï¼šè¯·æ±‚å¤´å¤§å°å†™ä¸æ•æ„Ÿ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// æƒ³è¦è·å¾—Hostè¯·æ±‚å¤´çš„å€¼</span>
<span class="token class-name">String</span> hostValue <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Host&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> hostValue2 <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">&quot;host&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> hostValue3 <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">&quot;HOST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="è¯·æ±‚ä½“" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚ä½“" aria-hidden="true">#</a> è¯·æ±‚ä½“</h2><p>è¯·æ±‚æŠ¥æ–‡æ˜¯</p><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token request-line"><span class="token method property">POST</span> <span class="token request-target url">http://localhost:8080/demo5/body</span> <span class="token http-version property">HTTP/1.1</span></span>
<span class="token header"><span class="token header-name keyword">User-Agent</span><span class="token punctuation">:</span> <span class="token header-value">PostmanRuntime/7.29.2</span></span>
<span class="token header"><span class="token header-name keyword">Accept</span><span class="token punctuation">:</span> <span class="token header-value">*/*</span></span>
<span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">localhost:8080</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">gzip, deflate, br</span></span>
<span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">keep-alive</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/x-www-form-urlencoded</span></span>
<span class="token header"><span class="token header-name keyword">Content-Length</span><span class="token punctuation">:</span> <span class="token header-value">17</span></span>

username=zhangsan
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯·æ±‚ä½“çš„éƒ¨åˆ†</p><blockquote><p>username=zhangsan</p></blockquote><p>å­—èŠ‚æµInputStreamã€å­—ç¬¦æµReader</p><table><thead><tr><th>å†…å®¹</th><th>æ–¹æ³•</th><th>è¿”å›å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>å­—èŠ‚æµ</td><td>getInputStream()</td><td>ServletInputStream</td><td>è·å¾—å­—èŠ‚æµ</td></tr><tr><td>å­—ç¬¦æµ</td><td>getReader()</td><td>BufferedReader</td><td>è·å¾—å­—ç¬¦æµ</td></tr></tbody></table><p>å­—èŠ‚æµ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/body1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BodyServlet1</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">ServletInputStream</span> inputStream <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;D:\\tmp&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">FileOutputStream</span> outputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">int</span> length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>length <span class="token operator">=</span> inputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            outputStream<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        outputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        inputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å­—ç¬¦æµ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/body2&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BodyServlet2</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">BufferedReader</span> reader <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;D:\\tmp&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BufferedWriter</span> bufferedWriter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>str <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            bufferedWriter<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        bufferedWriter<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bufferedWriter<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        reader<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç‰¹æ®Šä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#ç‰¹æ®Šä¿¡æ¯" aria-hidden="true">#</a> ç‰¹æ®Šä¿¡æ¯</h2><h3 id="å®¢æˆ·æœºå’ŒæœåŠ¡å™¨ä¸»æœºä¿¡æ¯-äº†è§£" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·æœºå’ŒæœåŠ¡å™¨ä¸»æœºä¿¡æ¯-äº†è§£" aria-hidden="true">#</a> å®¢æˆ·æœºå’ŒæœåŠ¡å™¨ä¸»æœºä¿¡æ¯(äº†è§£)</h3><p>è¯·æ±‚æ˜¯ä»å®¢æˆ·æœºå‘åˆ°æœåŠ¡å™¨çš„ï¼Œåœ¨æœåŠ¡å™¨ä¸­å¤„ç†ä¿¡æ¯çš„è·å¾—ï¼Œé‚£ä¹ˆ<strong>å¯¹äºæœåŠ¡å™¨</strong>ï¼Œæœ¬åœ°localæ˜¯æœåŠ¡å™¨ï¼Œè¿œç¨‹remoteæ˜¯å®¢æˆ·æœº</p><p>æˆ‘ä»¬åœ¨Servletä¸­å¯ä»¥è·å¾—æœ¬åœ°çš„IPå’ŒPortï¼Œä¹Ÿå¯ä»¥è·å¾—è¿œç¨‹IPå’ŒPort</p><table><thead><tr><th>ä¿¡æ¯</th><th>æ–¹æ³•</th><th>è¿”å›å€¼</th></tr></thead><tbody><tr><td>æœ¬åœ°ï¼ˆæœåŠ¡å™¨ï¼‰IP</td><td>getLocalAddr()</td><td>String</td></tr><tr><td>æœ¬åœ°ï¼ˆæœåŠ¡å™¨ï¼‰ç«¯å£å·</td><td>getLocalPort()</td><td>int</td></tr><tr><td>è¿œç¨‹ï¼ˆå®¢æˆ·æœºï¼‰IP</td><td>getRemoteAddr()</td><td>String</td></tr><tr><td>è¿œç¨‹ï¼ˆå®¢æˆ·æœºï¼‰ç«¯å£å·</td><td>getRemotePort()</td><td>int</td></tr></tbody></table><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">// è·å¾—æœåŠ¡å™¨ç«¯çš„ä¿¡æ¯</span>
    <span class="token class-name">String</span> localAddr <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getLocalAddr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> localPort <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getLocalPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// è·å¾—å®¢æˆ·æœºç«¯çš„ä¿¡æ¯</span>
    <span class="token class-name">String</span> remoteAddr <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getRemoteAddr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> remotePort <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getRemotePort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç”±&quot;</span> <span class="token operator">+</span> remoteAddr <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> remotePort <span class="token operator">+</span> <span class="token string">&quot;å‘é€åˆ°&quot;</span> <span class="token operator">+</span> localAddr <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> localPort<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="â˜…è¯·æ±‚å‚æ•°" tabindex="-1"><a class="header-anchor" href="#â˜…è¯·æ±‚å‚æ•°" aria-hidden="true">#</a> â˜…è¯·æ±‚å‚æ•°</h2><p>è¯·æ±‚å‚æ•°çš„åœºæ™¯ï¼š</p><ul><li><p>è¯·æ±‚å‚æ•° åœ¨è¯·æ±‚è¡Œä¸­</p><ul><li>getQueryString()</li></ul></li><li><p>è¯·æ±‚å‚æ•° åœ¨è¯·æ±‚ä½“ä¸­</p><ul><li>getInputStream()/getReader()</li></ul></li></ul><p>æŒ‡çš„æ˜¯key=value&amp;key=value</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/origin&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OriginServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> parameterString <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            parameterString <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getQueryString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">//ServletInputStream inputStream = request.getInputStream();</span>
            <span class="token comment">//byte[] bytes = new byte[1024];</span>
            <span class="token comment">//inputStream.read(bytes);</span>
            <span class="token comment">//parameterString = new String(bytes);</span>
            <span class="token class-name">BufferedReader</span> reader <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            parameterString <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> parameterMap <span class="token operator">=</span> <span class="token function">executeMap</span><span class="token punctuation">(</span>parameterString<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> parameterMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">executeMap</span><span class="token punctuation">(</span><span class="token class-name">String</span> parameterString<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>parameterString <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>parameterString<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> map<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//parameterArray[0] = &quot;username=zhangsan&quot;</span>
        <span class="token comment">//parameterArray[1] = &quot;password=lisi&quot;</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> parameterArray <span class="token operator">=</span> parameterString<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;\\&amp;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> parameter <span class="token operator">:</span> parameterArray<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> index <span class="token operator">=</span> parameter<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> key <span class="token operator">=</span> parameter<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> value <span class="token operator">=</span> parameter<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> parameter<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> map<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç›´æ¥å°è£…" tabindex="-1"><a class="header-anchor" href="#ç›´æ¥å°è£…" aria-hidden="true">#</a> ç›´æ¥å°è£…</h3><p>ä½†æ˜¯å®é™…å¼€å‘ä¸­å¹¶ä¸éœ€è¦æˆ‘ä»¬è‡ªå·±è¿™ä¹ˆåšï¼Œå› ä¸ºRequestå·²ç»å¸®æˆ‘ä»¬å°è£…äº†å¯ä»¥ç›´æ¥ä½¿ç”¨çš„æ–¹æ³•äº†</p><p>request.getParameterXXXè¿™æ ·çš„ä¸€äº›æ–¹æ³•</p><table><thead><tr><th>æ–¹æ³•</th><th>è¿”å›å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>getParameterNames()</td><td>Enumeration&lt;String&gt;</td><td>è·å¾—æ‰€æœ‰çš„key</td></tr><tr><td>getParameterMap()</td><td>Map&lt;String,String[]&gt;</td><td>è·å¾—æ‰€æœ‰çš„è¯·æ±‚å‚æ•°</td></tr><tr><td>getParameter(String)</td><td>String</td><td>è·å¾—ç¬¬ä¸€ä¸ªå€¼</td></tr><tr><td>getParameterValues(String)</td><td>String[]</td><td>è·å¾—æ‰€æœ‰å€¼</td></tr></tbody></table><p>requestå¯¹äºè¯·æ±‚å‚æ•°çš„å°è£…å®é™…ä¸Šï¼Œå°è£…ä¸ºä¸€ä¸ªMap&lt;String,String[]&gt;</p><figure><img src="/assets/getParameterç›¸å…³-BqjZg0yl.png" alt="image-20230214165452004" tabindex="0" loading="lazy"><figcaption>image-20230214165452004</figcaption></figure><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * GET http://localhost:8080/demo7/parameter?key1=a1&amp;key1=a2&amp;key1=a3&amp;key2=b1&amp;key2=b2&amp;key2=b3&amp;key3=c1&amp;key3=c2&amp;key3=c3
 * key1: a1,a2,a3
 * key2: b1,b2,b3
 * key3: c1,c2,c3
 * <span class="token keyword">@author</span> stone
 * <span class="token keyword">@date</span> 2023/02/14 16:49
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/parameter&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ParameterServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> parameterMap <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> parameterNames <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameterNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>parameterNames<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> parameterName <span class="token operator">=</span> parameterNames<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;parameterName = &quot;</span> <span class="token operator">+</span> parameterName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">String</span> key1 <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;key1 = &quot;</span> <span class="token operator">+</span> key1<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> key1s <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameterValues</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;key1s = &quot;</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>key1s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¼•ç”¨ç±»å‹" tabindex="-1"><a class="header-anchor" href="#å¼•ç”¨ç±»å‹" aria-hidden="true">#</a> å¼•ç”¨ç±»å‹</h3><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token request-line"><span class="token method property">GET</span> <span class="token request-target url">http://localhost:8080/demo7/register?username=root&amp;password=123456&amp;age=20&amp;birthday=2000-10-15</span> <span class="token http-version property">HTTP/1.1</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å°†è¯·æ±‚å‚æ•°å°è£…ä¸ºä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å¯¹è±¡ï¼Œæ¯”å¦‚User</p><ul><li><p>ä¸ªæ€§åŒ–ï¼ˆå¹¶ä¸æ˜¯ä¸€ä¸ªè¤’ä¹‰è¯ï¼‰</p><ul><li><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>åå°„</p><ul><li><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">BeanUtils</span><span class="token punctuation">.</span><span class="token function">transfer</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span>parameterMap<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é€šè¿‡è‡ªå·±å†™çš„å·¥å…·ç±»ï¼Œè¿›è¡Œè½¬æ¢</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WdBeanUtils</span> <span class="token punctuation">{</span>
 <span class="token annotation punctuation">@SneakyThrows</span>
 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">transfer</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> clazz<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> parameterMap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token comment">// å…ˆåˆ›å»ºclazzå¯¹åº”çš„å®ä¾‹</span>
     <span class="token class-name">T</span> instance <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token comment">// ç»™å…¶æˆå‘˜å˜é‡èµ‹å€¼ â†’</span>
     <span class="token comment">// åå°„ç›´æ¥ç»™æˆå‘˜å˜é‡èµ‹å€¼ field.set(instance,value)</span>
     <span class="token comment">// åå°„é€šè¿‡setæ–¹æ³•é—´æ¥ç»™æˆå‘˜å˜é‡èµ‹å€¼ setMethod.invoke(instance,value)</span>

     <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> parameterMap<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token comment">// åå°„ç›´æ¥ç»™fieldèµ‹å€¼</span>
     <span class="token comment">// giveFieldValue(clazz, parameterMap, instance, iterator);</span>

     <span class="token comment">// åå°„ç›´æ¥è°ƒç”¨setæ–¹æ³•ï¼Œç»™setæ–¹æ³•ä¼ å…¥å½¢å‚ï¼Œé€šè¿‡å½¢å‚ç»™fieldèµ‹å€¼</span>
     <span class="token function">giveMethodValue</span><span class="token punctuation">(</span>clazz<span class="token punctuation">,</span> parameterMap<span class="token punctuation">,</span> instance<span class="token punctuation">,</span> iterator<span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token comment">// èµ‹å€¼å®Œæˆä¹‹åç»™å…¶è¿”å›å»</span>
     <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">void</span> <span class="token function">giveMethodValue</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> clazz<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> parameterMap<span class="token punctuation">,</span> <span class="token class-name">T</span> instance<span class="token punctuation">,</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> iterator<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">NoSuchFieldException</span><span class="token punctuation">,</span> <span class="token class-name">NoSuchMethodException</span><span class="token punctuation">,</span> <span class="token class-name">IllegalAccessException</span><span class="token punctuation">,</span> <span class="token class-name">InvocationTargetException</span> <span class="token punctuation">{</span>
     <span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token class-name">String</span> fieldName <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token comment">// æ‹¼æ¥setæ–¹æ³•å</span>
         <span class="token comment">// username â†’ setUsername</span>
         <span class="token comment">// password â†’ setPassword</span>
         <span class="token comment">// fieldName é¦–å­—æ¯å¤§å†™</span>
         <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chars <span class="token operator">=</span> fieldName<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         chars<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-=</span> <span class="token number">32</span><span class="token punctuation">;</span>
         <span class="token class-name">String</span> upperFirst <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>chars<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token class-name">String</span> setMethodName <span class="token operator">=</span> <span class="token string">&quot;set&quot;</span> <span class="token operator">+</span> upperFirst<span class="token punctuation">;</span>

         <span class="token comment">// è·å¾—å½¢å‚çš„ç±»å‹ â†’ æˆå‘˜å˜é‡çš„ç±»å‹</span>
         <span class="token class-name">Field</span> field <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> type <span class="token operator">=</span> field<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token class-name">Method</span> method <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span>setMethodName<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//setæ–¹æ³•</span>

         <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> value <span class="token operator">=</span> parameterMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">;</span>

         <span class="token keyword">if</span> <span class="token punctuation">(</span>field<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
             method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">)</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
             <span class="token comment">//method.invoke(instance, value);</span>
             method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> value<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>

     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">void</span> <span class="token function">giveFieldValue</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> clazz<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> parameterMap<span class="token punctuation">,</span> <span class="token class-name">T</span> instance<span class="token punctuation">,</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> iterator<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">NoSuchFieldException</span><span class="token punctuation">,</span> <span class="token class-name">IllegalAccessException</span> <span class="token punctuation">{</span>
     <span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token comment">// è¯·æ±‚å‚æ•°å â†’ æˆå‘˜å˜é‡å</span>
         <span class="token class-name">String</span> fieldName <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token class-name">Field</span> field <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">;</span>
         field<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token comment">// åˆ¤æ–­fieldå¯¹åº”çš„æˆå‘˜å˜é‡çš„ç±»å‹æ˜¯å¦æ˜¯æ•°ç»„ï¼Œ</span>
         <span class="token comment">// å¦‚æœæ˜¯æ•°ç»„ï¼Œç»™å…¶çš„å€¼æ˜¯value</span>
         <span class="token comment">// å¦‚æœä¸æ˜¯æ•°ç»„ï¼Œç»™å…¶çš„å€¼æ˜¯value[0]</span>
         <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> value <span class="token operator">=</span> parameterMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span>field<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
             field<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
             field<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> value<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>BeanUtils</p><ul><li><p>å¼•å…¥ä¾èµ–commons-beanutils</p></li><li><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">BeanUtils</span><span class="token punctuation">.</span><span class="token function">copyProperties</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> parameterMap<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç›´æ¥ä½¿ç”¨å…¶æä¾›çš„copyPropertiesæ–¹æ³•</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul></li></ul><h3 id="postè¯·æ±‚è¯·æ±‚å‚æ•°ä¹±ç " tabindex="-1"><a class="header-anchor" href="#postè¯·æ±‚è¯·æ±‚å‚æ•°ä¹±ç " aria-hidden="true">#</a> Postè¯·æ±‚è¯·æ±‚å‚æ•°ä¹±ç </h3><p>ä¹±ç é—®é¢˜ï¼šç¼–è§£ç ä¸ä¸€è‡´</p><p>æ„é€ ä¸€ä¸ªformè¡¨å•ï¼Œä¸€ä¸ªGetè¯·æ±‚ï¼Œä¸€ä¸ªæ˜¯Postè¯·æ±‚ï¼Œåˆ†åˆ«å»è·å¾—è¯·æ±‚å‚æ•°ï¼ŒæŸ¥çœ‹é€šè¿‡Getå’ŒPostè¯·æ±‚è·å¾—çš„è¯·æ±‚å‚æ•°</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>GETè¯·æ±‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/demo8/parameter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>get<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>POSTè¯·æ±‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/demo8/parameter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;username = &quot;</span> <span class="token operator">+</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ–‡ä»¶ä¸Šä¼ " tabindex="-1"><a class="header-anchor" href="#æ–‡ä»¶ä¸Šä¼ " aria-hidden="true">#</a> æ–‡ä»¶ä¸Šä¼ </h3><p>åœ¨å®é™…çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæœ‰äº›åœºæ™¯éœ€è¦åšæ–‡ä»¶ä¸Šä¼ ï¼Œæ¯”å¦‚ä¸Šä¼ å¤´åƒï¼Œä¸Šä¼ å•†å“çš„æè¿°å›¾ç‰‡ç­‰ã€‚</p><blockquote><p>æˆ‘ä»¬é¦–å…ˆæ¥çœ‹æ–‡ä»¶ä¸Šä¼ çš„è¯·æ±‚çš„formè¡¨å•å¦‚ä½•æ„é€ </p><p>ç„¶åæ¥çœ‹å…¶å¯¹åº”çš„è¯·æ±‚æŠ¥æ–‡æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Œç„¶åæˆ‘ä»¬åœ¨åšè¿›ä¸€æ­¥çš„åˆ†æ</p></blockquote><p>åˆ›å»ºäº†ä¸€ä¸ªformè¡¨å•å¦‚ä¸‹</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/demo9/upload<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multipart/form-data<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ç”¨æˆ·ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    å¤´åƒï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æäº¤<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹</p><figure><img src="/assets/image-20230310101121087-z2V9dqd1.png" alt="image-20230310101121087" tabindex="0" loading="lazy"><figcaption>image-20230310101121087</figcaption></figure><p>ç„¶åæ„é€ è¯·æ±‚æ•°æ®</p><figure><img src="/assets/image-20230310101252663-XjuJ-wn7.png" alt="image-20230310101252663" tabindex="0" loading="lazy"><figcaption>image-20230310101252663</figcaption></figure><p>æ¥ä¸‹æ¥å‘é€è¯·æ±‚ï¼Œå¹¶ä¸”é€šè¿‡fiddleræ¥æŠ“å–è¯·æ±‚æŠ¥æ–‡</p><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token request-line"><span class="token method property">POST</span> <span class="token request-target url">http://localhost:8080/demo9/upload</span> <span class="token http-version property">HTTP/1.1</span></span>
<span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">localhost:8080</span></span>
<span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">keep-alive</span></span>
<span class="token header"><span class="token header-name keyword">Content-Length</span><span class="token punctuation">:</span> <span class="token header-value">1148487</span></span>
<span class="token header"><span class="token header-name keyword">Cache-Control</span><span class="token punctuation">:</span> <span class="token header-value">max-age=0</span></span>
<span class="token header"><span class="token header-name keyword">sec-ch-ua</span><span class="token punctuation">:</span> <span class="token header-value">&quot;Chromium&quot;;v=&quot;110&quot;, &quot;Not A(Brand&quot;;v=&quot;24&quot;, &quot;Microsoft Edge&quot;;v=&quot;110&quot;</span></span>
<span class="token header"><span class="token header-name keyword">sec-ch-ua-mobile</span><span class="token punctuation">:</span> <span class="token header-value">?0</span></span>
<span class="token header"><span class="token header-name keyword">sec-ch-ua-platform</span><span class="token punctuation">:</span> <span class="token header-value">&quot;Windows&quot;</span></span>
<span class="token header"><span class="token header-name keyword">Upgrade-Insecure-Requests</span><span class="token punctuation">:</span> <span class="token header-value">1</span></span>
<span class="token header"><span class="token header-name keyword">Origin</span><span class="token punctuation">:</span> <span class="token header-value">http://localhost:8080</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">multipart/form-data; boundary=----WebKitFormBoundary1pgACDbBGFGBPZYi</span></span>
<span class="token header"><span class="token header-name keyword">User-Agent</span><span class="token punctuation">:</span> <span class="token header-value">Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.63</span></span>
<span class="token header"><span class="token header-name keyword">Accept</span><span class="token punctuation">:</span> <span class="token header-value">text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-Site</span><span class="token punctuation">:</span> <span class="token header-value">same-origin</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-Mode</span><span class="token punctuation">:</span> <span class="token header-value">navigate</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-User</span><span class="token punctuation">:</span> <span class="token header-value">?1</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-Dest</span><span class="token punctuation">:</span> <span class="token header-value">document</span></span>
<span class="token header"><span class="token header-name keyword">Referer</span><span class="token punctuation">:</span> <span class="token header-value">http://localhost:8080/demo15/upload.html</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">gzip, deflate, br</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Language</span><span class="token punctuation">:</span> <span class="token header-value">zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6</span></span>
<span class="token header"><span class="token header-name keyword">Cookie</span><span class="token punctuation">:</span> <span class="token header-value">Idea-dcbc35b9=2a0b80c2-0c01-4b8f-846d-d0915e770aa6</span></span>

------WebKitFormBoundary1pgACDbBGFGBPZYi
<span class="token header"><span class="token header-name keyword">Content-Disposition</span><span class="token punctuation">:</span> <span class="token header-value">form-data; name=&quot;username&quot;</span></span>

wangdao
------WebKitFormBoundary1pgACDbBGFGBPZYi
<span class="token header"><span class="token header-name keyword">Content-Disposition</span><span class="token punctuation">:</span> <span class="token header-value">form-data; name=&quot;avatar&quot;; filename=&quot;logo.png&quot;</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">image/png</span></span>

 PNG

   
IHDR             v    	pHYs  .#  .#x ?v  _iCCPPhotoshop ICC profile  xÚ­ ?( q   ?]  n0 ÊŸ 3  (ud  L   z _  7)  A   20$ åé¢çœç•¥äº†å¾ˆå¤šå¾ˆå¤šå†…å®¹
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ä¸Šé¢çš„è¯·æ±‚æŠ¥æ–‡ï¼Œé¦–å…ˆèƒ½å¤Ÿè¿›å…¥çœ¼å¸˜çš„æ˜¯ï¼Œå“åº”æŠ¥æ–‡ä¸­å‡ºç°äº†ä¸€å †æœªçŸ¥çš„å­—ç¬¦</p><p>è¿™äº›å†…å®¹å…¶å®åŒ…å«äº†å›¾ç‰‡çš„å­—èŠ‚æ•°æ®</p><figure><img src="/assets/image-20230310105852598-DPPw8eqB.png" alt="image-20230310105852598" tabindex="0" loading="lazy"><figcaption>image-20230310105852598</figcaption></figure><p>å¦å¤–åœ¨è¯·æ±‚ä¿¡æ¯ä¹‹é—´å‡ºç°äº†è¿™æ ·çš„ä¸€å—å†…å®¹,å‡ºç°äº†ä¸¤æ¬¡</p><p><span style="color:yellow;background:red;font-size:æ–‡å­—å¤§å°;font-family:å­—ä½“;"><strong>------WebKitFormBoundary1pgACDbBGFGBPZYi</strong></span></p><p>è¿™å—å†…å®¹å…¶å®å°±æ˜¯<strong>åˆ†éš”ç¬¦</strong>ï¼Œç”¨æ¥åˆ†å‰²æ™®é€šçš„è¯·æ±‚æ•°æ®å’Œæ–‡ä»¶çš„è¯·æ±‚æ•°æ®çš„ï¼Œåœ¨ä¸Šé¢çš„è¯·æ±‚å¤´Content-Typeçš„å€¼ä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°ã€‚å¦‚æœæˆ‘ä»¬æ‹¿åˆ°è¯·æ±‚ä½“ä¸­çš„å†…å®¹ï¼Œé€šè¿‡åˆ†éš”ç¬¦ï¼Œä¹Ÿå°±å¯ä»¥æ‹¿åˆ°å›¾ç‰‡çš„å­—èŠ‚æ•°æ®ï¼Œæ‹¿åˆ°å­—èŠ‚æ•°æ®çš„è¯å°±å¯ä»¥é€šè¿‡OutputStreamåšå†™å‡ºäº†</p><p>ä½†æ˜¯å‘¢ï¼Œè¿™ä¸ªè¿‡ç¨‹å¦‚æœæˆ‘ä»¬è‡ªå·±æ¥å®Œæˆçš„è¯ï¼Œéå¸¸çš„å¤æ‚ã€‚åœ¨Servlet3.0ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©ç¬¬ä¸‰æ–¹å·¥å…·æ¥å°è£…ï¼Œæ¯”å¦‚commons-fileuploadï¼ˆ<a href="https://commons.apache.org/proper/commons-fileupload/using.html" target="_blank" rel="noopener noreferrer">FileUpload â€“ Using FileUpload (apache.org)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼‰ï¼Œä½†æ˜¯è¿™ä¸ªè¿‡ç¨‹ä»ç„¶æ˜¯éå¸¸ç¹çã€‚</p><p>Servlet3.0æä¾›äº†å¯¹æ–‡ä»¶ä¸Šä¼ çš„æ”¯æŒï¼Œé€šè¿‡@MultipartConfigæ ‡æ³¨å’ŒHttpServletRequestæä¾›çš„æ–¹æ³•å¯ä»¥å®Œæˆæ–‡ä»¶éƒ¨åˆ†çš„è·å–ï¼Œæˆ‘ä»¬å½“å‰å¯ä»¥ä½¿ç”¨Requestä¸­çš„<strong>getPart</strong>æ–¹æ³•ç›´æ¥æ‹¿åˆ°å…¶å›¾ç‰‡éƒ¨åˆ†</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Part</span> <span class="token function">getPart</span><span class="token punctuation">(</span><span class="token class-name">String</span> var1<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¯¥æ–¹æ³•çš„å‚æ•°éœ€è¦ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²å€¼ï¼Œè¯¥å€¼æ˜¯è¯·æ±‚å‚æ•°åï¼Œå¦‚æœæ‹¿çš„æ˜¯ä¸Šé¢è¯·æ±‚ä¸­å›¾ç‰‡æ–‡ä»¶çš„ä¿¡æ¯ï¼Œåˆ™éœ€è¦ä¼ å…¥ <strong>avatar</strong></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token comment">&lt;!--intputæ ‡ç­¾ä¸­çš„nameå±æ€§å€¼å…¶å®å°±æ˜¯è¯·æ±‚å‚æ•°åï¼Œåˆ†éš”ç¬¦ä¸­nameå¯¹åº”çš„å€¼ä¹Ÿæ˜¯è¿™ä¸ª--&gt;</span>
å¤´åƒï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è·å¾—Partå¯¹è±¡ï¼Œé€šè¿‡Partä¸­æä¾›çš„æ–¹æ³•å¯ä»¥è·å¾—å…¶ä»–å…·ä½“çš„ä¿¡æ¯</strong></p><table><thead><tr><th>æ–¹æ³•</th><th>è¿”å›å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>getInputStream()</td><td>InputStream</td><td>è·å¾—å­—èŠ‚è¾“å…¥æµï¼Œå¯ä»¥è¯»å–å­—èŠ‚æ•°æ®å°†å…¶ä¿å­˜ä¸‹æ¥</td></tr><tr><td>getContentType()</td><td>String</td><td>è·å¾—æ­£æ–‡ç±»å‹ï¼Œæ¯”å¦‚pngå›¾ç‰‡ï¼Œå…¶å€¼ä¸ºimage/png</td></tr><tr><td>getSize()</td><td>long</td><td>è·å¾—æ–‡ä»¶å­—èŠ‚å¤§å°</td></tr><tr><td>getName()</td><td>String</td><td>è·å¾—è¯·æ±‚å‚æ•°åï¼ˆè¿™é‡Œå°±æ˜¯avatarï¼‰</td></tr><tr><td>getSubmittedFileName()</td><td>String</td><td>è·å¾—ä¸Šä¼ çš„åŸå§‹æ–‡ä»¶åï¼ˆè¿™é‡Œæ˜¯logo.pngï¼‰</td></tr></tbody></table><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">Part</span> avatar <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getPart</span><span class="token punctuation">(</span><span class="token string">&quot;avatar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> avatar<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> contentType <span class="token operator">=</span> avatar<span class="token punctuation">.</span><span class="token function">getContentType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> size <span class="token operator">=</span> avatar<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> name <span class="token operator">=</span> avatar<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> submittedFileName <span class="token operator">=</span> avatar<span class="token punctuation">.</span><span class="token function">getSubmittedFileName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœè¦å°†å›¾ç‰‡ä»¥åŸå§‹æ–‡ä»¶åä¿å­˜åœ¨webèµ„æºæ ¹ç›®å½•ï¼Œæˆ‘ä»¬å¯ä»¥å†™è¿™æ ·çš„ä»£ç </p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">Part</span> avatar <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getPart</span><span class="token punctuation">(</span><span class="token string">&quot;avatar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> avatar<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> submittedFileName <span class="token operator">=</span> avatar<span class="token punctuation">.</span><span class="token function">getSubmittedFileName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token class-name">FileOutputStream</span> outputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span>submittedFileName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>length <span class="token operator">=</span> inputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        outputStream<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    inputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="requeståšè¯·æ±‚è½¬å‘-äº†è§£" tabindex="-1"><a class="header-anchor" href="#requeståšè¯·æ±‚è½¬å‘-äº†è§£" aria-hidden="true">#</a> Requeståšè¯·æ±‚è½¬å‘ï¼ˆäº†è§£ï¼‰</h2><p>å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼ŒåŸºæœ¬ä¸ä¼šå†æ¶‰åŠåˆ°ï¼Œå½“å‰åŸºæœ¬ä¸Šä¸å†ä½¿ç”¨JSPæŠ€æœ¯ï¼ŒJSPæŠ€æœ¯ä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šåšè¯·æ±‚è½¬å‘ã€‚</p><p>JSPï¼Œè€ŒJSPæ˜¯ä¸€ç§ç‰¹æ®Šçš„Servlet</p><p>ä½†æ˜¯jspç›®å‰å·²ç»æ²¡æœ‰ä»€ä¹ˆä½¿ç”¨åœºæ™¯äº†ã€‚ç›®å‰æ¶æ„ä¸»è¦æ˜¯å‰åç«¯åˆ†ç¦»ã€‚æ‰€ä»¥å…³äºè½¬å‘äº†è§£å³å¯ã€‚</p><figure><img src="/assets/image-20221103150745249-CEpv67Pz.png" alt="image-20221103150745249" tabindex="0" loading="lazy"><figcaption>image-20221103150745249</figcaption></figure><p>å¦‚æœæ˜¯jspçš„è¯ï¼Œjspå…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªservlet</p><figure><img src="/assets/image-20221103150836330-BlGxUTLZ.png" alt="image-20221103150836330" tabindex="0" loading="lazy"><figcaption>image-20221103150836330</figcaption></figure><p>å¯ä»¥é€šè¿‡IDEAä¸­çš„Tomcatçš„<strong>CATALINA_BASE</strong>çœ‹ä¸€ä¸‹å…¶ç”Ÿæˆçš„jsp ç›¸å…³çš„javaæ–‡ä»¶</p><figure><img src="/assets/image-20221103152321797-Dp4T-UKV.png" alt="image-20221103152321797" tabindex="0" loading="lazy"><figcaption>image-20221103152321797</figcaption></figure><p>è¯·æ±‚è½¬å‘ï¼Œå…¶å®å°±æ˜¯åœ¨ä¸€ä¸ªServletå¤„ç†ä¸šåŠ¡ï¼Œå¤„ç†å®Œä¸šåŠ¡ï¼Œç»§ç»­ç”±å¦å¤–ä¸€ä¸ªServletå¤„ç†ä¸šåŠ¡ã€‚</p><p>å…¶ä¸­ä¸€ä¸ªå…³æ³¨ç‚¹ï¼Œè½¬å‘çš„ä¸¤ä¸ªè¯·æ±‚ä¹‹é—´çš„æ•°æ®å…±äº«</p><p><strong>RequeståŸŸ</strong>ï¼Œè½¬å‘çš„è¯·æ±‚ä¹‹é—´æ•°æ®å…±äº«</p><ul><li>request.setAttribute</li><li>request.getAttribute</li></ul><h1 id="response" tabindex="-1"><a class="header-anchor" href="#response" aria-hidden="true">#</a> Response</h1><p>å“åº”æŠ¥æ–‡çš„å°è£…ï¼Œè®¾ç½®å“åº”æŠ¥æ–‡</p><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>HTTP/1.1 200
<span class="token header"><span class="token header-name keyword">Vary</span><span class="token punctuation">:</span> <span class="token header-value">accept-encoding,origin,access-control-request-headers,access-control-request-method,accept-encoding</span></span>
<span class="token header"><span class="token header-name keyword">Set-Cookie</span><span class="token punctuation">:</span> <span class="token header-value">rememberMe=deleteMe; Path=/; Max-Age=0; Expires=Sun, 12-Feb-2023 06:51:56 GMT</span></span>
<span class="token header"><span class="token header-name keyword">Set-Cookie</span><span class="token punctuation">:</span> <span class="token header-value">JSESSIONID=24287278-5ebb-407d-a3f7-56b74782c4c7; Path=/; HttpOnly</span></span>
<span class="token header"><span class="token header-name keyword">Access-Control-Allow-Origin</span><span class="token punctuation">:</span> <span class="token header-value">*</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json;charset=UTF-8</span></span>
<span class="token header"><span class="token header-name keyword">Date</span><span class="token punctuation">:</span> <span class="token header-value">Mon, 13 Feb 2023 06:51:56 GMT</span></span>
<span class="token header"><span class="token header-name keyword">Content-Length</span><span class="token punctuation">:</span> <span class="token header-value">200</span></span>

{&quot;errno&quot;:0,&quot;data&quot;:{&quot;adminInfo&quot;:{&quot;nickName&quot;:&quot;admin123&quot;,&quot;avatar&quot;:&quot;https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif&quot;},&quot;token&quot;:&quot;24287278-5ebb-407d-a3f7-56b74782c4c7&quot;},&quot;errmsg&quot;:&quot;æˆåŠŸ&quot;}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å“åº”æŠ¥æ–‡çš„ç»„æˆ</p><ul><li>å“åº”è¡Œ</li><li>å“åº”å¤´</li><li>(ç©ºè¡Œ)</li><li>å“åº”ä½“ï¼ˆæ­£æ–‡ï¼‰ <ul><li>å­—ç¬¦ä¿¡æ¯</li><li>å­—èŠ‚ä¿¡æ¯</li></ul></li></ul><h2 id="å“åº”è¡Œ" tabindex="-1"><a class="header-anchor" href="#å“åº”è¡Œ" aria-hidden="true">#</a> å“åº”è¡Œ</h2><p>åè®®å°±ä¸è®¾ç½®äº†ï¼Œè®¾ç½®ä¸€ä¸‹å“åº”çŠ¶æ€ç </p><table><thead><tr><th>æ–¹æ³•å</th><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>setStatus(int)</td><td>å‚æ•°å°±æ˜¯çŠ¶æ€ç </td><td>è®¾ç½®å“åº”çŠ¶æ€ç </td></tr></tbody></table><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/line&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LineServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        response<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">302</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‘é€è¯·æ±‚åæ¥æ”¶åˆ°çš„å“åº”æŠ¥æ–‡</p><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>HTTP/1.1 302
<span class="token header"><span class="token header-name keyword">Content-Length</span><span class="token punctuation">:</span> <span class="token header-value">0</span></span>
<span class="token header"><span class="token header-name keyword">Date</span><span class="token punctuation">:</span> <span class="token header-value">Wed, 15 Feb 2023 03:20:18 GMT</span></span>
<span class="token header"><span class="token header-name keyword">Keep-Alive</span><span class="token punctuation">:</span> <span class="token header-value">timeout=20</span></span>
<span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">keep-alive</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å“åº”å¤´" tabindex="-1"><a class="header-anchor" href="#å“åº”å¤´" aria-hidden="true">#</a> å“åº”å¤´</h2><p>å“åº”å¤´ä¹Ÿæ˜¯keyï¼švalueçš„æ ¼å¼ï¼Œæä¾›äº†é€šç”¨çš„æ–¹æ³•ï¼Œå¯ä»¥è®¾ç½®å“åº”å¤´çš„keyå’Œvalueï¼›ä¹Ÿæä¾›äº†ä¸€äº›ç‰¹å®šçš„æ–¹æ³•ï¼Œç‰¹å®šçš„æ–¹æ³•åšçš„äº‹æƒ…ï¼Œå°±æ˜¯è®¾ç½®ç‰¹å®šå“åº”å¤´çš„å€¼</p><table><thead><tr><th>æ–¹æ³•</th><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>setHeader(String,String)</td><td>å‚æ•°1æä¾›keyï¼Œå‚æ•°2æä¾›value</td><td>é€šç”¨çš„æ–¹æ³•</td></tr></tbody></table><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/header&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HeaderServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯keyï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯value</span>
        response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;custom-header&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;abcdef&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>HTTP/1.1 200
<span class="token header"><span class="token header-name keyword">custom-header</span><span class="token punctuation">:</span> <span class="token header-value">abcdef</span></span>
<span class="token header"><span class="token header-name keyword">Content-Length</span><span class="token punctuation">:</span> <span class="token header-value">0</span></span>
<span class="token header"><span class="token header-name keyword">Date</span><span class="token punctuation">:</span> <span class="token header-value">Wed, 15 Feb 2023 03:28:04 GMT</span></span>
<span class="token header"><span class="token header-name keyword">Keep-Alive</span><span class="token punctuation">:</span> <span class="token header-value">timeout=20</span></span>
<span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">keep-alive</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å“åº”ä½“" tabindex="-1"><a class="header-anchor" href="#å“åº”ä½“" aria-hidden="true">#</a> å“åº”ä½“</h2><p>å“åº”ä½“ï¼ˆæ­£æ–‡ï¼‰</p><p>å¯ä»¥ä½¿ç”¨å­—ç¬¦æµï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å­—èŠ‚æµã€‚</p><table><thead><tr><th>æ–¹æ³•</th><th>è¿”å›å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>getWriter()</td><td>PrintWriter</td><td>å­—ç¬¦æµ</td></tr><tr><td>getOutputStream()</td><td>ServletOutputStream</td><td>å­—èŠ‚æµ</td></tr></tbody></table><p>å­—ç¬¦æµ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/body1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BodyServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//resp.getWriter().println(&quot;hello world&quot;);</span>
        <span class="token comment">//resp.getWriter().append(&quot;hello world&quot;);</span>
        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/body2&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BodyServlet2</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">ServletOutputStream</span> outputStream <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;dlrb.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>length <span class="token operator">=</span> inputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            outputStream<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        inputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœºæ™¯ï¼š</p><blockquote><p>å­—ç¬¦æµï¼šå“åº”æ–‡æœ¬æ•°æ®ï¼Œæœ€ä¸»è¦çš„åœºæ™¯å°±æ˜¯å‰åç«¯åˆ†ç¦»ä¹‹åï¼Œé€šè¿‡å­—ç¬¦æµå“åº”Jsonæ•°æ®</p><p>å­—èŠ‚æµï¼šå“åº”å›¾ç‰‡ã€æ–‡ä»¶ï¼Œä¹Ÿé€šå¸¸åœ¨æ–‡ä»¶ä¸‹è½½çš„åœºæ™¯ä¸‹ä½¿ç”¨</p></blockquote><h2 id="ç‰¹æ®Šå“åº”å¤´" tabindex="-1"><a class="header-anchor" href="#ç‰¹æ®Šå“åº”å¤´" aria-hidden="true">#</a> ç‰¹æ®Šå“åº”å¤´</h2><p>ç‰¹æ®Šçš„å‡ ä¸ªå“åº”å¤´</p><blockquote><ol><li>refresh â†’ å®šæ—¶åˆ·æ–°ã€è·³è½¬</li><li>content-type â†’ é™å®šå“åº”çš„æ­£æ–‡ï¼ˆä¹Ÿå¯ä»¥è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ï¼‰</li><li>content-disposition â†’ æ–‡ä»¶ä¸‹è½½</li><li>location â†’ é‡å®šå‘</li></ol></blockquote><h3 id="refresh" tabindex="-1"><a class="header-anchor" href="#refresh" aria-hidden="true">#</a> refresh</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">refreshAndForward</span><span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;refresh&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;3;url=/demo12/hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">refreshPerSecond</span><span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;refresh&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> dateStr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
    resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>dateStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="content-type" tabindex="-1"><a class="header-anchor" href="#content-type" aria-hidden="true">#</a> Content-Type</h3><p>é€šå¸¸ä¸éœ€è¦è®¾ç½®</p><p>æ¯”å¦‚æˆ‘ä»¬å“åº”Jsonæ•°æ®ç»™å‰ç«¯ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®Content-Typeï¼šapplication/json</p><p>æˆ‘ä»¬è¦åœ¨è¿™é‡Œåšå­—ç¬¦é›†çš„è®¾ç½®ï¼Œå¦‚æœæ²¡æœ‰åšæœ‰å¯èƒ½å‡ºç°ä¸­æ–‡ä¹±ç </p><p>æ¯”å¦‚æˆ‘ä»¬å“åº”Jsonï¼Œæƒ³è¦è®¾ç½®å­—ç¬¦é›†ä¸ºutf-8</p><p>Content-Type:application/json;charset=utf-8</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/contenttype&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ContentTypeServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// è¿™é‡Œä¸æ˜¯jsonè€Œæ˜¯æ™®é€šå­—ç¬¦ï¼Œå°±è®¾ç½®äº†text/htmläº†</span>
        resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;content-type&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;ä½ å¥½&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨Responseæ¥è°ƒç”¨å…¶setContentTypeæ–¹æ³•</p><h3 id="content-disposition" tabindex="-1"><a class="header-anchor" href="#content-disposition" aria-hidden="true">#</a> content-disposition</h3><p>ä¸‹è½½çš„åœºæ™¯ä¼šä½¿ç”¨</p><p>content-disposition: attachment;filename=1.jpg</p><p>ä»¥1.jpgæ¥ä¸‹è½½æ­£æ–‡</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/disposition&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ContentDispositionServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;content-disposition&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;attachment;filename=1.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ServletOutputStream</span> outputStream <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;dlrb.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>length <span class="token operator">=</span> inputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            outputStream<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        inputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        outputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="location" tabindex="-1"><a class="header-anchor" href="#location" aria-hidden="true">#</a> location</h3><p>é‡å®šå‘</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/location&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LocationServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è®¿é—®åˆ°LocationServlet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">302</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;location&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;http://localhost:8080/demo12/hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="æ³¨æ„äº‹é¡¹" tabindex="-1"><a class="header-anchor" href="#æ³¨æ„äº‹é¡¹" aria-hidden="true">#</a> æ³¨æ„äº‹é¡¹</h1><p>è¯·æ±‚ä½“å’Œå“åº”ä½“åˆ†åˆ«è¦ä½¿ç”¨åˆ°è¾“å…¥æµå’Œè¾“å‡ºæµ</p><ul><li>å…³é—­æµï¼Œå¦‚æœæ˜¯é€šè¿‡requestå’Œresponseè·å¾—æµï¼Œä¸æ‰‹åŠ¨å…³é—­ä¹Ÿå¯ä»¥ï¼›å¦‚æœæ˜¯è‡ªå·±åˆ›å»ºçš„æµï¼Œè¦åŠæ—¶å…³é—­</li><li>åŒä¸€ä¸ªè¯·æ±‚å¤„ç†è¿‡ç¨‹ä¸­ï¼Œä¸èƒ½æ—¢è·å¾—å­—èŠ‚æµåˆè·å¾—å­—ç¬¦æµ</li></ul><h1 id="æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#æ¡ˆä¾‹" aria-hidden="true">#</a> æ¡ˆä¾‹</h1><h2 id="è¯·æ±‚åˆ†å‘æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚åˆ†å‘æ¡ˆä¾‹" aria-hidden="true">#</a> è¯·æ±‚åˆ†å‘æ¡ˆä¾‹</h2><blockquote><p>åœºæ™¯ï¼šæœ‰å¤šä¸ªè¯·æ±‚</p><p>Http://localhost:8080/user/login â†’ ç™»å½•</p><p>http://localhost:8080/user/create â†’ æ³¨å†Œ</p><p>http://localhost:8080/user/info â†’ æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯</p></blockquote><p>æŒ‰ç…§æˆ‘ä»¬ä¹‹å‰çš„å†™æ³•ï¼Œæˆ‘ä»¬éœ€è¦å†™3ä¸ªServletï¼Œå¦‚æœä¸æƒ³å†™3ä¸ªServletï¼Œåªå†™ä¸€ä¸ªUserServletå¯ä»¥ä¸ï¼Ÿ</p><p>Servletçš„url-patternçš„åˆæ³•å†™æ³• /xxx/*,æˆ‘ä»¬åœ¨è¿™ä¸ªUserServletä¸Šå¯å¦å†™ä¸€ä¸ª/user/*</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/user/*&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span><span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è·å¾—è¯·æ±‚çš„URIï¼Œæ ¹æ®uri çš„useråé¢çš„å€¼çš„ä¸åŒåšä¸åŒçš„å¤„ç†</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/user/*&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> requestURI <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// æˆªå–URIå­—ç¬¦ä¸²ï¼Œä¸¾ä¾‹ /demo13/user/login</span>
        <span class="token keyword">int</span> index <span class="token operator">=</span> requestURI<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> operation <span class="token operator">=</span>
            requestURI<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> requestURI<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;content-type&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è¯·æ±‚URIçš„æœ€åä¸€çº§</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;login&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>operation<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">method1</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;create&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>operation<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">method2</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;info&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>operation<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">method3</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//resp.getWriter().write(requestURI);</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">method1</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;è®¿é—®ç™»å½•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">method2</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;è®¿é—®æ³¨å†Œ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">method3</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;è®¿é—®æŸ¥çœ‹ä¿¡æ¯&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç™»å½•æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#ç™»å½•æ¡ˆä¾‹" aria-hidden="true">#</a> ç™»å½•æ¡ˆä¾‹</h2><p>è¯·æ±‚ï¼šå…ˆè®¿é—®ç™»å½•è¯·æ±‚ï¼Œç™»å½•å¦‚æœæˆåŠŸï¼Œé‚£ä¹ˆæ¥ç€ å…ˆæç¤ºç™»å½•æˆåŠŸï¼Œç„¶åè¿‡ä¸¤ç§’è®¿é—®åˆ°infoè¯·æ±‚</p><p>è¿™ä¸ªè¯·æ±‚ç”±ç™»å½•é¡µé¢æä¾›ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡htmlæä¾›ä¸€ä¸ªç™»å½•è¡¨å•ï¼Œè¯¥è¡¨å•ä¼šå‘å‡ºè¯·æ±‚</p><p>http://localhost:8080/user/login â†’ Servlet â†’ æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®ï¼ˆä½¿ç”¨ä¸€ä¸‹MyBatisï¼‰ â†’</p><ul><li>å¦‚æœæ­£ç¡®ï¼Œé‚£ä¹ˆå°±æç¤ºç™»å½•æˆåŠŸ</li><li>å¦‚æœé”™è¯¯ï¼Œé‚£ä¹ˆåˆ·æ–°ç™»å½•é¡µé¢</li></ul><blockquote><p>ä»»åŠ¡æ‹†è§£ï¼š</p><ol><li>åŒ…å«ç™»å½•è¡¨å•çš„ login.htmlæ–‡ä»¶ï¼Œæ”¾åœ¨webappç›®å½•ä¸‹</li><li>å¼€å‘UserServlet <ol><li>/user/loginå¯¹åº”çš„å¤„ç†æ–¹æ³•ï¼Œä½¿ç”¨MyBatisåšæŸ¥è¯¢</li><li>/user/infoå¯¹åº”çš„å¤„ç†æ–¹æ³•</li></ol></li><li>æ•´åˆMyBatisï¼Œåœ¨åº”ç”¨ç¨‹åºä¸­ç»´æŠ¤SqlSessionFactoryå®ä¾‹</li></ol></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * Servletå¦‚æœå®ƒçš„loadOnStartupä¸ºæ­£æ•°ï¼Œåˆ™åº”ç”¨ç¨‹åºå¯åŠ¨çš„æ—¶å€™åˆå§‹åŒ–ï¼›
 * å¦‚æœä¸ºè´Ÿæ•°ï¼Œåˆ™è®¿é—®å…¶URL-Patternæ—¶æ‰åˆå§‹åŒ–
 * æƒ³è®©å…¶åº”ç”¨ç¨‹åºå¯åŠ¨çš„æ—¶å€™å°±åˆå§‹åŒ– â†’ æä¾›ä¸€ä¸ªSqlSessionFactoryçš„å®ä¾‹ï¼Œç„¶åå…±äº«è¯¥å®ä¾‹
 * <span class="token keyword">@author</span> stone
 * <span class="token keyword">@date</span> 2023/02/16 16:16
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/mybatis/init&quot;</span><span class="token punctuation">,</span>loadOnStartup <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBatisInitializationServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@SneakyThrows</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;mybatis.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        servletContext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;sqlSessionFactory&quot;</span><span class="token punctuation">,</span>sqlSessionFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/user/*&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        sqlSessionFactory <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">SqlSessionFactory</span><span class="token punctuation">)</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;sqlSessionFactory&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> operation <span class="token operator">=</span> <span class="token class-name">URIUtil</span><span class="token punctuation">.</span><span class="token function">fetchOperation</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>operation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token string">&quot;login&quot;</span><span class="token operator">:</span>
                <span class="token function">login</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token string">&quot;info&quot;</span><span class="token operator">:</span>
                <span class="token function">info</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">default</span><span class="token operator">:</span>
                resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;content-type&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;è¯·æ±‚æœ‰è¯¯ï¼Œè¯·è”ç³»ç®¡ç†å‘˜&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">UnsupportedEncodingException</span> <span class="token punctuation">{</span>
        <span class="token comment">// åˆ¤æ–­ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦ç¬¦åˆè¦æ±‚</span>
        <span class="token comment">//Object sqlSessionFactory = getServletContext().getAttribute(&quot;sqlSessionFactory&quot;);</span>
        <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">UserMapper</span> userMapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        req<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CskaoyanUser</span> cskaoyanUser <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">selectByUsernameAndPassword</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cskaoyanUser <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            resp<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">302</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;location&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/demo14/login.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">//å…ˆæŠŠuserä¿¡æ¯æš‚å­˜ä¸€ä¸‹</span>
            <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span>cskaoyanUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
            resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;refresh&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;2;/demo14/user/info&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">info</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">CskaoyanUser</span> user <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">CskaoyanUser</span><span class="token punctuation">)</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;user = &quot;</span> <span class="token operator">+</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;content-type&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;text/html;charset= utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;æ¬¢è¿ä½ ï¼Œ&quot;</span> <span class="token operator">+</span> user<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="é¡¹ç›®-ä¼šå‘˜ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#é¡¹ç›®-ä¼šå‘˜ç®¡ç†" aria-hidden="true">#</a> ï¼ˆé¡¹ç›®ï¼‰ä¼šå‘˜ç®¡ç†</h2><p>æŸ¥è¯¢ä¼šå‘˜ä¿¡æ¯</p><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token request-line"><span class="token method property">GET</span> <span class="token request-target url">http://101.43.69.31:8083/admin/user/list?page=1&amp;limit=20&amp;sort=add_time&amp;order=desc</span> <span class="token http-version property">HTTP/1.1</span></span>
<span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">101.43.69.31:8083</span></span>
<span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">keep-alive</span></span>
<span class="token header"><span class="token header-name keyword">Accept</span><span class="token punctuation">:</span> <span class="token header-value">application/json, text/plain, */*</span></span>
<span class="token header"><span class="token header-name keyword">X-CskaoyanMarket-Admin-Token</span><span class="token punctuation">:</span> <span class="token header-value">85b7dffc-f6c6-4cf6-bc20-3c280f28f1bf</span></span>
<span class="token header"><span class="token header-name keyword">User-Agent</span><span class="token punctuation">:</span> <span class="token header-value">Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36 Edg/116.0.1938.62</span></span>
<span class="token header"><span class="token header-name keyword">Origin</span><span class="token punctuation">:</span> <span class="token header-value">http://101.43.69.31:8080</span></span>
<span class="token header"><span class="token header-name keyword">Referer</span><span class="token punctuation">:</span> <span class="token header-value">http://101.43.69.31:8080/</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">gzip, deflate</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Language</span><span class="token punctuation">:</span> <span class="token header-value">zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><ol><li>è¯·æ±‚URLæ˜¯ä»€ä¹ˆï¼Ÿ</li></ol><p>http://101.43.69.31:8083/admin/user/list</p><p>uriçš„éƒ¨åˆ† /admin/user/list</p><p>a. é…ç½®tomcatçš„è¯ï¼Œè¦è€ƒè™‘è™šæ‹Ÿæ˜ å°„çš„path â†’ /</p><p>b. å¼€å‘çš„Servletçš„url-patternï¼Œ@WebServletçš„valueå±æ€§å€¼ â†’ /admin/user/*</p><p>c. æœ€åä¸€çº§æ˜¯listï¼Œå¦‚æœé›†æˆBaseServletçš„è¯ï¼Œéœ€è¦UserServletä¸­æœ‰ä¸€ä¸ªåç§°ä¸ºlistçš„æ–¹æ³•</p></blockquote><figure><img src="/assets/image-20230829150425075-CNSlK0Ww.png" alt="image-20230829150425075" tabindex="0" loading="lazy"><figcaption>image-20230829150425075</figcaption></figure><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/admin/user/*&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServlet</span> <span class="token keyword">extends</span> <span class="token class-name">BaseServlet</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><ol start="2"><li><p>è¯·æ±‚å‚æ•°</p><p>a. request.getParameterç›¸å…³çš„æ–¹æ³•</p><p>â€‹ (1). åœ¨queryStringé‡Œé¢å‡ºç°äº†key=valueå½¢å¼çš„è¯·æ±‚å‚æ•°</p><p>â€‹ (2). è¯·æ±‚ä½“é‡Œå‡ºç°key=value</p><p>b. request.getReader().readLine() è¿”å›å­—ç¬¦ä¸²ä¿¡æ¯</p><p>â€‹ (1).è¯·æ±‚ä½“é‡Œå‡ºç°å­—ç¬¦ä¸² â†’ ä½¿ç”¨ä½¿ç”¨è¿™ä¸ªæ–¹æ³•è·å¾—çš„æ˜¯Json</p><p>c. request.getPart() è·å¾—Partå¯¹è±¡</p><p>â€‹ (1).multipart/form-dataè¯·æ±‚ï¼Œé€šå¸¸ä¼šæºå¸¦æ–‡ä»¶(å­—èŠ‚æ•°æ®) â†’ Partä¸­çš„getInputStreamåšå¤„ç†</p></li></ol><p>å½“å‰è¿™ä¸ªåœºæ™¯ï¼Œæˆ‘ä»¬çš„è¯·æ±‚å‚æ•°å±äºä¸Šé¢çš„å“ªç§è¯·æ±‚ï¼Ÿ a1</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/admin/user/*&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServlet</span> <span class="token keyword">extends</span> <span class="token class-name">BaseServlet</span> <span class="token punctuation">{</span>

    <span class="token comment">//queryStringçš„å€¼ page=1&amp;limit=20&amp;sort=add_time&amp;order=desc</span>
    <span class="token annotation punctuation">@SneakyThrows</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//Integer page = Integer.valueOf(request.getParameter(&quot;page&quot;));</span>
        <span class="token comment">//Integer limit = Integer.valueOf(request.getParameter(&quot;limit&quot;));</span>
        <span class="token comment">//String sort = request.getParameter(&quot;sort&quot;);</span>
        <span class="token comment">//String order = request.getParameter(&quot;order&quot;);</span>
        <span class="token class-name">BaseParam</span> baseParam <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BaseParam</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BeanUtils</span><span class="token punctuation">.</span><span class="token function">copyProperties</span><span class="token punctuation">(</span>baseParam<span class="token punctuation">,</span>request<span class="token punctuation">.</span><span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><ol start="3"><li>åœ¨è¿™é‡Œå·²ç»æ¥æ”¶åˆ°è¯·æ±‚å‚æ•°ï¼Œæˆ‘ä»¬éœ€è¦å®Œæˆçš„ä¸šåŠ¡ï¼Ÿ</li></ol><p>å¢åˆ æ”¹æŸ¥ä¸­çš„å“ªä¸€ä¸ªæˆ–å“ªä¸€äº›ï¼Ÿ</p><p>è¿™é‡Œåº”è¯¥åšæŸ¥è¯¢ â†’ æ ¹æ®add_timeåšé™åºæŸ¥è¯¢userè¡¨ä¸­çš„pageå’Œlimitå¯¹åº”çš„userä¿¡æ¯</p><p>-- limit ç¬¬ä¸€ä¸ªå€¼ (page -1) * limit -- limit ç¬¬äºŒä¸ªå€¼ limit SELECT * FROM <code>market_user</code> order by add_time desc limit 0,20</p></blockquote><p>æ•´åˆMyBatiså®Œæˆä¸Šé¢çš„ä¸šåŠ¡</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/admin/user/*&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServlet</span> <span class="token keyword">extends</span> <span class="token class-name">BaseServlet</span> <span class="token punctuation">{</span>

    <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        sqlSessionFactory <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">SqlSessionFactory</span><span class="token punctuation">)</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;sqlSessionFactory&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//queryStringçš„å€¼ page=1&amp;limit=20&amp;sort=add_time&amp;order=desc</span>
    <span class="token annotation punctuation">@SneakyThrows</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//Integer page = Integer.valueOf(request.getParameter(&quot;page&quot;));</span>
        <span class="token comment">//Integer limit = Integer.valueOf(request.getParameter(&quot;limit&quot;));</span>
        <span class="token comment">//String sort = request.getParameter(&quot;sort&quot;);</span>
        <span class="token comment">//String order = request.getParameter(&quot;order&quot;);</span>
        <span class="token class-name">BaseParam</span> baseParam <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BaseParam</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BeanUtils</span><span class="token punctuation">.</span><span class="token function">copyProperties</span><span class="token punctuation">(</span>baseParam<span class="token punctuation">,</span>request<span class="token punctuation">.</span><span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">UserMapper</span> mapper <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        baseParam<span class="token punctuation">.</span><span class="token function">initOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MarketUser</span><span class="token punctuation">&gt;</span></span> userList <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">selectUserList</span><span class="token punctuation">(</span>baseParam<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><ol start="4"><li><p>è¿”å›å€¼ä»€ä¹ˆæ ·å­ï¼Ÿ</p><p>æˆ‘ä»¬åˆšåˆšåªå¤åˆ¶äº†è¯·æ±‚æŠ¥æ–‡ï¼Œå¹¶ä¸çŸ¥é“å“åº”æŠ¥æ–‡çš„å“åº”ä½“éœ€è¦æˆ‘ä»¬æä¾›ä»€ä¹ˆæ ·çš„æ•°æ®</p><p>åº”è¯¥æ‰¾åˆ°ç›¸åº”æŠ¥æ–‡ï¼Œæ‰¾åˆ°å…¶ä¸­çš„å“åº”ä½“</p><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>HTTP/1.1 200
<span class="token header"><span class="token header-name keyword">Vary</span><span class="token punctuation">:</span> <span class="token header-value">accept-encoding,origin,access-control-request-headers,access-control-request-method,accept-encoding</span></span>
<span class="token header"><span class="token header-name keyword">Access-Control-Allow-Origin</span><span class="token punctuation">:</span> <span class="token header-value">*</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json;charset=UTF-8</span></span>
<span class="token header"><span class="token header-name keyword">Date</span><span class="token punctuation">:</span> <span class="token header-value">Tue, 29 Aug 2023 06:58:59 GMT</span></span>
<span class="token header"><span class="token header-name keyword">Content-Length</span><span class="token punctuation">:</span> <span class="token header-value">9805
      </span></span>
{&quot;errno&quot;:0,&quot;data&quot;:{&quot;total&quot;:79,&quot;pages&quot;:4,&quot;limit&quot;:20,&quot;page&quot;:1,&quot;list&quot;:[{&quot;id&quot;:80,&quot;username&quot;:&quot;user456&quot;,&quot;password&quot;:&quot;$2a$10$KairBY9XjiT0IqTj10Fz3uUumKqlbSX0oVVhTpfhkis1eJV9VSjm2&quot;,&quot;gender&quot;:0,&quot;lastLoginTime&quot;:&quot;2023-08-14 21:09:29&quot;,&quot;lastLoginIp&quot;:&quot;171.113.245.233&quot;,&quot;userLevel&quot;:0,&quot;nickname&quot;:&quot;user456&quot;,&quot;mobile&quot;:&quot;15310888954&quot;,&quot;avatar&quot;:&quot;https://yanxuan.nosdn.127.net/80841d741d7fa3073e0ae27bf487339f.jpg?imageView&amp;quality=90&amp;thumbnail=64x64&quot;,&quot;weixinOpenid&quot;:&quot;&quot;,&quot;sessionKey&quot;:&quot;&quot;,&quot;status&quot;:0,&quot;addTime&quot;:&quot;2023-08-14 21:09:29&quot;,&quot;updateTime&quot;:&quot;2023-08-29 11:42:24&quot;,&quot;deleted&quot;:false},{&quot;id&quot;:79,&quot;username&quot;:&quot;wangshuai&quot;,&quot;password&quot;:&quot;$2a$10$wpa0FmHqaE6aNWrGDtmh.O3/NiNhR3pxig38/WWDeuiQJbZL8teyy&quot;,&quot;gender&quot;:0,&quot;lastLoginTime&quot;:&quot;2023-08-13 21:43:30&quot;,&quot;lastLoginIp&quot;:&quot;171.43.248.189&quot;,&quot;userLevel&quot;:0,&quot;nickname&quot;:&quot;wangshuai&quot;,&quot;mobile&quot;:&quot;18839219012&quot;,&quot;avatar&quot;:&quot;https://yanxuan.nosdn.127.net/80841d741d7fa3073e0ae27bf487339f.jpg?imageView&amp;quality=90&amp;thumbnail=64x64&quot;,&quot;weixinOpenid&quot;:&quot;&quot;,&quot;sessionKey&quot;:&quot;&quot;,&quot;status&quot;:0,&quot;addTime&quot;:&quot;2023-08-13 21:43:30&quot;,&quot;updateTime&quot;:&quot;2023-08-13 21:43:30&quot;,&quot;deleted&quot;:false},{&quot;id&quot;:78,&quot;username&quot;:&quot;dsfnjdnc&quot;,&quot;password&quot;:&quot;$2a$10$z1DC5UXeljtOECGST5Ht5un2UXYdHUY.zUoFVEuoU0Foqmg9KiET6&quot;,&quot;gender&quot;:0,&quot;lastLoginTime&quot;:&quot;2023-08-12 09:59:36&quot;,&quot;lastLoginIp&quot;:&quot;171.43.248.189&quot;,&quot;userLevel&quot;:0,&quot;nickname&quot;:&quot;dsfnjdnc&quot;,&quot;mobile&quot;:&quot;17889948070&quot;,&quot;avatar&quot;:&quot;https://yanxuan.nosdn.127.net/80841d741d7fa3073e0ae27bf487339f.jpg?imageView&amp;quality=90&amp;thumbnail=64x64&quot;,&quot;weixinOpenid&quot;:&quot;&quot;,&quot;sessionKey&quot;:&quot;&quot;,&quot;status&quot;:0,&quot;addTime&quot;:&quot;2023-08-12 09:59:36&quot;,&quot;updateTime&quot;:&quot;2023-08-12 09:59:36&quot;,&quot;deleted&quot;:false},{&quot;id&quot;:77,&quot;username&quot;:&quot;lipanl&quot;,&quot;password&quot;:&quot;$2a$10$2e3ZiDI6yU/d9jDGh3ow2ubtBxAyVTaNUr5NrA2rw2coo/thKhkJO&quot;,&quot;gender&quot;:0,&quot;lastLoginTime&quot;:&quot;2023-08-12 09:26:55&quot;,&quot;lastLoginIp&quot;:&quot;171.43.248.189&quot;,&quot;userLevel&quot;:0,&quot;nickname&quot;:&quot;lipanl&quot;,&quot;mobile&quot;:&quot;15605215755&quot;,&quot;avatar&quot;:&quot;https://yanxuan.nosdn.127.net/80841d741d7fa3073e0ae27bf487339f.jpg?imageView&amp;quality=90&amp;thumbnail=64x64&quot;,&quot;weixinOpenid&quot;:&quot;&quot;,&quot;sessionKey&quot;:&quot;&quot;,&quot;status&quot;:0,&quot;addTime&quot;:&quot;2023-08-12 09:13:41&quot;,&quot;updateTime&quot;:&quot;2023-08-12 09:26:55&quot;,&quot;deleted&quot;:false},{&quot;id&quot;:76,&quot;username&quot;:&quot;abc123&quot;,&quot;password&quot;:&quot;$2a$10$zJXzS2hqfwrwH9qBpEWf6reIaBOoBRsDON4aSAyVTaX3f.a7PXl18G&quot;,&quot;gender&quot;:1,&quot;lastLoginTime&quot;:&quot;2023-08-12 09:05:24&quot;,&quot;lastLoginIp&quot;:&quot;171.43.248.95&quot;,&quot;userLevel&quot;:1,&quot;nickname&quot;:&quot;abc1232&quot;,&quot;mobile&quot;:&quot;189649576691&quot;,&quot;avatar&quot;:&quot;https://yanxuan.nosdn.127.net/80841d741d7fa3073e0ae27bf487339f.jpg?imageView&amp;quality=90&amp;thumbnail=64x64&quot;,&quot;weixinOpenid&quot;:&quot;&quot;,&quot;sessionKey&quot;:&quot;&quot;,&quot;status&quot;:1,&quot;addTime&quot;:&quot;2023-08-12 09:03:46&quot;,&quot;updateTime&quot;:&quot;2023-08-19 20:41:06&quot;,&quot;deleted&quot;:false},{&quot;id&quot;:75,&quot;username&quot;:&quot;userhhh&quot;,&quot;password&quot;:&quot;$2a$10$EuMQSEIACrpFiXKX9D8CC./1tjqZZA7gcz7ruKc2D58n0gblIw2yq&quot;,&quot;gender&quot;:0,&quot;lastLoginTime&quot;:&quot;2023-08-12 08:52:56&quot;,&quot;lastLoginIp&quot;:&quot;171.43.248.189&quot;,&quot;userLevel&quot;:0,&quot;nickname&quot;:&quot;userhhh&quot;,&quot;mobile&quot;:&quot;18338708454&quot;,&quot;avatar&quot;:&quot;https://yanxuan.nosdn.127.net/80841d741d7fa3073e0ae27bf487339f.jpg?imageView&amp;quality=90&amp;thumbnail=64x64&quot;,&quot;weixinOpenid&quot;:&quot;&quot;,&quot;sessionKey&quot;:&quot;&quot;,&quot;status&quot;:0,&quot;addTime&quot;:&quot;2023-08-12 08:52:56&quot;,&quot;updateTime&quot;:&quot;2023-08-12 08:52:56&quot;,&quot;deleted&quot;:false},{&quot;id&quot;:74,&quot;username&quot;:&quot;11tong&quot;,&quot;password&quot;:&quot;$2a$10$xiufPksECD4y7WudNGleae6MDNabNUSDiEH4xz63V94PANvVCvjsG&quot;,&quot;gender&quot;:0,&quot;lastLoginTime&quot;:&quot;2023-08-11 23:41:56&quot;,&quot;lastLoginIp&quot;:&quot;37.128.243.180&quot;,&quot;userLevel&quot;:0,&quot;nickname&quot;:&quot;11tong&quot;,&quot;mobile&quot;:&quot;18193408088&quot;,&quot;avatar&quot;:&quot;https://yanxuan.nosdn.127.net/80841d741d7fa3073e0ae27bf487339f.jpg?imageView&amp;quality=90&amp;thumbnail=64x64&quot;,&quot;weixinOpenid&quot;:&quot;&quot;,&quot;sessionKey&quot;:&quot;&quot;,&quot;status&quot;:0,&quot;addTime&quot;:&quot;2023-08-11 23:04:45&quot;,&quot;updateTime&quot;:&quot;2023-08-11 23:41:56&quot;,&quot;deleted&quot;:false},{&quot;id&quot;:73,&quot;username&quot;:&quot;6666666&quot;,&quot;password&quot;:&quot;$2a$10$4DGAP3HtGGf9fiJAR5FsUe580LglFuc8AlkwbQRhiofVz.2cfu1hu&quot;,&quot;gender&quot;:0,&quot;lastLoginTime&quot;:&quot;2023-08-11 22:28:46&quot;,&quot;lastLoginIp&quot;:&quot;171.113.246.131&quot;,&quot;userLevel&quot;:0,&quot;nickname&quot;:&quot;6666666&quot;,&quot;mobile&quot;:&quot;19149355&quot;,&quot;avatar&quot;:&quot;https://yanxuan.nosdn.127.net/80841d741d7fa3073e0ae27bf487339f.jpg?imageView&amp;quality=90&amp;thumbnail=64x64&quot;,&quot;weixinOpenid&quot;:&quot;&quot;,&quot;sessionKey&quot;:&quot;&quot;,&quot;status&quot;:0,&quot;addTime&quot;:&quot;2023-08-11 22:28:46&quot;,&quot;updateTime&quot;:&quot;2023-08-11 22:53:53&quot;,&quot;deleted&quot;:false},{&quot;id&quot;:72,&quot;username&quot;:&quot;shibowen&quot;,&quot;password&quot;:&quot;$2a$10$xDgPrbO8hR1XhQf4bXxrP.Ly/vwWjXGtDtnShDUWB2DsTodOV/HWe&quot;,&quot;gender&quot;:0,&quot;lastLoginTime&quot;:&quot;2023-08-11 22:20:15&quot;,&quot;lastLoginIp&quot;:&quot;171.113.246.131&quot;,&quot;userLevel&quot;:0,&quot;nickname&quot;:&quot;shibowen&quot;,&quot;mobile&quot;:&quot;15364314469&quot;,&quot;avatar&quot;:&quot;https://yanxuan.nosdn.127.net/80841d741d7fa3073e0ae27bf487339f.jpg?imageView&amp;quality=90&amp;thumbnail=64x64&quot;,&quot;weixinOpenid&quot;:&quot;&quot;,&quot;sessionKey&quot;:&quot;&quot;,&quot;status&quot;:0,&quot;addTime&quot;:&quot;2023-08-11 22:20:15&quot;,&quot;updateTime&quot;:&quot;2023-08-11 22:21:27&quot;,&quot;deleted&quot;:false},{&quot;id&quot;:71,&quot;username&quot;:&quot;cpj123&quot;,&quot;password&quot;:&quot;$2a$10$1ilmyiwiIIE3mIW9HZPYfenJRaEWDUZzj7u0sYYL1fLcTW58tf5Vi&quot;,&quot;gender&quot;:0,&quot;lastLoginTime&quot;:&quot;2023-08-12 10:59:52&quot;,&quot;lastLoginIp&quot;:&quot;171.43.248.189&quot;,&quot;userLevel&quot;:0,&quot;nickname&quot;:&quot;cpj123&quot;,&quot;mobile&quot;:&quot;15213480588&quot;,&quot;avatar&quot;:&quot;https://yanxuan.nosdn.127.net/80841d741d7fa3073e0ae27bf487339f.jpg?imageView&amp;quality=90&amp;thumbnail=64x64&quot;,&quot;weixinOpenid&quot;:&quot;&quot;,&quot;sessionKey&quot;:&quot;&quot;,&quot;status&quot;:0,&quot;addTime&quot;:&quot;2023-08-11 16:54:45&quot;,&quot;updateTime&quot;:&quot;2023-08-12 10:59:52&quot;,&quot;deleted&quot;:false},{&quot;id&quot;:70,&quot;username&quot;:&quot;qianqian&quot;,&quot;password&quot;:&quot;$2a$10$9lZkUEdw1GVcBwk03L47JOetj8SRZDOun74fQ25gSJCXbuDUpXT6q&quot;,&quot;gender&quot;:0,&quot;lastLoginTime&quot;:&quot;2023-08-11 15:55:18&quot;,&quot;lastLoginIp&quot;:&quot;38.181.73.70&quot;,&quot;userLevel&quot;:0,&quot;nickname&quot;:&quot;qianqian&quot;,&quot;mobile&quot;:&quot;17302213266&quot;,&quot;avatar&quot;:&quot;https://yanxuan.nosdn.127.net/80841d741d7fa3073e0ae27bf487339f.jpg?imageView&amp;quality=90&amp;thumbnail=64x64&quot;,&quot;weixinOpenid&quot;:&quot;&quot;,&quot;sessionKey&quot;:&quot;&quot;,&quot;status&quot;:0,&quot;addTime&quot;:&quot;2023-08-11 15:55:18&quot;,&quot;updateTime&quot;:&quot;2023-08-11 17:09:03&quot;,&quot;deleted&quot;:false},{&quot;id&quot;:69,&quot;username&quot;:&quot;13428689333&quot;,&quot;password&quot;:&quot;$2a$10$Fl3B9m6dRAJ42.ZJw5Vbsucgd8a7WE7YEJbGq2NMrrDejqfeM6vVC&quot;,&quot;gender&quot;:0,&quot;lastLoginTime&quot;:&quot;2023-08-11 14:39:58&quot;,&quot;lastLoginIp&quot;:&quot;171.113.246.131&quot;,&quot;userLevel&quot;:0,&quot;nickname&quot;:&quot;13428689333&quot;,&quot;mobile&quot;:&quot;13428689333&quot;,&quot;avatar&quot;:&quot;https://yanxuan.nosdn.127.net/80841d741d7fa3073e0ae27bf487339f.jpg?imageView&amp;quality=90&amp;thumbnail=64x64&quot;,&quot;weixinOpenid&quot;:&quot;&quot;,&quot;sessionKey&quot;:&quot;&quot;,&quot;status&quot;:0,&quot;addTime&quot;:&quot;2023-08-11 14:39:58&quot;,&quot;updateTime&quot;:&quot;2023-08-11 14:41:19&quot;,&quot;deleted&quot;:false},{&quot;id&quot;:68,&quot;username&quot;:&quot;141d54&quot;,&quot;password&quot;:&quot;$2a$10$39XcI1ZFVlZ./Q4/hk9U2.t/2XvwfWZWlqhuhxtAzPCpICO7DS9Ku&quot;,&quot;gender&quot;:0,&quot;lastLoginTime&quot;:&quot;2023-08-11 12:52:49&quot;,&quot;lastLoginIp&quot;:&quot;171.113.246.131&quot;,&quot;userLevel&quot;:0,&quot;nickname&quot;:&quot;141d54&quot;,&quot;mobile&quot;:&quot;18571475083&quot;,&quot;avatar&quot;:&quot;https://yanxuan.nosdn.127.net/80841d741d7fa3073e0ae27bf487339f.jpg?imageView&amp;quality=90&amp;thumbnail=64x64&quot;,&quot;weixinOpenid&quot;:&quot;&quot;,&quot;sessionKey&quot;:&quot;&quot;,&quot;status&quot;:0,&quot;addTime&quot;:&quot;2023-08-11 12:52:49&quot;,&quot;updateTime&quot;:&quot;2023-08-11 12:52:49&quot;,&quot;deleted&quot;:false},{&quot;id&quot;:67,&quot;username&quot;:&quot;haodene&quot;,&quot;password&quot;:&quot;$2a$10$3wUuWJgmJrswpf7vMjyNKu2QaS7OcIWMoJIoZqeA.j2QxZX0hc3Gq&quot;,&quot;gender&quot;:0,&quot;lastLoginTime&quot;:&quot;2023-08-11 12:38:06&quot;,&quot;lastLoginIp&quot;:&quot;210.3.159.237&quot;,&quot;userLevel&quot;:0,&quot;nickname&quot;:&quot;haodene&quot;,&quot;mobile&quot;:&quot;17332885067&quot;,&quot;avatar&quot;:&quot;https://yanxuan.nosdn.127.net/80841d741d7fa3073e0ae27bf487339f.jpg?imageView&amp;quality=90&amp;thumbnail=64x64&quot;,&quot;weixinOpenid&quot;:&quot;&quot;,&quot;sessionKey&quot;:&quot;&quot;,&quot;status&quot;:0,&quot;addTime&quot;:&quot;2023-08-11 12:38:06&quot;,&quot;updateTime&quot;:&quot;2023-08-11 12:38:54&quot;,&quot;deleted&quot;:false},{&quot;id&quot;:66,&quot;username&quot;:&quot;xn1111&quot;,&quot;password&quot;:&quot;$2a$10$6NYttr6pchyPDRN776peiuMqI.P.tk2Nexu/ExPF2zLrpdsw91.UW&quot;,&quot;gender&quot;:0,&quot;lastLoginTime&quot;:&quot;2023-08-12 13:01:41&quot;,&quot;lastLoginIp&quot;:&quot;171.43.247.130&quot;,&quot;userLevel&quot;:0,&quot;nickname&quot;:&quot;xn1111&quot;,&quot;mobile&quot;:&quot;15543400379&quot;,&quot;avatar&quot;:&quot;https://yanxuan.nosdn.127.net/80841d741d7fa3073e0ae27bf487339f.jpg?imageView&amp;quality=90&amp;thumbnail=64x64&quot;,&quot;weixinOpenid&quot;:&quot;&quot;,&quot;sessionKey&quot;:&quot;&quot;,&quot;status&quot;:0,&quot;addTime&quot;:&quot;2023-08-11 12:17:09&quot;,&quot;updateTime&quot;:&quot;2023-08-12 13:01:41&quot;,&quot;deleted&quot;:false},{&quot;id&quot;:65,&quot;username&quot;:&quot;999999&quot;,&quot;password&quot;:&quot;$2a$10$IVMS2c3U94iwOiu9gRpM...zuO9AEmjvz3q7hqIqtcog..nKp4d06&quot;,&quot;gender&quot;:0,&quot;lastLoginTime&quot;:&quot;2023-08-11 12:01:34&quot;,&quot;lastLoginIp&quot;:&quot;171.113.246.131&quot;,&quot;userLevel&quot;:0,&quot;nickname&quot;:&quot;999999&quot;,&quot;mobile&quot;:&quot;17863013913&quot;,&quot;avatar&quot;:&quot;https://yanxuan.nosdn.127.net/80841d741d7fa3073e0ae27bf487339f.jpg?imageView&amp;quality=90&amp;thumbnail=64x64&quot;,&quot;weixinOpenid&quot;:&quot;&quot;,&quot;sessionKey&quot;:&quot;&quot;,&quot;status&quot;:0,&quot;addTime&quot;:&quot;2023-08-11 12:01:34&quot;,&quot;updateTime&quot;:&quot;2023-08-11 17:54:15&quot;,&quot;deleted&quot;:false},{&quot;id&quot;:64,&quot;username&quot;:&quot;uer123&quot;,&quot;password&quot;:&quot;$2a$10$8iSnFilcnMLl0SxgCnnniuxsTCwSJB/toW9QTK3L7Z6/NMggZpzFS&quot;,&quot;gender&quot;:0,&quot;lastLoginTime&quot;:&quot;2023-08-11 11:44:41&quot;,&quot;lastLoginIp&quot;:&quot;38.181.73.70&quot;,&quot;userLevel&quot;:0,&quot;nickname&quot;:&quot;uer123&quot;,&quot;mobile&quot;:&quot;17353291393&quot;,&quot;avatar&quot;:&quot;https://yanxuan.nosdn.127.net/80841d741d7fa3073e0ae27bf487339f.jpg?imageView&amp;quality=90&amp;thumbnail=64x64&quot;,&quot;weixinOpenid&quot;:&quot;&quot;,&quot;sessionKey&quot;:&quot;&quot;,&quot;status&quot;:0,&quot;addTime&quot;:&quot;2023-08-11 11:44:41&quot;,&quot;updateTime&quot;:&quot;2023-08-11 11:44:41&quot;,&quot;deleted&quot;:false},{&quot;id&quot;:63,&quot;username&quot;:&quot;aaaaaa&quot;,&quot;password&quot;:&quot;$2a$10$xz7HJbKtqb0r4eFTXZHZrufncjSL8TLypxrQf1RtY30O6J4NFDF.O&quot;,&quot;gender&quot;:0,&quot;lastLoginTime&quot;:&quot;2023-08-11 10:37:50&quot;,&quot;lastLoginIp&quot;:&quot;210.3.159.237&quot;,&quot;userLevel&quot;:1,&quot;nickname&quot;:&quot;aaaaaa&quot;,&quot;mobile&quot;:&quot;17332855555&quot;,&quot;avatar&quot;:&quot;https://yanxuan.nosdn.127.net/80841d741d7fa3073e0ae27bf487339f.jpg?imageView&amp;quality=90&amp;thumbnail=64x64&quot;,&quot;weixinOpenid&quot;:&quot;&quot;,&quot;sessionKey&quot;:&quot;&quot;,&quot;status&quot;:2,&quot;addTime&quot;:&quot;2023-08-11 10:37:50&quot;,&quot;updateTime&quot;:&quot;2023-08-11 11:38:32&quot;,&quot;deleted&quot;:false},{&quot;id&quot;:62,&quot;username&quot;:&quot;czc123&quot;,&quot;password&quot;:&quot;$2a$10$CDVT5W1oGx7VpmVbR/y3jeSuul3cK2fKHYgXO0RSoJEOIwLRl6NKy&quot;,&quot;gender&quot;:0,&quot;lastLoginTime&quot;:&quot;2023-08-12 09:04:19&quot;,&quot;lastLoginIp&quot;:&quot;171.43.248.189&quot;,&quot;userLevel&quot;:0,&quot;nickname&quot;:&quot;czc123&quot;,&quot;mobile&quot;:&quot;15374579055&quot;,&quot;avatar&quot;:&quot;https://yanxuan.nosdn.127.net/80841d741d7fa3073e0ae27bf487339f.jpg?imageView&amp;quality=90&amp;thumbnail=64x64&quot;,&quot;weixinOpenid&quot;:&quot;&quot;,&quot;sessionKey&quot;:&quot;&quot;,&quot;status&quot;:0,&quot;addTime&quot;:&quot;2023-08-10 21:36:07&quot;,&quot;updateTime&quot;:&quot;2023-08-12 09:04:19&quot;,&quot;deleted&quot;:false},{&quot;id&quot;:61,&quot;username&quot;:&quot;wangao4&quot;,&quot;password&quot;:&quot;$2a$10$SNfWiy4zIB9EZx39y5aaHuWgI32gC7.6V67l1OlreBPpWQHim0exe&quot;,&quot;gender&quot;:0,&quot;lastLoginTime&quot;:&quot;2023-08-10 19:59:31&quot;,&quot;lastLoginIp&quot;:&quot;171.113.241.66&quot;,&quot;userLevel&quot;:0,&quot;nickname&quot;:&quot;wangao4&quot;,&quot;mobile&quot;:&quot;13593956279&quot;,&quot;avatar&quot;:&quot;https://yanxuan.nosdn.127.net/80841d741d7fa3073e0ae27bf487339f.jpg?imageView&amp;quality=90&amp;thumbnail=64x64&quot;,&quot;weixinOpenid&quot;:&quot;&quot;,&quot;sessionKey&quot;:&quot;&quot;,&quot;status&quot;:0,&quot;addTime&quot;:&quot;2023-08-10 19:59:31&quot;,&quot;updateTime&quot;:&quot;2023-08-10 19:59:31&quot;,&quot;deleted&quot;:false}]},&quot;errmsg&quot;:&quot;æˆåŠŸ&quot;}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°çš„json</p><figure><img src="/assets/image-20230829160911344-DhzZn-io.png" alt="image-20230829160911344" tabindex="0" loading="lazy"><figcaption>image-20230829160911344</figcaption></figure><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserListVo</span><span class="token punctuation">{</span>
  <span class="token class-name">Object</span> data<span class="token punctuation">;</span> <span class="token comment">// è·Ÿç€{ å¯ä»¥Objectæˆ–Map</span>
  <span class="token class-name">String</span> errmsg<span class="token punctuation">;</span><span class="token comment">// è·Ÿç€ &quot;</span>
  <span class="token keyword">int</span> errno<span class="token punctuation">;</span> <span class="token comment">// è·Ÿç€æ•°æ®</span>
             <span class="token comment">// å¦‚æœè·Ÿç€[ å°±æ˜¯æ•°ç»„æˆ–Listç­‰é›†åˆç±»å‹</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/assets/image-20230829161523950-BzwDirrc.png" alt="image-20230829161523950" tabindex="0" loading="lazy"><figcaption>image-20230829161523950</figcaption></figure><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ListVo</span> <span class="token punctuation">{</span>
    <span class="token class-name">Integer</span> limit<span class="token punctuation">;</span>
    <span class="token class-name">List</span> list<span class="token punctuation">;</span>
    <span class="token class-name">Integer</span> page<span class="token punctuation">;</span>
    <span class="token class-name">Integer</span> total<span class="token punctuation">;</span>
    <span class="token class-name">Integer</span> pages<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/assets/image-20230829161617787-DZZqcKmU.png" alt="image-20230829161617787" tabindex="0" loading="lazy"><figcaption>image-20230829161617787</figcaption></figure><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ListVo</span> <span class="token punctuation">{</span>
    <span class="token class-name">Integer</span> limit<span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MarketUser</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">;</span>
    <span class="token class-name">Integer</span> page<span class="token punctuation">;</span>
    <span class="token class-name">Integer</span> total<span class="token punctuation">;</span>
    <span class="token class-name">Integer</span> pages<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>ä»‹ç»ä¸€ä¸ªå·¥å…· GsonFormatï¼ˆæˆ–GsonFormatPlusï¼‰ å®‰è£…ä¹‹åï¼Œåœ¨ç±»ä¸­ä½¿ç”¨alt+så¿«æ·é”®</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GsonFormatVo</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> errno<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">DataDTO</span> data<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> errmsg<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@NoArgsConstructor</span>
    <span class="token annotation punctuation">@Data</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">DataDTO</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token class-name">Integer</span> total<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">Integer</span> pages<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">Integer</span> limit<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">Integer</span> page<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MarketUser</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// alt + s</span>
    
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><blockquote><ol start="5"><li><p>å“åº”å¯¹åº”çš„JSONæ•°æ®</p><p>ä»¤Servletä¸­çš„æ–¹æ³•è¿”å›å€¼ä¸ºObjectï¼ŒBaseServletå°±ä¼šå°†è¿™ä¸ªObjectè½¬æ¢ä¸ºJsonå­—ç¬¦ä¸²ï¼Œç„¶åä½¿ç”¨å­—ç¬¦è¾“å‡ºæµå†™å‡º</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@SneakyThrows</span>
<span class="token keyword">public</span> <span class="token class-name">UserListVo</span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//Integer page = Integer.valueOf(request.getParameter(&quot;page&quot;));</span>
  <span class="token comment">//Integer limit = Integer.valueOf(request.getParameter(&quot;limit&quot;));</span>
  <span class="token comment">//String sort = request.getParameter(&quot;sort&quot;);</span>
  <span class="token comment">//String order = request.getParameter(&quot;order&quot;);</span>
  <span class="token class-name">BaseParam</span> baseParam <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BaseParam</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">BeanUtils</span><span class="token punctuation">.</span><span class="token function">copyProperties</span><span class="token punctuation">(</span>baseParam<span class="token punctuation">,</span>request<span class="token punctuation">.</span><span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      
  <span class="token class-name">UserMapper</span> mapper <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  baseParam<span class="token punctuation">.</span><span class="token function">initOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MarketUser</span><span class="token punctuation">&gt;</span></span> userList <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">selectUserList</span><span class="token punctuation">(</span>baseParam<span class="token punctuation">)</span><span class="token punctuation">;</span>
      
  <span class="token class-name">UserListVo</span> userListVo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserListVo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  userListVo<span class="token punctuation">.</span><span class="token function">setErrno</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  userListVo<span class="token punctuation">.</span><span class="token function">setErrmsg</span><span class="token punctuation">(</span><span class="token string">&quot;æˆåŠŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">ListVo</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ListVo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      
  data<span class="token punctuation">.</span><span class="token function">setList</span><span class="token punctuation">(</span>userList<span class="token punctuation">)</span><span class="token punctuation">;</span>
  data<span class="token punctuation">.</span><span class="token function">setPage</span><span class="token punctuation">(</span>baseParam<span class="token punctuation">.</span><span class="token function">getPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  data<span class="token punctuation">.</span><span class="token function">setLimit</span><span class="token punctuation">(</span>baseParam<span class="token punctuation">.</span><span class="token function">getLimit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      
  <span class="token comment">//data.setPages();</span>
  <span class="token comment">//data.setTotal();</span>
      
  userListVo<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> userListVo<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol></blockquote><h3 id="å°ç»“" tabindex="-1"><a class="header-anchor" href="#å°ç»“" aria-hidden="true">#</a> å°ç»“</h3><ol><li>æ‰¾Servlet</li><li>å¤„ç†è¯·æ±‚å‚æ•°</li><li><strong>åœ¨Servletä¸­æ ¹æ®å‚æ•°å®Œæˆå¯¹åº”ä¸šåŠ¡å¤„ç†(å¢åˆ æ”¹æŸ¥)</strong></li><li>è¿”å›å¯¹åº”çš„jsonæ•°æ®</li></ol><p>å†™ç†Ÿç»ƒäº† éƒ½æ˜¯æ´’æ´’æ°´</p><h3 id="ç»ƒä¹ é¢˜" tabindex="-1"><a class="header-anchor" href="#ç»ƒä¹ é¢˜" aria-hidden="true">#</a> ç»ƒä¹ é¢˜</h3><p><a href="http://101.43.69.31:8080/#/mall/region" target="_blank" rel="noopener noreferrer">market<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>http://101.43.69.31:8080</p><p>å¼€å‘å¯¹åº”çš„è¯·æ±‚ â†’ è¡Œæ”¿åŒºåŸŸ</p><ul><li>MyBatisçš„å¤šè¡¨æŸ¥è¯¢</li><li>æŸ¥è¯¢å‡ºæ¥ä½¿ç”¨Streamæ¥åšå°è£…ä¹Ÿå¯ä»¥</li></ul></div><!--[--><!----><!--]--><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/LSauce/JavaLearnCode/edit/main/src/java/javaee_spring/Content02-Request&amp;Response.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: ls_satan@qq.com">LSauce</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a aria-label="01. Servlet" class="vp-link nav-link prev nav-link prev" href="/java/javaee_spring/Content01-Servlet.html"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->01. Servlet</div></a><a aria-label="03. Conversation" class="vp-link nav-link next nav-link next" href="/java/javaee_spring/Content03-Conversation.html"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">03. Conversation<!----></div></a></nav><!----><!--[--><!----><!--]--><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">é»˜è®¤é¡µè„š</div><div class="vp-copyright">Copyright Â© 2024 çŸ³å¤´</div></footer></div><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-DnMTRoWd.js" defer></script>
  </body>
</html>
